{"version":3,"file":"AptTecImageViewer.bundle.js","mappings":"qBAAC,WACD,IAAIA,EAAO,CAAC,EAMZ,SAASC,IAA4B,oBAATC,SAA6DC,QAAQF,IAAIG,MAAMD,QAASE,UAAa,CAHjGC,EAAOC,QAAUP,EAKjD,SAAUA,GA2nCoC,IAAeQ,EAAEC,EAAEC,EAAEC,EAAEC,EAAIC,EAAIC,EAAIC,EAAIC,EACtEC,EAA0BC,EACgBC,EAA2BC,EACzCC,EAgaXC,EAvZ3BC,GApoCJ,WAAW,aAAa,IAAIC,EAAE,WAAc,SAASA,EAAEC,GAAGC,KAAKC,QAAQ,eAAeF,CAAC,CAAoE,OAAnED,EAAEI,UAAU,IAAIC,MAAML,EAAEI,UAAUE,KAAK,YAAYN,EAAEO,YAAYP,EAASA,CAAC,CAArI,GAAyIQ,EAAG,WAAc,IAAIP,EAAE,IAAIQ,WAAW,CAAC,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,EAAE,EAAE,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,EAAE,EAAE,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,KAAKC,EAAE,KAAKC,EAAG,IAAIC,EAAG,KAAKC,EAAG,KAAKC,EAAG,KAAKC,EAAG,KAAKC,EAAE,KAAKC,EAAG,KAAK,SAAST,EAAGU,GAAS,MAAHA,IAAQA,EAAE,CAAC,GAAU,MAALA,EAAExB,IAAQwB,EAAExB,GAAG,GAAEQ,KAAKb,EAAE6B,EAAEC,EAAEjB,KAAKX,EAAE2B,EAAExB,CAAC,CAAC,SAAS0B,EAAGF,EAAEzB,GAA2B,IAAxB,IAAa0B,EAAEE,EAAOC,EAAlBC,EAAE,EAAEC,EAAE,GAAOC,EAAE,GAAWA,EAAE,IAAIP,EAAEO,EAAE,IAAIA,IAAID,EAAEE,KAAK,CAACC,SAAS,GAAGC,MAAM,IAAI,IAAIC,EAAEL,EAAE,GAAG,IAAIL,EAAE,EAAEA,EAAEM,EAAEN,IACnoB,CAAC,IAAIE,EAAE,EAAEA,EAAEH,EAAEC,GAAGE,IAAI,CAAoC,KAAnCQ,EAAEL,EAAEM,OAAQH,SAASE,EAAED,OAAOnC,EAAE8B,GAASM,EAAED,MAAM,GAAGC,EAAEL,EAAEM,MAA0B,IAApBD,EAAED,QAAQJ,EAAEE,KAAKG,GAASL,EAAEO,QAAQZ,GAAGK,EAAEE,KAAKJ,EAAE,CAACK,SAAS,GAAGC,MAAM,IAAIC,EAAEF,SAASE,EAAED,OAAON,EAAEK,SAASE,EAAEP,EAAEC,GAAG,CAAIJ,EAAE,EAAEM,IAAGD,EAAEE,KAAKJ,EAAE,CAACK,SAAS,GAAGC,MAAM,IAAIC,EAAEF,SAASE,EAAED,OAAON,EAAEK,SAASE,EAAEP,EAAE,CAAC,OAAOE,EAAE,GAAGG,QAAQ,CAAC,SAASK,EAAGd,EAAEzB,EAAE8B,GAAG,OAAO,KAAKL,EAAEe,EAAE,GAAGxC,EAAE8B,EAAE,CAAC,SAASW,EAAGhB,EAAEzB,EAAE8B,EAAEC,EAAEL,EAAEE,EAAEI,EAAEI,EAAEP,EAAEa,GAAS,MAAHA,IAAQA,GAAE,GAAG,IAAoCC,EAAOC,EAAE7C,EAAE8C,EAAE/C,EAAEP,EAAEI,EAAMmD,EAAEjD,EAAEkD,EAAEC,EAA7DC,EAAEnB,EAAEoB,EAAE1D,EAAEsC,EAAErC,EAAE0D,EAAEnD,EAAEoD,EAAE,EAAExD,EAAE,EAAEyD,EAAE,EAAElD,EAAE,EAAKmD,EAAE,EAAcC,EAAE,EAAU,SAASC,IAAI,GAAG5D,EAAE,EAAO,OAAJA,IAAWwD,GAAGxD,EAAE,EAAW,GAAO,OAAhBwD,EAAE3B,EAAEzB,MAAgB,CAAC,IAAIyD,EAAEhC,EAAEzB,KAAK,GAAGyD,EAAE,CAAC,GAAO,MAAJA,GAASf,EAAE,CAAM,IAAIgB,EAAEjE,EAAEgC,EAAbzB,GAAG,GAAoB,GAALA,GAAG,EAAK0D,EAAE,GAAGA,IAAI5B,EAAEP,EAAG,MAAM,IAAIoC,eAAe,oDAAoDD,EAAG,MAAM,GAAO,MAAJD,EAAQ,CAAC,GAAGf,EAAE,CAAC,IAAIkB,EAAI,EAAFN,EACvrB,GAAGM,EAAE,GAAGA,EAAE9B,EAAEP,EAAE,GAAI,MAAM,IAAIoC,eAAe,wGAA2GC,EAAG,CAAC,MAAM,IAAIC,eAAe,oDAAoD,CAAC,MAAM,IAAItD,EAAE,oBAAoB,CAAC,CAAK,OAAJX,EAAE,EAASwD,IAAI,CAAC,CAAC,SAAS1D,EAAE+D,GAAW,IAAR,IAAIC,EAAED,IAAW,CAAU,cAATC,EAAEA,EAAEF,OAAsB,IAAI,SAAS,OAAOE,EAAE,IAAI,SAAS,SAAS,MAAM,IAAInD,EAAE,2BAA2B,CAAC,CAAC,SAAS2C,EAAEO,GAAW,IAAR,IAAIlE,EAAE,EAAQkE,EAAE,GAAGlE,EAAEA,GAAG,EAAEiE,IAAIC,IAAI,OAAOlE,CAAC,CAAC,SAASuE,EAAEL,GAAG,GAAO,IAAJA,EAAO,OAAa,IAAND,IAAQ,GAAG,EAAE,IAAIjE,EAAE2D,EAAEO,GAAG,OAAGlE,GAAG,GAAGkE,EAAE,EAAUlE,EAASA,IAAI,GAAGkE,GAAG,CAAC,CAE5e,SAASpD,EAAEuC,EAAEa,EAAEF,EAAEG,EAAEE,GAAG,IAAY1D,EAAEqD,EAAEN,EAAEK,GAAZC,EAAEN,EAAE,GAAYL,EAAEmB,EAAEL,EAAE,IAAIK,EAAE7D,EAAE0C,EAAE5C,EAAE4D,EAAcH,EAAEb,EAAZL,EAAGK,EAAEU,EAAES,GAAS,CAAC,SAAS9D,EAAE2C,EAAEa,EAAEF,GAAGD,EAAEC,EAAEX,EAAEJ,EAAE,EAAE,IAAIkB,EAAEH,EAAEX,EAAEJ,EAAciB,EAAEb,EAAZL,EAAGK,EAAEU,EAAEI,GAAS,CAAC,IAAIM,EAAEjC,EAAEO,OAAsG,IAA/E3C,EAAbH,EAAU,IAAJoC,EAAa,IAAJQ,EADtI,SAAWQ,EAAEa,GAAG,IAAIC,EAAEhE,EAAEkD,EAAEQ,GAAGQ,EAAM,IAAJF,EAAM,EAAEI,EAAEJ,IAAI7B,EAAEe,EAAEzC,EAAEsD,GAAGb,EAAEnB,GAAGmC,CAAC,EAAC,SAAWhB,EAAEa,GAAGb,EAAEzC,EAAEsD,IAAID,KAAK3B,CAAC,EACgE,IAAJO,EAD3D,SAAWQ,EAAEa,GAAG,GAAGJ,EAAE,EAAGA,SAAuB,IAAZ,IAAIvD,EAAE8B,EAAE8B,EAAE1B,EAAQlC,GAAG4D,GAAE,CAAC,IAAIE,EAAElE,EAAEkD,EAAE1C,GAAG+D,EAAI,GAAFL,EAAK1D,EAAE0D,GAAG,EAAE,GAAO,IAAJK,EAAH,CAA6D,IAAIF,EAAEvD,EAAXV,GAAGI,GAAa0C,EAAEzC,EAAEsD,EAAEM,GAAGD,EAAEG,IAAI,GAAGpC,GAAG/B,GAAtC,KAAvD,CAAU,GAAGI,EAAE,GAAG,CAACmD,EAAEH,EAAEhD,IAAI,GAAGA,GAAG,EAAE,KAAK,CAACJ,GAAG,EAAW,CAAyC,CAAC,EAAC,SAAY8C,EAAEa,GAAuB,IAApB,IAAgBQ,EAAE/D,EAAdJ,EAAE8B,EAAE8B,EAAE1B,EAAE4B,EAAE,EAAY9D,GAAG4D,GAAE,CAAC,IAAIK,EAAEN,EAAEjD,EAAEV,GAAGoE,EAAEtB,EAAEzC,EAAE4D,GAAG,GAAG,EAAE,EAAE,OAAO5D,GAAG,KAAK,EAAyB,GAAPyD,GAAhB1D,EAAER,EAAEkD,EAAE1C,KAAe,EAAS,IAArB+D,EAAI,GAAF/D,GAAyB0D,EAAE,IAAIP,EAAEH,EAAEU,IAAI,GAAGA,GAAGzD,EAAE,IAAOyD,EAAE,GAAGzD,EAAE,OAAO,CAAC,GAAO,IAAJ8D,EAAO,MAAM,IAAI1D,EAAE,wBAAwBoC,EAAGmB,EAAEG,GAAG9D,EAAEyD,EAAE,EAAE,CAAC,CAAC,SAAS,KAAK,EAAE,KAAK,EAAKhB,EAAEzC,EAAE4D,GAAInB,EAAEzC,EAAE4D,IAAIG,GAAGV,KAAK3B,GAAmB,KAAX+B,IAAczD,EAAM,IAAJA,EAAM,EAAE,GAAG,MAAM,KAAK,EAAKyC,EAAEzC,EAAE4D,GAAInB,EAAEzC,EAAE4D,IAAIG,GAAGV,KAAK3B,IAAQe,EAAEzC,EAAE4D,GAAGpB,GAAId,EACjxB1B,EAAE,GAAE,MAAM,KAAK,EAAKyC,EAAEzC,EAAE4D,KAAInB,EAAEzC,EAAE4D,IAAIG,GAAGV,KAAK3B,IAAS/B,GAAG,CAAQ,IAAJK,GAAkB,KAAXkD,IAAclD,EAAE,EAAG,EAF8e,SAAWyC,EAAEa,GAAG,IAAIC,EAAEhE,EAAEkD,EAAEQ,GAAGQ,EAAM,IAAJF,EAAM,EAAEI,EAAEJ,GAAG5D,EAAE,EACpmB,IAAd8C,EAAEzC,EAAEsD,GAAGb,EAAEnB,GAAGmC,EAAQ9D,EAAE,IAAG,CAAC,IAAImE,EAAEvE,EAAEkD,EAAE1C,GAAGA,EAAI,GAAF+D,EAAKF,EAAEE,GAAG,EAAE,GAAO,IAAJ/D,EAAH,CAA6C,IAAIgE,EAAE1D,EAAXV,GAAGiE,GAAanB,EAAEzC,EAAEsD,EAAES,GAAGJ,EAAE5D,GAAGJ,GAA/B,KAAvC,CAAU,GAAGiE,EAAE,GAAI,MAAMjE,GAAG,EAAW,CAAkC,CAAC,EACuLD,EAAH,IAAJmE,EAASjC,EAAE,GAAGS,EAAET,EAAE,GAAGiB,EAASC,EAAEnB,EAAEiB,EAAQQ,GAAG1D,GAAE,CAAC,IAAIO,EAAEsB,EAAEyC,KAAKC,IAAIvE,EAAE0D,EAAE7B,GAAG7B,EAAE,GAAGO,EAAE,EAAE,CAAC,IAAIL,EAAE,EAAEA,EAAEiE,EAAEjE,IAAKgC,EAAEhC,GAAG0B,EAAE,EAAM,GAAJ4B,EAAE,EAAS,IAAJW,EAAc,IAAPpB,EAAEb,EAAE,GAAOxC,EAAE,EAAEA,EAAEa,EAAEb,IAAKU,EAAE2C,EAAEjD,EAAE4D,GAAGA,SAAU,IAAIhE,EAAE,EAAEA,EAAEa,EAC9db,IAAI,CAAC,IAAIQ,EAAE,EAAEA,EAAEiE,EAAEjE,IAAwB,IAAZgD,GAAPH,EAAEb,EAAEhC,IAAOC,EAAEgD,EAAEJ,EAAEmB,EAAMlB,EAAE,EAAEA,EAAEG,EAAEH,IAAK,IAAI/C,EAAE,EAAEA,EAAEiD,EAAEjD,IAAKO,EAAEuC,EAAEjD,EAAE4D,EAAEV,EAAE/C,GAAKyD,GAAG,CAAE,CAAe,GAAd3D,EAAE,IAAEkD,EAAEuB,EAAG5C,EAAEzB,IAAU,MAA6D,GAApD8C,EAAEpD,IAAuCM,EAAE8C,EAAEwB,UAAUxB,EAAEc,GAAG,OAAOd,EAAEc,GAAG,OAAiB,MAAV5D,GAAG,CAAa,CAAC,OAAOA,EAAEmD,CAAC,CAAC,SAASoB,EAAG9C,EAAEzB,EAAE8B,GAAG,IAAgBF,EAAEI,EAAEI,EAAEP,EAAEa,EAAEO,EAAEzD,EAAE2D,EAAEC,EAAExD,EAAE4D,EAAE9D,EAAEwD,EAAEY,EAAEU,EAAEC,EAAEC,EAA5C3C,EAAEN,EAAEgD,EAAE/C,EAAED,EAAEtB,EAAoC,IAAI4B,EAAG,MAAM,IAAIxB,EAAE,wCAAwC,IAAI,IAAI8C,EAAE,EAAEA,EAAE,GAAGA,GAAG,EAAGD,EAAE1B,EAAE1B,EAAEqD,GAAGzD,EAAE8B,EAAE1B,EAAEqD,EAAE,GAAGG,EAAE9B,EAAE1B,EAAEqD,EAAE,GAAG3D,EAAEgC,EAAE1B,EAAEqD,EAAE,GAAGH,EAAExB,EAAE1B,EAAEqD,EAAE,GAAGS,EAAEpC,EAAE1B,EAAEqD,EAAE,GAAGmB,EAAE9C,EAAE1B,EAAEqD,EAAE,GAAGoB,EAAE/C,EAAE1B,EAAEqD,EAAE,GAAGD,GAAGrB,EAAEsB,GAAwB,IAAjBzD,EAAE4D,EAAE9D,EAAEwD,EAAEY,EAAEU,EAAEC,IAAqG7E,GAAGmC,EAAEsB,EAAE,GAAGG,GAAGzB,EAAEsB,EAAE,GAAG3D,GAAGqC,EAAEsB,EAAE,GAAGH,GAAGnB,EAAEsB,EAAE,GAAGS,GAAG/B,EAAEsB,EAAE,GAAGmB,GAAGzC,EAAEsB,EAAE,GAAGoB,GAAG1C,EAAEsB,EAAE,GAC7nBrB,GAAXJ,GAD2oBA,EAAEL,EAAE6B,EAAE,KAAK,IAAEpB,EAAET,EAAE2B,EAAE,KAAK,GAC7pB,GAAG,GAAMlB,EAAE0C,GADopBtC,EAAEoB,GAClpBlC,GADopBO,EAAE2C,GACjpBnD,EAAG,KAAK,EAAEe,EAAEA,EAAEf,EAAGQ,EAAEP,EAAG,KAAK,EAAiB9B,GAAXkD,GADknBA,EAAElB,GAAI5B,EAAE6E,GAAG,KAAK,IACpsBjF,EAAEsE,GAAG,GAAmE,GAAG,GAAMtE,EAAayD,GAAXE,GADmnBA,EAAE3B,GAAI5B,EAAE6E,GAAG,KAAK,IAC7tBxB,EAAEvD,GAAG,GAA2F,GAAG,GAAMuD,EAAapB,GAAXD,EAAEA,GAAxCC,EAAE6C,GAA0C,GAAG,GAAM7C,EAAaO,GAAXJ,EAAEA,EAAEI,EAAE,GAAG,GAAMA,EAAEsC,EAAEhC,EAAEtB,EAAG+B,EAAEhC,EAAG,MAAM,GAAGuB,EAAEA,EAAEvB,EAAGgC,EAAE/B,EAAG,MAAM,GAAG+B,EAAEuB,EAAEA,EAAEzB,EAAE/B,EAAG1B,EAAEyB,EAAE,MAAM,GAAGgC,EAAEA,EAAEhC,EAAEzB,EAAE0B,EAAG,MAAM,GAAG1B,EAAEkF,EAAE5C,EAAEuB,GAAGzB,EAAEuB,EAAErB,EAAEuB,EAAE,GAAGzB,EAAEuB,EAAErB,EAAEuB,EAAE,GAAGrB,EAAExC,EAAEsC,EAAEuB,EAAE,GAAGrB,EAAExC,EAAEsC,EAAEuB,EAAE,GAAGjB,EAAEa,EAAEnB,EAAEuB,EAAE,GAAGjB,EAAEa,EAAEnB,EAAEuB,EAAE,GAAGxB,EAAEa,EAAEZ,EAAEuB,EAAE,GAAGxB,EAAEa,IAD2LgC,EAAEnD,EAAE6B,EAAE,KAAK,GAAGtB,EAAEuB,GAAGqB,EAAE5C,EAAEuB,EAAE,GAAGqB,EAAE5C,EAAEuB,EAAE,GAAGqB,EAAE5C,EAAEuB,EAAE,GAAGqB,EAAE5C,EAAEuB,EAAE,GAAGqB,EAAE5C,EAAEuB,EAAE,GAAGqB,EAAE5C,EAAEuB,EAAE,GAAGqB,EAAE5C,EAAEuB,EAAE,GAAGqB,GAC3Q,IAAI,IAAIlC,EAAE,EAAEA,EAAE,IAAIA,EAAGY,EAAEtB,EAAEU,GAA6F,KAA1F5C,EAAEkC,EAAEU,EAAE,KAAGgB,EAAE1B,EAAEU,EAAE,MAAI9C,EAAEoC,EAAEU,EAAE,MAAIU,EAAEpB,EAAEU,EAAE,MAAIsB,EAAEhC,EAAEU,EAAE,MAAIgC,EAAE1C,EAAEU,EAAE,MAAIiC,EAAE3C,EAAEU,EAAE,OAAgTR,GAAlBJ,EAAa,OAAnGA,EAAEL,EAAE6B,EAAE,MAAM,KAAGpB,EAAET,EAAE2B,EAAE,MAAM,IAAkE,GAAG,IAAYlB,EAAE0C,GAAhFtC,EAAEoB,GAAkFlC,GAAhFO,EAAE2C,GAAmFnD,EAAG,MAAM,GAAGe,EAAEA,EAAEf,EAAGQ,EAAEP,EAAG,MAAM,GAAGO,EAAE6C,EAAalF,GAAXkD,GAAtHA,EAAElB,GAAI5B,EAAE6E,GAAG,MAAM,KAA2BjF,EAAEsE,GAA8E,GAAG,GAAMtE,EAAayD,GAAXE,GAAnHA,EAAE3B,GAAI5B,EAAE6E,GAAG,MAAM,KAAGxB,EAAEvD,GAAmG,GAAG,GAAMuD,EAAoCyB,EAAEhC,EAAEtB,EAAG+B,EAAEhC,EAAG,MAAM,GAAGuB,EAAEA,EAAEvB,EAAGgC,EAAE/B,EAAG,MAAM,GAAG+B,EAAEuB,EAC92BA,EAAEzB,EAAE/B,EAAG1B,EAAEyB,EAAE,MAAM,GAAGgC,EAAEA,EAAEhC,EAAEzB,EAAE0B,EAAG,MAAM,IAAOkC,GADovBxB,EAAEA,EAAEC,EAAE,GAAG,GACzvBsB,GAAiD,GAAIC,EAAE,EAAUA,GAAG,KAAMA,EAAE,IAASA,IAAI,GAAjFxD,GADyvBoC,EAAEA,EAAEI,EAAE,GAAG,IAClxB5C,EAAEkF,IAAsG,GAAI9E,EAAE,EAAUA,GAAG,KAAMA,EAAE,IAASA,IAAI,GAApH4D,GADwvBpB,EAAEJ,EAAEI,GACxvBa,GAAuH,GAAIO,EAAE,EAAUA,GAAG,KAAMA,EAAE,IAASA,IAAI,GAAvJ9D,GAD2tBmC,EAAED,EAAEC,GAC3tBa,GAA0J,GAAIhD,EAAE,EAAUA,GAAG,KAAMA,EAAE,IAASA,IAAI,GAAhMwD,EAAErB,EAAEa,GAAmM,GAAIQ,EAAE,EAAUA,GAAG,KAAMA,EAAE,IAASA,IAAI,GAA3PY,EAAE1B,EAAEa,GAA8P,GAAIa,EAAE,EAAUA,GAAG,KAAMA,EAAE,IAASA,IAAI,GAAtTU,EAAExC,EAAExC,GAAyT,GAAIgF,EAAE,EAAUA,GAAG,KAAMA,EAAE,IAASA,IAAI,GAAjXC,EAAE7C,EAAEuB,GAAoX,GAAIsB,EAAE,EAAUA,GAAG,KAAMA,EAAE,IAASA,IAAI,EAAE/C,EAAE1B,EAAEwC,GAAGY,EAC3d1B,EAAE1B,EAAEwC,EAAE,GAAG5C,EAAE8B,EAAE1B,EAAEwC,EAAE,IAAIgB,EAAE9B,EAAE1B,EAAEwC,EAAE,IAAI9C,EAAEgC,EAAE1B,EAAEwC,EAAE,IAAIU,EAAExB,EAAE1B,EAAEwC,EAAE,IAAIsB,EAAEpC,EAAE1B,EAAEwC,EAAE,IAAIgC,EAAE9C,EAAE1B,EAAEwC,EAAE,IAAIiC,IAFgYC,GAA3BA,EAAEnD,EAAE6B,EAAE,MAAM,KAAS,KAAQ,EAAUsB,GAAG,KAAQ,IAAWA,EAAE,MAAM,EAAEhD,EAAE1B,EAAEwC,GAAGkC,EAAEhD,EAAE1B,EAAEwC,EAAE,GAAGkC,EAAEhD,EAAE1B,EAAEwC,EAAE,IAAIkC,EAAEhD,EAAE1B,EAAEwC,EAAE,IAAIkC,EAAEhD,EAAE1B,EAAEwC,EAAE,IAAIkC,EAAEhD,EAAE1B,EAAEwC,EAAE,IAAIkC,EAAEhD,EAAE1B,EAAEwC,EAAE,IAAIkC,EAAEhD,EAAE1B,EAAEwC,EAAE,IAAIkC,EAEpgB,CAAC,SAASC,EAAGlD,EAAEzB,GAAwC,IAArC,IAAI8B,EAAE9B,EAAEwC,EAAET,EAAE/B,EAAEgD,EAAEtB,EAAE,IAAIkD,WAAW,IAAYhD,EAAE,EAAEA,EAAEG,EAAEH,IAAK,IAAI,IAAII,EAAE,EAAEA,EAAEF,EAAEE,IAAqBuC,EAAGvE,EAAbuC,EAAGvC,EAAE4B,EAAEI,GAAUN,GAAI,OAAO1B,EAAEG,CAAC,CAAC,SAASkE,EAAG5C,EAAEzB,EAAE8B,GAAS,MAAHA,IAAQA,EAAE9B,GAAE,IAAI+B,EAAEN,EAAEa,OAAO,EAAEZ,EAAEI,EAAE9B,EAAE8B,EAAE9B,EAAE,GAAGA,GAAG+B,EAAG,OAAO,KAAK,IAAIH,EAAEnC,EAAEgC,EAAEzB,GAAG,GAAG4B,GAAG,OAAOA,GAAG,MAAO,MAAM,CAAClC,EAAE,KAAKkE,EAAEhC,EAAE0C,OAAOtE,GAAgB,IAAb,IAAIgC,EAAEvC,EAAEgC,EAAEC,KAAWM,GAAG,OAAOA,GAAG,QAAO,CAAC,KAAKN,GAAGK,EAAG,OAAO,KAAKC,EAAEvC,EAAEgC,EAAEC,EAAE,CAAC,MAAM,CAAChC,EAAEkC,EAAEiD,SAAS,IAAIjB,EAAE5B,EAAEsC,OAAO5C,EAAE,CAUlH,OAVmHX,EAAGJ,UAAU,CAAC,KAAAmE,CAAMrD,EAAEzB,GAAS,MAAHA,IAAQA,EAAE,CAAC,GACngB,IAA4B6B,EAAEa,EAA1BZ,EAAE9B,EAAE6B,EAAED,EAAE,EAAEI,EAAE,KAAKI,EAAE,KAASa,EAAE,EAAE,SAASlB,IAAI,IAAImC,EAAEzE,EAAEgC,EAAEG,GAAYmD,GAATnD,GAAG,GAAUsC,EAAE,EAAEtE,EAAEyE,EAAG5C,EAAEsD,EAAEnD,GAAMhC,GAAGA,EAAEF,IAAGqF,EAAEnF,EAAE0E,QAAO,IAAIU,EAAGvD,EAAEwD,SAASrD,EAAEmD,GAAgB,OAAbnD,GAAGoD,EAAG1C,OAAc0C,CAAE,CAAC,SAAStD,EAAEG,GAAqD,IAAlD,IAAIqC,EAAEC,KAAKe,KAAKrD,EAAEqC,EAAE,EAAErC,EAAEe,GAAGmC,EAAEZ,KAAKe,KAAKrD,EAAEN,EAAE,EAAEM,EAAEkD,GAAWvB,EAAE,EAAEA,EAAE3B,EAAEtB,EAAE+B,OAAOkB,IAAI,CAACT,EAAElB,EAAEtB,EAAEiD,GAAG,IAAIwB,EAAGb,KAAKe,KAAKf,KAAKe,KAAKrD,EAAEqC,EAAE,GAAGnB,EAAE/C,EAAE6B,EAAEe,GAAGuC,EAAGhB,KAAKe,KAAKf,KAAKe,KAAKrD,EAAEN,EAAE,GAAGwB,EAAEgB,EAAElC,EAAEkD,GAAGK,EAAGlB,EAAEnB,EAAE/C,EAAWqF,EAANN,EAAEhC,EAAEgB,EAAK,IAAOqB,EAAG,GAAGrC,EAAE5C,EAAE,IAAIyE,WAAWS,GAAItC,EAAEP,EAAEwC,EAAGjC,EAAEC,EAAEmC,CAAE,CAACtD,EAAEqB,EAAEgB,EAAErC,EAAEkB,EAAEgC,CAAC,CAAC,IAAIvF,EAAE,GAAG2D,EAAE,GAAGC,EAAE,GAAGxD,EAAEH,EAAEgC,EAAEG,GAAQ,GAALA,GAAG,EAAS,QAAJhC,EAAW,MAAM,IAAIW,EAAE,iBAAiBX,EAAEH,EAAEgC,EAAEG,GAC7fA,GAAG,EAAE0D,EAAW,KAAU,QAAJ1F,GAAU,CAAC,IAAI4D,EAAE9D,EAAEwD,EAAE,OAAOtD,GAAG,KAAK,MAAM,KAAK,MAAM,KAAK,MAAM,KAAK,MAAM,KAAK,MAAM,KAAK,MAAM,KAAK,MAAM,KAAK,MAAM,KAAK,MAAM,KAAK,MAAM,KAAK,MAAM,KAAK,MAAM,KAAK,MAAM,KAAK,MAAM,KAAK,MAAM,KAAK,MAAM,KAAK,MAAM,IAAIkE,EAAE/B,IAAW,QAAJnC,GAAqB,KAAPkE,EAAE,IAAgB,KAAPA,EAAE,IAAgB,KAAPA,EAAE,IAAgB,KAAPA,EAAE,IAAgB,IAAPA,EAAE,KAAQ9B,EAAE,CAACuD,QAAQ,CAAC7C,EAAEoB,EAAE,GAAGb,EAAEa,EAAE,IAAInE,EAAEmE,EAAE,GAAGA,EAAEA,EAAE,IAAI,EAAEA,EAAE,GAAGzD,EAAEyD,EAAE,KAAK,EAAEA,EAAE,IAAIG,EAAEH,EAAE,IAAIL,EAAEK,EAAE,IAAI1B,EAAE0B,EAAEmB,SAAS,GAAG,GAAG,EAAEnB,EAAE,IAAIA,EAAE,OAAc,QAAJlE,GAAqB,KAAPkE,EAAE,IAAgB,MAAPA,EAAE,IAAiB,MAAPA,EAAE,IAAiB,KAAPA,EAAE,IAAgB,MAAPA,EAAE,KAAU1B,EAAE,CAACmD,QAAQzB,EAAE,IAAI,EAAEA,EAAE,GAAGhB,EAAEgB,EAAE,IAAI,EAAEA,EAAE,GAAGR,EAAEQ,EAAE,IAAI,EAAEA,EAAE,IAAI9B,EAAE8B,EAAE,MAAM,MACnkB,KAAK,MAAsC,IAAhC,IAAwBW,EAAlBhF,EAAEgC,EAAEG,IAAKA,GAAG,GAAY,EAAQA,EAAE6C,GAAE,CAAC,IAAIpB,EAAE5B,EAAEG,KAAKY,EAAE,IAAIgD,YAAY,IAAI,GAAGnC,GAAG,GAAI,EAAG,IAAI3D,EAAE,EAAEA,EAAE,GAAGA,IAAY8C,EAALhC,EAAEd,IAAQ+B,EAAEG,SAAW,IAAGyB,GAAG,GAAI,EAAmD,MAAM,IAAI9C,EAAE,4BAA5D,IAAIb,EAAE,EAAEA,EAAE,GAAGA,IAAY8C,EAALhC,EAAEd,IAAQD,EAAEgC,EAAEG,GAAGA,GAAG,CAA+C,CAACpC,EAAI,GAAF6D,GAAMb,CAAC,CAAC,MAAM,KAAK,MAAM,KAAK,MAAM,KAAK,MAAM,GAAGX,EAAG,MAAM,IAAItB,EAAE,qCAAqCqB,GAAG,GAAEC,EAAE,CAAC,GAAIE,EAAM,QAAJnC,EAAUiC,EAAEpC,EAAM,QAAJG,EAAUiC,EAAE4D,UAAUhE,EAAEG,KAAK,IAAa8D,EAATvF,EAAEV,EAAEgC,EAAEG,GAAM0B,EAAE,EAAEjD,EAAE,EAAEuB,GAAG,EAAEC,EAAEN,EAAEO,GAAG3B,EAAE0B,EAAEqC,EAAEzE,EAAEgC,EAAEG,GAAGA,GAAG,EAAEC,EAAEtB,EAAE,GAAGsB,EAAEgB,EAAE,CAAC,EAAE,IAAIF,EAAGlB,EAAEG,KAAK,IAAI4B,EAAE,EAAEA,EAAEb,EAAGa,IAAI,CAACkC,EAAGjE,EAAEG,GAAG,IAAI3B,EAAEwB,EAAEG,EAAE,IAAI,EAAEoC,EAAS,GAAPvC,EAAEG,EAAE,GAAS0B,EAAErD,IAAGqD,EAAErD,GAAKI,EAAE2D,IAAG3D,EAAE2D,GAAE,IAAIpB,EAAEnB,EAAEG,EAAE,GAAGsB,EAAErB,EAAEtB,EAAE0B,KAAK,CAACjC,EAAEC,EAAE8D,EAAEC,EAAE5D,EAAIqE,EAAE,OAAO5C,EAAEgB,EAAE6C,GAAIxC,EAAE,EAAEtB,GAAG,CAAC,CAACC,EAAEe,EAAEU,EAAEzB,EAAEkD,EAAE1E,EAAEqB,EAAEG,GAAG,MAAM,KAAK,MAAM,IAAI9B,EAAEN,EAAEgC,EAAEG,GAClqB,IADqqBA,GAAG,EACpqB4B,EAAE,EAAEA,EAAEzD,GAAG,CAAC,IAAI8C,EAAEpB,EAAEG,KAAK9B,EAAE,IAAIkB,WAAW,IAAIzB,EAAE,EAAE,IAAIG,EAAE,EAAEA,EAAE,GAAGA,IAAIkC,IAAKrC,GAAGO,EAAEJ,GAAG+B,EAAEG,GAAG,IAAIjC,EAAE,IAAIqB,WAAWzB,GAAG,IAAIG,EAAE,EAAEA,EAAEH,EAAEG,IAAIkC,IAAKjC,EAAED,GAAG+B,EAAEG,GAAG4B,GAAG,GAAGjE,GAAGsD,GAAG,GAAI,EAAEO,EAAED,GAAK,GAAFN,GAAMlB,EAAG7B,EAAEH,EAAE,CAAC,MAAM,KAAK,MAAW+C,EAAEjD,EAAEgC,EAATG,GAAG,GAAWA,GAAG,EAAE,MAAM,KAAK,MAAM,IAAkBmB,EAAdQ,EAAQ,KAAJN,IAAQnB,EAAIF,GAAG,EAAE,IAAIkB,EAAErB,EAAEG,KAAK/B,EAAE,GAAG,IAAI2D,EAAE,EAAEA,EAAEV,EAAEU,IAAI,CAAC,IAAIR,EAAEvB,EAAEG,KAAKxB,EAAEyB,EAAEgB,EAAEG,IAAGD,EAAElB,EAAEtB,EAAEH,IAAK+B,MAAMa,EAAE,IAAI2C,EAAGlE,EAAEG,KAAKmB,EAAEK,EAAEA,EAAEuC,GAAI,GAAG5C,EAAE7C,EAAEiD,EAAK,GAAHwC,GAAO9F,EAAEoC,KAAKc,EAAE,CAAC,IAAIU,EAAEhC,EAAEG,KAAK8B,EAAEjC,EAAEG,KAAKgC,EAAEnC,EAAEG,KAAK,IAAI,IAAIqC,EAAExB,EAAGhB,EAAEG,EAAEC,EAAEhC,EAAE6C,EAAEe,EAAEC,EAAEE,GAAG,EAAI,GAAFA,EAAKL,GAAG3B,GAAGqC,CAAC,CAAC,MAAM2B,GAAI,GAAGA,aAAcjC,eAAgB,OAAOlD,KAAKqE,MAAMrD,EAAE,CAACI,EAAE+D,EAAGrE,IAAS,GAAGqE,aAAc/B,eAAgB,MAAMyB,EAAW,MAAMM,CAAE,CAAC,MAAM,KAAK,MAAMhE,GAAG,EAAE,MAAM,KAAK,MAAgB,MAAPH,EAAEG,IAAUA,IAAI,MAAM,QAAQ,IAAI1B,EAAEmE,EAAG5C,EAAEG,EAAE,EAAEA,EAAE,GAAG,GAAG1B,GAAGA,EAAER,EAAE,CAACkC,EAAE1B,EAAEoE,OAAO,KAAK,CAAC,GAAG1C,GAAGH,EAAEa,OAAO,EAAG,MAAMgD,EAAW,MAAM,IAAI/E,EAAE,qCAAqCX,EAAEiF,SAAS,KAAKjF,EAAEH,EAAEgC,EAAEG,GAAGA,GAAG,CAAC,CAA4D,IAA3DnB,KAAKoF,MAAMhE,EAAEqC,EAAEzD,KAAKqF,OAAOjE,EAAEN,EAAEd,KAAKZ,EAAEmC,EAAEvB,KAAKiE,EAAEtC,EAAE3B,KAAKF,EAAE,GAAOiD,EAAE,EAAEA,EAAE3B,EAAEtB,EAAE+B,OAAOkB,IAAI,CACl5B,IAAIO,GAAEvE,GAD64BuD,EAAElB,EAAEtB,EAAEiD,IAC/4BpD,GAAM2D,KAAGhB,EAAE0B,EAAEV,IAAEtD,KAAKF,EAAE0B,KAAK,CAACE,MAAMY,EAAEZ,MAAM5C,EAAEoF,EAAG9C,EAAEkB,GAAGW,EAAEX,EAAE/C,EAAE6B,EAAEe,EAAE3B,EAAE8B,EAAEgB,EAAElC,EAAEkD,EAAEvC,EAAEO,EAAEP,EAAEQ,EAAED,EAAEC,GAAG,CAACvC,KAAKD,EAAEC,KAAKF,EAAE+B,MAAuB,EAAE,CAAAkB,CAAE/B,EAAEzB,EAAE8B,GAAS,MAAHA,IAAQA,GAAE,GAAG,IAAmCF,EAAEI,EAAEI,EAAEP,EAAEa,EAAEO,EAAEzD,EAAE2D,EAAEC,EAAExD,EAAMF,EAAuF2D,EAA9ItB,EAAEtB,KAAKoF,MAAMpE,EAAEC,EAAEjB,KAAKqF,OAAO9F,EAAsBwD,EAAE,EAAIN,EAAEzC,KAAKF,EAAE+B,OAAOwB,EAAErC,EAAEzB,EAAEkD,EAAEsB,EAAE,IAAIuB,kBAAkBjC,GAAGW,EAAE,IAAIuB,YAAYvE,GAAGiD,EAAE,WAAa,IAAIlF,EAAE,EAAEA,EAAE0D,EAAE1D,IAAI,CAAkD,GAArCwC,GAAZJ,EAAEnB,KAAKF,EAAEf,IAAOkE,EAAE3B,EAAEK,EAAER,EAAEX,EAAES,EAAE8B,EAAEhE,EAAEE,EAAEkC,EAAErC,EAAEsC,EAAED,EAAEY,EAAE,GAAG,EAAKR,IAAIqB,EAAE,CAAC,IAAIX,EAAE,EAAEA,EAAEjB,EAAEiB,IAAKS,EAAE,EAAET,EAAEV,EAAEyC,EAAE/B,IAAIS,EAAEuB,IAAI,EAAI,EAAFvB,EAAIE,EAAErB,CAAC,CAAC,IAAIiB,EAAE,EAAEA,EAAEjD,EAAEiD,IAAgC,IAAnBrD,EAAEiC,IAAVsB,EAAE,EAAEF,EAAEb,GAASsC,IAAM,EAAFvB,IAAM,EAAMT,EAAE,EAAEA,EAAEjB,EAAEiB,IAAK8B,EAAEhB,GAAG9D,EAAEE,EAAE6E,EAAE/B,IAAIc,GAAGN,CAAG,CAAC,IAAIV,EAAE/B,KAAKb,EAA4E,GAAtEkC,GAAO,IAAJoB,GAAQV,IAAGA,EAAE,IAAIyD,WAAW,EAAE,IAAI,KAAK,IAAI,KAAK,IAAI,KAAK,IAAI,OAASzD,EAAG,IAAIhD,EAAE,EAAEA,EAAEsE,GAAI,IAAIX,EAAE,EAAEC,EAAE,EAAED,EAAED,EAAEC,IAAI3D,IAAI4D,GAAG,EAAGoB,EAAEhF,IAAIgF,EAAEhF,GAAGgD,EAAEY,IAAI,GAAGZ,EAAEY,EAAE,GAAK,OAAOoB,CAAC,EAAE,KAAI1C,GAAI,OAAGrB,KAAKiE,IAAWjE,KAAKiE,EAAE1C,EAAc,IAATvB,KAAKD,EAAmB,IAATC,KAAKX,IAA0C,KAAlBW,KAAKF,EAAE,GAAG4B,OAA8B,KAAlB1B,KAAKF,EAAE,GAAG4B,OAA8B,KAAlB1B,KAAKF,EAAE,GAAG4B,OAA0C,IAAT1B,KAAKX,CAAwB,EAAEqD,EAAE,SAAY1B,GACz4B,IAD44B,IAAIzB,EAAE8B,EAAEC,EAC54BL,EAAE,EAAEE,EAAEH,EAAEa,OAAOZ,EAAEE,EAAEF,GAAG,EAAG1B,EAAEyB,EAAEC,GAAGI,EAAEL,EAAEC,EAAE,GAAGK,EAAEN,EAAEC,EAAE,GAAGD,EAAEC,GAAG1B,EAAE,QAAQ,MAAM+B,EAAEN,EAAEC,EAAE,GAAG1B,EAAE,QAAQ,KAAK8B,EAAE,KAAKC,EAAEN,EAAEC,EAAE,GAAG1B,EAAE,QAAQ,MAAM8B,EAAE,OAAOL,CAAC,EAAE1B,EAAE,SAAY0B,GAAmB,IAAhB,IAAIzB,EAAE8B,EAAEC,EAAEL,EAAEE,EAAE,EAAUI,EAAE,EAAEI,EAAEX,EAAEa,OAAON,EAAEI,EAAEJ,GAAG,EAAGhC,EAAEyB,EAAEO,GAAGF,EAAEL,EAAEO,EAAE,GAAGD,EAAEN,EAAEO,EAAE,GAAGN,EAAED,EAAEO,EAAE,GAAGP,EAAEG,KAAsBE,IAAI,oBAAoBA,EAAE,oBAAoBC,EAAE,mBAAmB/B,EAAE,mBAAmB0B,EAAE,kBAA1G,gBAA4HK,IAAI,oBAAoBA,EAAE,oBAAoB/B,EAAE,mBAAmB0B,EAAE,kBAAkB1B,GAAG,oBAAoBA,EAAE,mBAAmB0B,EAAE,iBAAiBA,IAAI,oBAAoBA,EAAE,kBAC3iBD,EAAEG,KAAK,iBAAiBE,GAAG,oBAAoBA,EAAE,oBAAoBC,EAAE,oBAAoB/B,EAAE,oBAAoB0B,EAAE,kBAAkBK,IAAI,oBAAoBA,EAAE,mBAAmB/B,EAAE,oBAAoB0B,EAAE,kBAAkB1B,GAAG,mBAAmBA,EAAE,mBAAmB0B,EAAE,iBAAiBA,IAAI,oBAAoBA,EAAE,kBAAkBD,EAAEG,KAAsBE,IAAI,oBAAoBA,EAAE,oBAAoBC,EAAE,kBAAkB/B,EAAE,mBAAmB0B,EAAE,kBAAzG,gBAA2HK,IAAI,oBAAoBA,EAAE,oBAAoB/B,EAAE,oBAAoB0B,EAAE,kBAAkB1B,GAAG,mBAAmBA,EAAE,mBAAmB0B,EAAE,kBAAkBA,IAAI,oBAAoBA,EAAE,iBAAiB,OAAOD,EAAEwD,SAAS,EAAErD,EAAE,EAAEyB,EAAE,SAAY5B,GACjrB,IADorB,IAAIzB,EAAE8B,EAAEC,EACprBL,EAAE,EAAEE,EAAEH,EAAEa,OAAOZ,EAAEE,EAAEF,GAAG,EAAG1B,EAAEyB,EAAEC,GAAGI,EAAEL,EAAEC,EAAE,GAAGK,EAAEN,EAAEC,EAAE,GAAGD,EAAEC,GAAG,QAAQ1B,EAAE,MAAM+B,EAAEN,EAAEC,EAAE,GAAG,QAAQ1B,EAAE,KAAK8B,EAAE,KAAKC,EAAEN,EAAEC,EAAE,GAAG,QAAQ1B,EAAE,MAAM8B,EAAE,OAAOL,CAAC,EAAEjC,EAAE,SAAYiC,GAAmB,IAAhB,IAAIzB,EAAE8B,EAAEC,EAAEL,EAAEE,EAAE,EAAUI,EAAE,EAAEI,EAAEX,EAAEa,OAAON,EAAEI,EAAEJ,GAAG,EAAGhC,EAAEyB,EAAEO,GAAGF,EAAEL,EAAEO,EAAE,GAAGD,EAAEN,EAAEO,EAAE,GAAGN,EAAED,EAAEO,EAAE,GAAGP,EAAEG,KAAK,IAAI5B,IAAI,qBAAqBA,EAAE,qBAAqB8B,EAAE,qBAAqBC,EAAE,oBAAoBL,EAAE,oBAAoBI,GAAG,sBAAsBA,EAAE,qBAAqBC,EAAE,qBAAqBL,EAAE,oBAAoBK,IAAI,qBAAqBA,EAAE,qBAAqBL,EAAE,mBAAmBA,GAAG,qBAAqBA,EAAE,mBACjjBD,EAAEG,KAAK,IAAI5B,GAAG,sBAAsBA,EAAE,oBAAoB8B,EAAE,sBAAsBC,EAAE,qBAAqBL,EAAE,mBAAmBI,IAAI,sBAAsBA,EAAE,qBAAqBC,EAAE,qBAAqBL,EAAE,mBAAmBK,GAAG,qBAAqBA,EAAE,sBAAsBL,EAAE,oBAAoBA,GAAG,qBAAqBA,EAAE,mBAAmBD,EAAEG,KAAK,IAAI5B,GAAG,sBAAsBA,EAAE,sBAAsB8B,EAAE,qBAAqBC,EAAE,sBAAsBL,EAAE,oBAAoBI,GAAG,sBAAsBA,EAAE,qBAAqBC,EAAE,qBAAqBL,EAAE,oBAAoBK,GAAG,qBAAqBA,EAAE,qBAAqBL,EAAE,mBAAmBA,GAAG,qBAAqBA,EAAE,mBAAmB,OAAOD,EAAEwD,SAAS,EAAErD,EAAE,EAAEsE,QAAQ,SAASzE,GAAG,IAAIzB,EAAEyB,EAAEoE,MAAM/D,EAAEL,EAAEqE,OAAO/D,EAAEN,EAAE0E,SAASzE,EAAED,EAAE2E,YACnvB,GAAG3F,KAAKD,EAAE,EAAG,MAAM,IAAID,EAAE,0BAA0B,IAAIqB,EAAEnB,KAAK+C,EAAExD,EAAE8B,EAAEJ,GAAG,GAAY,IAATjB,KAAKD,GAAOuB,EAAE,CAAiD,IAAhD,IAAIC,EAAEJ,EAAEU,OAAOF,EAAE,IAAI2D,kBAAoB,EAAF/D,GAAKH,EAAE,EAAUa,EAAE,EAAEA,EAAEV,EAAEU,IAAI,CAAC,IAAIO,EAAErB,EAAEc,GAAGN,EAAEP,KAAKoB,EAAEb,EAAEP,KAAKoB,EAAEb,EAAEP,KAAKoB,CAAC,CAAC,OAAOb,CAAC,CAAM,GAAY,IAAT3B,KAAKD,GAAOC,KAAKqB,EAAG,OAAOrB,KAAK0C,EAAEvB,GAAQ,GAAY,IAATnB,KAAKD,EAAM,CAAC,GAAGC,KAAKqB,EAAG,OAAGC,EAAUtB,KAAKV,EAAE6B,GAAUnB,KAAK4C,EAAEzB,GAAQ,GAAGG,EAAG,OAAOtB,KAAKjB,EAAEoC,EAAG,CAAC,OAAOA,CAAC,GAAUb,CAAE,CAlBvM,GAkBgP,SAAStB,EAAEe,EAAES,GAAG,OAAOT,EAAES,IAAI,EAAET,EAAES,EAAE,EAAE,CAAmElC,EAAKsH,YAAYtF,CAAE,CAlBthB,GAuBAhC,EAAKuH,YAAc,SAASC,EAAMtG,EAAGD,EAAGwG,GAEvC,IAAIC,EAAM,CAAE,KAAO,CAACxG,GAAI,KAAO,CAACD,GAAI,KAAO,CAAC,EAAE,EAAE,EAAE,GAAI,KAAO,CAAC,GAAI,KAAO,CAAC,GAAI,KAAO,CAAC,KACnF,KAAO,CAAC,GAAI,KAAO,CAACA,GAAkC,KAAO,CAACC,EAAED,EAAE,GAClE,KAAO,CAAC,CAAC,GAAG,IAAK,KAAO,CAAC,CAAC,GAAG,IAAK,KAAO,CAAC,GAAI,KAAO,CAAC,CAAC,EAAE,IAAK,KAAO,CAAC,CAAC,EAAE,IAAK,KAAO,CAAC,GAAI,KAAQ,CAAC,sBAAuB,KAAO,CAAC,IAErI,GAAIwG,EAAU,IAAK,IAAItG,KAAKsG,EAAUC,EAAIvG,GAAKsG,EAAStG,GAExD,IAAIwG,EAAO,IAAI1F,WAAWjC,EAAK4H,OAAO,CAACF,KACnCG,EAAM,IAAI5F,WAAWuF,GACrBM,EAAO,IAAI7F,WAAW,IAAKf,EAAED,EAAE,GACnC,IAAQE,EAAE,EAAGA,EAAEwG,EAAKpE,OAAQpC,IAAK2G,EAAK3G,GAAKwG,EAAKxG,GAChD,IAAQA,EAAE,EAAGA,EAAE0G,EAAKtE,OAAQpC,IAAK2G,EAAK,IAAK3G,GAAK0G,EAAI1G,GACpD,OAAO2G,EAAKC,MACb,EAEA/H,EAAK4H,OAAS,SAASI,GAEtB,IACIF,EAAO,IAAI7F,WAAW,KAAQsD,EAAS,EAAG0C,EAAyBjI,EAAKkI,OAC5EJ,EAAK,GAAGA,EAAK,GAAS,GAAKG,EAAIE,YAAYL,EAAK,EAAE,IAElD,IAAIM,EAAO,EACXH,EAAII,UAAUP,EAAMvC,EAAQ6C,GAAQ7C,GAAQ,EAC5C,IAAI,IAAIpE,EAAE,EAAGA,EAAE6G,EAAKzE,OAAQpC,IAC5B,CACC,IAAImH,EAAQtI,EAAKuI,UAAUN,EAAKjI,EAAKwI,OAAOC,MAAOX,EAAMM,EAAMJ,EAAK7G,IACpEiH,EAAOE,EAAM,GACVnH,EAAE6G,EAAKzE,OAAO,IACH,IAAJ,EAAL6E,KAAYA,GAAO,GAAQ,EAALA,IAC1BH,EAAII,UAAUP,EAAMQ,EAAM,GAAIF,GAEhC,CACA,OAAON,EAAKY,MAAM,EAAGN,GAAML,MAC5B,EAEA/H,EAAK2I,OAAS,SAASC,EAAMC,GAEpB,MAALA,IAAWA,EAAM,CAACC,SAAQ,EAAMC,OAAM,IACzC,IAAIjB,EAAO,IAAI7F,WAAW2G,GAAOrD,EAAS,EAEtCyD,EAAKhJ,EAAKkI,OAAOe,UAAUnB,EAAMvC,EAAQ,GAAKA,GAAQ,EAC1D,IAAI0C,EAAU,MAAJe,EAAWhJ,EAAKkJ,OAASlJ,EAAKkI,OAC9BD,EAAIkB,WAAWrB,EAAMvC,GAAUA,GAAQ,EAEjD,IAAI6C,EAAOH,EAAImB,SAAStB,EAAMvC,GAAUA,GAAQ,EAEhD,IADA,IAAIyC,EAAO,KACC,CACX,IAAIqB,EAAMpB,EAAIkB,WAAWrB,EAAKM,GAAOkB,EAAMrB,EAAIkB,WAAWrB,EAAKM,EAAK,GAAK,GAAQ,GAALiB,IAAWC,EAAI,GAAK,GAAGA,GAAK,CAAGrJ,EAAI,iBAAmB,KAAO,CAIzI,GAHAD,EAAKuJ,SAAStB,EAAKH,EAAMM,EAAMJ,EAAM,EAAGa,GAG/B,IADTT,EAAOH,EAAImB,SAAStB,EAAMM,EAAK,EAAM,GAAJiB,IACrB,KACb,CACA,OAAOrB,CACR,EAEAhI,EAAKwJ,YAAc,SAASZ,EAAMf,EAAKG,GAEtC,IAAGH,EAAIC,KAAP,CACA,IAAIA,EAAO,IAAI7F,WAAW2G,GACtBI,EAAKhJ,EAAKkI,OAAOe,UAAUnB,EAAM,EAAG,GAExC,GAAgB,MAAbD,EAAU,KAAb,CACAA,EAAI4B,KAAW,MAAJT,EACXnB,EAAIf,MAASe,EAAU,KAAE,GACzBA,EAAId,OAASc,EAAU,KAAE,GAEzB,IAAI6B,EAAO7B,EAAU,KAAIA,EAAU,KAAE,GAAK,EACtC8B,EAAO9B,EAAU,KAAIA,EAAU,KAAE,GAAK,EACvCA,EAAU,MAAqB,GAAhBA,EAAU,KAAE,IAAO5H,EAAI,6CAChC,GAANyJ,GAAW7B,EAAU,MAAKA,EAAU,KAAEtE,OAAO,IAAIsE,EAAU,KAAEA,EAAU,KAAEa,MAAM,EAAE,IAEpF,IAAIkB,EAAM/B,EAAU,KAAEA,EAAU,KAAE,GAAG,EAEjCgC,GADMhC,EAAU,KAAEA,EAAU,KAAE,GAAG,GACtB+B,EAON,GAANF,GAAwB,MAAb7B,EAAU,MAAWA,EAAU,MAAqB,OAAhBA,EAAU,KAAE,KAC7DgC,EAAOzE,KAAK0E,MAAsB,EAAfjC,EAAU,KAAE,IAAOA,EAAIf,MAAMe,EAAU,KAAE,MAE1DA,EAAY,QAAuB,GAAlBA,EAAY,OAAE,KAAOgC,EAAsB,EAAfhC,EAAU,KAAE,IAC5D,IAAIkC,EAAmC,EAA5B3E,KAAKe,KAAK0B,EAAIf,MAAM+C,EAAK,GAChCG,EAAOnC,EAAU,MAAa,MAANmC,GAAcnC,EAAU,QAAGmC,EAAOnC,EAAU,MACxE,IAAIoC,EAAOpC,EAAU,KAAa,GAAN6B,GAAwB,GAAbM,EAAKzG,SAAW0G,EAAO,CAACpC,EAAId,QAAQgD,IAAO,MAAe,MAANE,GAAcpC,EAAU,QAAGoC,EAAOpC,EAAU,MAEvI,IAAIqC,EAAQ,IAAIjI,WAAW4F,EAAId,QAAQgD,IAAO,IAAKI,EAAQ,EAE3D,GAAgB,MAAbtC,EAAU,KACb,CACC,IAAIuC,EAAKvC,EAAU,KAAE,GAAIwC,EAAKxC,EAAU,KAAE,GACtCyC,EAAKlF,KAAKmF,OAAO1C,EAAIf,MAASsD,EAAK,GAAKA,GACxCI,EAAKpF,KAAKmF,OAAO1C,EAAId,OAASsD,EAAK,GAAKA,GACxCI,EAAQ,IAAIxI,WAAmC,EAAxBmD,KAAKe,KAAKiE,EAAGC,EAAGR,EAAK,IAChD1J,QAAQF,IAAI,OAAQqK,EAAGE,GACvB,IAAI,IAAIvF,EAAE,EAAGA,EAAEuF,EAAIvF,IAClB,IAAI,IAAIT,EAAE,EAAGA,EAAE8F,EAAI9F,IACnB,CACC,IAAIrD,EAAI8D,EAAEqF,EAAG9F,EAAIiG,EAAMC,KAAK,GAC5B1K,EAAK2I,OAAOgC,YAAY9C,EAAIG,EAAMF,EAAMkC,EAAK7I,GAAI8I,EAAK9I,GAAIuI,EAAMe,EAAO,EAAGd,EAAGS,EAAGC,GAEtE,GAANX,EAASQ,EAAQO,EAChBzK,EAAK4K,UAAUH,EAA4B,EAArBrF,KAAKe,KAAKiE,EAAGP,EAAK,GAAMQ,EAAIH,EAAmC,EAA5B9E,KAAKe,KAAK0B,EAAIf,MAAM+C,EAAK,GAAMhC,EAAId,OAA+B,EAAvB3B,KAAKe,KAAK3B,EAAE4F,EAAGP,EAAK,GAAM5E,EAAEoF,EACtI,CACDF,EAAqB,EAAbD,EAAM3G,MACf,KAEA,CACC,GAAS,MAANyG,EAAY,OACf,IAAIa,EAAMhD,EAAU,KAAIA,EAAU,KAAE,GAAKA,EAAId,OAE7C,IAFuD8D,EAAMzF,KAAKC,IAAIwF,EAAKhD,EAAId,QAEvE5F,EAAE,EAAGA,EAAE6I,EAAKzG,OAAQpC,IAE3BnB,EAAK2I,OAAOgC,YAAY9C,EAAIG,EAAMF,EAAMkC,EAAK7I,GAAI8I,EAAK9I,GAAIuI,EAAMQ,EAA0B,EAAnB9E,KAAKe,KAAKgE,EAAM,GAAMR,EAAG9B,EAAIf,MAAM+D,GAC1GV,GAASJ,EAAOc,EAEjBV,EAAQ/E,KAAKC,IAAI8E,EAAoB,EAAbD,EAAM3G,OAC/B,CACAsE,EAAIC,KAAO,IAAI7F,WAAWiI,EAAMnC,OAAQ,EAAsB,EAAnB3C,KAAKe,KAAKgE,EAAM,GA3D/B,CAJT,CAgEpB,EAEAnK,EAAK2I,OAAOgC,YAAc,SAAS9C,EAAIG,EAAMF,EAAMgD,EAAKC,EAAKrB,EAAMsB,EAAKC,EAAMtB,EAAIzI,EAAGD,GAM/E,GAJF4G,EAAU,MAAqB,aAAhBA,EAAU,KAAE,IAAmBA,EAAS,KAAoB,GAAfA,EAAS,IAAE,KAAO6B,EAAO,OAI1E,GAANA,EAAiD,IAAI,IAAI3E,EAAE,EAAGA,EAAEgG,EAAKhG,IAAKiG,EAAIC,EAAKlG,GAAK+C,EAAKgD,EAAI/F,QACpG,GAAS,GAAN2E,EAAS1J,EAAK2I,OAAOuC,UAAWpD,EAAMgD,EAAKC,EAAKC,EAAKC,EAAM/J,EAAGyI,QACjE,GAAS,GAAND,EAAS1J,EAAK2I,OAAOwC,UAAWrD,EAAMgD,EAAKC,EAAKC,EAAKC,EAAM/J,EAAGyI,IAAI9B,EAAU,MAAuB,IAAJ,EAAfA,EAAU,KAAE,UAC/F,GAAS,GAAN6B,EAAS1J,EAAK2I,OAAOyC,UAAWtD,EAAMgD,EAAKC,EAAKC,EAAKC,EAAM/J,EAAGyI,QACjE,GAAS,GAAND,EAAS1J,EAAK2I,OAAO0C,WAAWvD,EAAMgD,EAAKC,EAAKC,EAAKC,EAAK,QAC7D,GAAS,GAANvB,EAAS1J,EAAK2I,OAAO2C,eAAezD,EAAKC,EAAMgD,EAAKC,EAAKC,EAAKC,QACjE,GAAS,GAANvB,GAAiB,OAANA,EAAa1J,EAAK2I,OAAO4C,eAAe1D,EAAKC,EAAMgD,EAAKC,EAAKC,EAAKC,QAChF,GAAS,GAANvB,GAAiB,OAANA,EAAa,CAAG,IAAI8B,EAAM,IAAIvJ,WAAW6F,EAAKC,OAAO+C,EAAI,EAAEC,EAAI,GAAS9C,EAAMjI,EAAKyL,YAAYD,GAAUP,EAAKhD,EAAI1E,QAAQyH,EAAIzH,QAAQyH,EAAIU,IAAIzD,EAAIgD,EAAQ,MAC/J,GAANvB,EAAS1J,EAAK2I,OAAOgD,WAAW7D,EAAKgD,EAAIC,EAAIC,EAAIC,EAAKpD,EAAY,QAC5D,OAAN6B,EAAa1J,EAAK2I,OAAOiD,WAAW/D,EAAKC,EAAMgD,EAAKC,EAAKC,EAAKC,GACxD,OAANvB,EAAa1J,EAAK2I,OAAOkD,gBAAgB/D,EAAMgD,EAAKC,EAAKC,EAAKC,GACxD,OAANvB,EAAa1J,EAAK2I,OAAOmD,eAAgBhE,EAAMgD,EAAKC,EAAKC,EAAKC,GACxD,OAANvB,EAAa1J,EAAK2I,OAAOoD,iBAAiBlE,EAAIC,EAAKgD,EAAKC,EAAKC,EAAKC,GAC5D,OAANvB,EACP1J,EAAK2I,OAAOqD,aAAgBnE,EAAIG,EAAMF,EAAMgD,EAAKC,EAAKC,EAAKC,GAC9C,OAANvB,EAAa1J,EAAK2I,OAAOsD,gBAAgBpE,EAAIC,EAAMgD,EAAKC,EAAKC,EAAKC,GACrEhL,EAAI,sBAAuByJ,GAIhC,IAAIwC,EAAOrE,EAAU,KAAEzC,KAAKC,IAAI,GAAGwC,EAAU,KAAE,IAAI,EAC/CsE,EAAOtE,EAAU,KAAEA,EAAU,KAAE,GAAG,EAAIuE,EAAKF,EAAIC,IAAO,EAAGE,EAAMjH,KAAKe,KAAK+F,EAAIC,EAAIjL,EAAE,GAGvF,GAAQ,IAALgL,IAAYrE,EAAI4B,MAAuB,MAAf5B,EAAY,OACtC,IAAI,IAAI5C,EAAE,EAAGA,EAAEhE,EAAGgE,IAGjB,IADA,IAAIqH,EAAOrB,EAAKhG,EAAEoH,EACV7H,EAAE,EAAGA,EAAE6H,EAAK7H,GAAG,EAAG,CAAG,IAAItC,EAAE8I,EAAIsB,EAAK9H,GAAKwG,EAAIsB,EAAK9H,GAAGwG,EAAIsB,EAAK9H,EAAE,GAAKwG,EAAIsB,EAAK9H,EAAE,GAAGtC,CAAI,CAGjG,GAAG2F,EAAU,MAAqB,GAAhBA,EAAU,KAAE,GAE7B,IAAQ5C,EAAE,EAAGA,EAAEhE,EAAGgE,IAClB,CACC,IAAIsH,EAAQtB,EAAKhG,EAAEoH,EACnB,GAAQ,IAALH,EAAS,IAAQnH,EAAEqH,EAAKrH,EAAEsH,EAAKtH,GAAG,EAAG,CACvC,IAAIyH,GAAOxB,EAAIuB,EAAMxH,EAAE,IAAI,EAAGiG,EAAIuB,EAAMxH,KAAUiG,EAAIuB,EAAMxH,EAAEqH,EAAI,IAAI,EAAGpB,EAAIuB,EAAMxH,EAAEqH,IACrFpB,EAAIuB,EAAMxH,GAAQ,IAAHyH,EAASxB,EAAIuB,EAAMxH,EAAE,GAAMyH,IAAK,EAAG,GACnD,MACK,GAAQ,GAALL,EAAQ,IAAQpH,EAAI,EAAGA,EAAEsH,EAAKtH,GAAG,EAExCiG,EAAIuB,EAAMxH,GAAQiG,EAAIuB,EAAMxH,GAAOiG,EAAIuB,EAAMxH,EAAE,GAAI,IACnDiG,EAAIuB,EAAMxH,EAAE,GAAMiG,EAAIuB,EAAMxH,EAAE,GAAKiG,EAAIuB,EAAMxH,EAAE,GAAI,IACnDiG,EAAIuB,EAAMxH,EAAE,GAAMiG,EAAIuB,EAAMxH,EAAE,GAAKiG,EAAIuB,EAAMxH,EAAE,GAAI,SAE/C,IAAQA,EAAEqH,EAAKrH,EAAEsH,EAAKtH,IAAKiG,EAAIuB,EAAMxH,GAAMiG,EAAIuB,EAAMxH,GAAKiG,EAAIuB,EAAMxH,EAAEqH,GAAM,GAClF,CAEF,EAEEpM,EAAK2I,OAAOoD,iBAAmB,SAASlE,EAAKC,EAAMgD,EAAKC,EAAKC,EAAKC,GAEpD,IAaI9J,EAAG4D,EAAG0H,EAA4BC,EAAgBC,EAClDC,EAAKC,EAAKC,EAdVC,EAAajF,EAAKC,OAElBiF,EAAWnF,EAAQ,GAAE,GACrBoF,EAAYpF,EAAQ,GAAE,GACtBqF,EAAgBrF,EAAS,IAAE,GAC3BsF,EAActF,EAAS,IAAE,GAEzBuF,EAAO,EACPC,EAAa,EACbC,EAAO,EACPC,EAAO,EAEPrD,EAAuB,GAAdiD,EAAkB,IAAIlG,YAAY,IAAM,IAAIhF,WAAW,IACtDuL,EAAK,CAAC,EAAE,GAAIC,EAAK,CAAC,EAAE,GAAWC,EAAM,EAE/C3F,EAAS,IAAI9F,WAAW,OACxB0L,EAAS,IAAIlH,YAAYuE,EAAIjD,QAEjC,SAAS6F,EAAWC,GAChB,GAAY,GAARP,EAAW,CACX,IAAIQ,EAAQ,IAAI7L,WAAW8K,EAAYjC,EAAIuC,EAAa,KAAQ,MAC5DU,EAAQ,IAAI9L,WAAW8K,EAAYjC,EAAIuC,EAAY,MACvDtF,EAAO2D,IAAIoC,GACX/F,EAAO2D,IAAIqC,EAAOD,EAAMvK,QACxB8J,GAAc,KAClB,CACA,GAAiB,GAAdF,EAQC,OAAQpF,EADRwF,GADAD,EAAQA,EAAOO,EAAQ,SACR,EAAI,OACI9F,EAAOwF,EAAO,IAAM,KAAc,EAAPD,MAAgB,GAAMO,GAPxE,IAAK1M,EAAI,EAAGA,EAAI,GAAIA,IAChB+I,EAAM/I,GAAK4G,EAAOuF,KAClBA,GAAQ,KAOpB,CAEA,SAASU,EAAiB7M,GACtB,OAAO4G,EAAOuF,EAAO,GAAKnM,EAC9B,CA2CA,SAAS8M,IACLT,EAAK,GAAG,EAAGA,EAAK,GAAG,EACnBC,EAAK,GAAG,EAAGA,EAAK,GAAG,CACvB,CACA,GAAkB,GAAdN,EACA,MAAMA,EA4CL,GAAiB,GAAdA,EAAiB,CACrB,IAAIe,EAA2B,IAAjBhB,EACViB,EAAgBD,EA3ExB,WACIhE,EAAM,GAAM8D,EAAiB,IAAM,EAAMA,EAAiB,IAAM,EAChE9D,EAAM,GAAoE,OAAtC,GAAtB8D,EAAiB,KAAa,EAAMA,EAAiB,IACnE9D,EAAM,GAAM8D,EAAiB,IAAM,EAAK,EACxC9D,EAAM,IAA6B,GAAtB8D,EAAiB,KAAc,EAAMA,EAAiB,IAAM,EACzE9D,EAAM,IAA6B,GAAtB8D,EAAiB,KAAc,EAAMA,EAAiB,IAAM,EACzE9D,EAAM,IAA6B,GAAtB8D,EAAiB,KAAc,EAAMA,EAAiB,IAAM,EACzE9D,EAAM,GAAM8D,EAAiB,IAAM,EAAK,EACxC9D,EAAM,IAA6B,GAAtB8D,EAAiB,KAAa,EAAMA,EAAiB,IAAM,EACxE9D,EAAM,IAA6B,GAAtB8D,EAAiB,KAAa,EAAMA,EAAiB,IAAM,EACxE9D,EAAM,IAA6B,GAAtB8D,EAAiB,KAAa,EAAMA,EAAiB,IAAM,EACxE9D,EAAM,IAAO8D,EAAiB,IAAM,EAAK,EACzC9D,EAAM,KAA8B,EAAtB8D,EAAiB,KAAa,EAAMA,EAAiB,KAAO,EAC1E9D,EAAM,KAA+B,EAAvB8D,EAAiB,MAAc,EAAMA,EAAiB,KAAO,EAC3E9D,EAAM,KAA+B,EAAvB8D,EAAiB,MAAc,EAAMA,EAAiB,KAAO,EAC3E9D,EAAM,IAA6B,EAAvB8D,EAAiB,IAC7B9D,EAAM,IAAM8D,EAAiB,IAC7B9D,EAAM,IAAM8D,EAAiB,IAC7B9D,EAAM,IAAM8D,EAAiB,IAE7BV,GAAQ,GACRC,EAAO,CACX,EAxCA,WACIrD,EAAM,GAAM8D,EAAiB,IAAM,EAAMA,EAAiB,IAAM,EAChE9D,EAAM,GAAuG,QAAzE,EAAtB8D,EAAiB,KAAa,GAAOA,EAAiB,IAAM,EAAMA,EAAiB,IAAM,GACvG9D,EAAM,GAAM8D,EAAiB,IAAM,EAAK,EACxC9D,EAAM,IAA6B,EAAtB8D,EAAiB,KAAa,EAAKA,EAAiB,GACjE9D,EAAM,GAAM8D,EAAiB,IAAM,EAAMA,EAAiB,IAAM,EAChE9D,EAAM,IAA6B,GAAtB8D,EAAiB,KAAc,EAAMA,EAAiB,IAAM,EACzE9D,EAAM,GAAM8D,EAAiB,IAAM,EAAK,EACxC9D,EAAM,IAA6B,EAAtB8D,EAAiB,KAAa,EAAKA,EAAiB,GACjE9D,EAAM,GAAO8D,EAAiB,IAAM,EAAK,KAAUA,EAAiB,KAAO,EAC3E9D,EAAM,GAAmE,MAA5D8D,EAAiB,KAAO,EAAMA,EAAiB,KAAO,GACnE9D,EAAM,IAAO8D,EAAiB,KAAO,EAAK,EAC1C9D,EAAM,KAA+B,EAAvB8D,EAAiB,MAAc,EAAKA,EAAiB,IACnE9D,EAAM,IAA4E,MAAnE8D,EAAiB,KAAO,EAAK,KAASA,EAAiB,KAAO,GAC7E9D,EAAM,IAAoE,MAA5D8D,EAAiB,KAAO,EAAMA,EAAiB,KAAO,GACpEV,GAAQ,GACRC,EAAO,CACX,EA6EQa,EAAiBF,EAAU,GAAK,GAChCG,EAAaH,EAAU,IAAO,IAC9BI,EAAoBJ,EAAU,KAAQ,KACtCK,EAAeL,EAAU,MAAS,MAClCM,EAAaN,EAAU,KAAQ,MAC/BO,EAAezB,EAAWoB,EAC1BM,EAA0B,GAAfD,EACXE,EAAaT,EAAU,GAAK,GAEhC,IAAKtB,EAAM,EAAGA,EAAMK,EAAY,GAAIL,GAAO,GAAI,CAC3C,IAAIgC,EAAaxJ,KAAKC,IAAI,GAAI4H,EAAYL,GACtCiC,EAAUH,EAASE,EAIvB,IAHA7G,EAAS,IAAI9F,WAAW8K,EAAYjC,EAAIsC,EAAMyB,GAC9CvB,EAAO,EACPF,GAAQyB,EACH/B,EAAO,EAAGD,EAAM,EAAGC,EAAO8B,EAAY9B,IAAQD,EAAM,EAAG,CACxDa,GAAOd,EAAME,GAAQE,EACrB,IAAK,IAAI8B,EAAS,EAAGA,EAASL,EAAcK,IAIxC,IAHAX,IACAF,IACAxB,EAAG,EAAGE,EAAW,EACZxL,EAAI,EAAGA,EAAIiN,EAAgBjN,IAAI,CAEhC,GADAuL,EAAY,EAAJvL,EACJA,EAAI,GAAK,EAAG,CACZ,IAAI4N,EAAOxB,EAAOoB,EAAazE,EAAMqD,KAAU,EACnC,GAARwB,IAAWA,EAAO,GACtBpC,EAAa0B,GAAcU,EAC3BtC,EAAK,GAAKsC,CACd,CACA,IAAIC,EAASzB,EAAOoB,EAAazE,EAAMqD,KAAU,EAC7CC,EAAKd,IACLsC,GAAUvC,EACNE,EAAa2B,GAAqBb,EAAKf,GAASC,IAChDqC,GAAUvB,EAAKf,GAASC,GAC5Bc,EAAKf,GAASsC,IAEdxB,EAAKd,GAASsC,EACVA,EACAvB,EAAKf,GAASsC,EAEdA,EAASvB,EAAKf,IAEtBiB,EAAOD,EAAMb,KAAUmC,EAAS,IAAQT,EAAgBS,EAAS,GAAOT,EAAiBS,EAAS,YAAe,GAAQR,CAC7H,CAER,CACJ,CACJ,MACK,GAAkB,GAAdrB,EAAiB,CACtB,IAAI8B,EAA6B,IAAjB/B,EAAsB,GAAK,EAC3C,IAAKN,EAAM,EAAGA,EAAMK,EAAWL,IAC3B,IAAKC,EAAM,EAAGA,EAAMG,EAAUH,GAAKoC,EAC/BrB,EAAW,GAEU,IAAjBV,GACAS,EAAOD,OAAsB,GAAXxD,EAAM,KAAa,GAAKA,EAAM,GAChDyD,EAAOD,KAAS,GAAKxD,EAAM,IAAMA,EAAM,IAAM,GAC7CyD,EAAOD,OAAsB,GAAXxD,EAAM,KAAa,GAAKA,EAAM,GAChDyD,EAAOD,KAAS,GAAKxD,EAAM,IAAMA,EAAM,IAAM,GAC7CyD,EAAOD,OAAsB,GAAXxD,EAAM,KAAa,GAAKA,EAAM,GAChDyD,EAAOD,KAAS,GAAKxD,EAAM,IAAMA,EAAM,IAAM,GAC7CyD,EAAOD,OAAuB,GAAZxD,EAAM,MAAc,GAAKA,EAAM,GACjDyD,EAAOD,KAAS,GAAKxD,EAAM,KAAOA,EAAM,KAAO,GAC/CyD,EAAOD,OAAuB,GAAZxD,EAAM,MAAc,GAAKA,EAAM,IACjDyD,EAAOD,KAAS,GAAKxD,EAAM,KAAOA,EAAM,KAAO,IACvB,IAAjBgD,IACPS,EAAOD,KAASxD,EAAM,KAAkB,GAAXA,EAAM,KAAc,GACjDyD,EAAOD,MAAUxD,EAAM,IAAM,GAAK,EAAKA,EAAM,KAAmB,GAAXA,EAAM,KAAa,IACxEyD,EAAOD,MAAUxD,EAAM,IAAM,GAAK,GAAMA,EAAM,KAAmB,EAAXA,EAAM,KAAW,IACvEyD,EAAOD,OAAsB,IAAXxD,EAAM,KAAc,IAAMA,EAAM,IAAM,GACxDyD,EAAOD,KAASxD,EAAM,KAAkB,GAAXA,EAAM,KAAc,GACjDyD,EAAOD,MAAUxD,EAAM,IAAM,GAAK,EAAIA,EAAM,KAAmB,GAAZA,EAAM,MAAc,IACvEyD,EAAOD,MAAUxD,EAAM,KAAO,GAAK,GAAKA,EAAM,MAAoB,EAAZA,EAAM,MAAY,IACxEyD,EAAOD,OAAuB,IAAZxD,EAAM,MAAe,IAAMA,EAAM,KAAO,GAC1DyD,EAAOD,KAASxD,EAAM,MAAoB,GAAZA,EAAM,MAAe,GAKnE,KAAO,IAAiB,GAAdiD,EAyBL,MAAMA,EAxBP,IAAKP,EAAM,EAAGA,EAAMK,EAAWL,IAC3B,IAAIC,EAAM,EAAGA,EAAMG,EAAUH,IAEzBH,EAAY,GADZvL,EAAI0L,EAAM,IAEH,GAAH1L,GAAM8M,IACN9M,EAAE,GAAK,IACPsL,EAAK,GAAM,EAAImB,EAAW,IAC1BH,EAAKf,GAEG,IADR3H,EAAI6I,EAAW,MAEXJ,EAAKd,IAAU,KAAQD,GACnBe,EAAKd,GAAS,GAAW,GAAND,KACnBe,EAAKd,OAAc,GAAMD,IAC7Be,EAAKd,IAAU3H,GAAK0H,IAGxBgB,EAAKf,GAASkB,EAAW,IACtBH,EAAKf,IAAUvL,EAAI,MAClBqM,EAAKd,GAASe,EAAKf,IAAU,EAAIkB,EAAW,KAEpDD,EAAOD,KAASF,EAAW,EAANX,EAIZ,CACzB,EAGZ7M,EAAK2I,OAAOgD,WAAa,WAAW,IAA2rIxG,EAAE9B,EAAEU,EAA3rIS,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,IAAI,GAAG,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,GAAG,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,IAAI,GAAG,EAAE,EAAE,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,GAAG,GAAG,IAAI,EAAE,GAAG,GAAG,IAAI,EAAE,GAAG,GAAG,IAAI,EAAE,GAAG,GAAG,IAAI,GAAG,EAAE,GAAG,IAAI,EAAE,GAAG,GAAG,IAAI,EAAE,GAAG,GAAG,KAAK,EAAE,GAAG,GAAG,KAAK,EAAE,GAAG,GAAG,KAAK,IAAI,EAAE,GAAG,KAAK,EAAE,GAAG,GAAG,KAAK,EAAE,GAAG,GAAG,KAAK,EAAE,GAAG,GAAG,KAAK,EAAE,GAAG,GAAG,KAAK,EAAE,GAAG,GAAG,KAAK,EAAE,GAAG,GAAG,KAAK,EAAE,GAAG,GAAG,KAAK,EAAE,GAAG,GAAG,KAAK,EAAE,GAAG,GAAG,KAAK,EAAE,GAAG,GAAG,KAAK,EAAE,GAAG,GAAG,KAAK,EAAE,GAAG,GAAG,KAAK,IAAI,EAAE,GAAG,KAAK,EAAE,GAAG,GAAG,KAAK,EAAE,GAAG,GAAG,KAAK,IAAI,EAAE,GAAG,KAAK,EAAE,GAAG,GAAG,MAAM,EAAE,GAAG,GAAG,MAAM,EAAE,GAAG,GAAG,MAAM,EAAE,GAAG,GAAG,MAAM,EAAE,GAAG,GAAG,MAAM,EAAE,GAAG,GAAG,MAAM,EAAE,GAAG,GAAG,MAAM,EAAE,GAAG,GAAG,MAAM,EAAE,GAAG,GAAG,MAAM,EAAE,GAAG,GAAG,MAAM,EAAE,GAAG,GAAG,MAAM,EAAE,GAAG,GAAG,MAAM,EAAE,GAAG,GAAG,MAAM,EAAE,GAAG,GAAG,MAAM,EAAE,GAAG,GAAG,MAAM,EAAE,GAAG,GAAG,MAAM,EAAE,GAAG,GAAG,MAAM,EAAE,GAAG,GAAG,MAAM,EAAE,GAAG,GAAG,OAAO,EAAE,GAAG,GAAG,OAAO,EAAE,GAAG,GAAG,OAAO,EAAE,GAAG,GAAG,OAAO,EAAE,GAAG,GAAG,OAAO,EAAE,GAAG,GAAG,OAAO,EAAE,GAAG,GAAG,OAAO,EAAE,GAAG,GAAG,OAAO,EAAE,GAAG,GAAG,OAAO,EAAE,GAAG,GAAG,OAAO,EAAE,GAAG,GAAG,OAAO,EAAE,GAAG,GAAG,OAAO,EAAE,GAAG,GAAG,OAAO,EAAE,GAAG,GAAG,OAAO,EAAE,GAAG,GAAG,OAAO,EAAE,GAAG,GAAG,OAAO,EAAE,GAAG,GAAG,OAAO,EAAE,GAAG,GAAG,OAAO,EAAE,GAAG,GAAG,OAAO,EAAE,GAAG,GAAG,OAAO,EAAE,GAAG,GAAG,OAAO,EAAE,GAAG,GAAG,OAAO,EAAE,GAAG,GAAG,OAAO,EAAE,GAAG,GAAG,OAAO,EAAE,GAAG,GAAG,OAAO,EAAE,GAAG,GAAG,OAAO,EAAE,GAAG,GAAG,OAAO,EAAE,GAAG,GAAG,OAAO,EAAE,GAAG,GAAG,OAAO,EAAE,GAAG,GAAG,OAAO,EAAE,GAAG,GAAG,OAAO,EAAE,GAAG,GAAG,QAAQ,EAAE,GAAG,GAAG,QAAQ,EAAE,GAAG,GAAG,QAAQ,EAAE,GAAG,GAAG,QAAQ,EAAE,GAAG,GAAG,QAAQ,EAAE,GAAG,GAAG,QAAQ,EAAE,GAAG,GAAG,QAAQ,EAAE,GAAG,GAAG,QAAQ,EAAE,GAAG,GAAG,QAAQ,EAAE,GAAG,GAAG,QAAQ,EAAE,GAAG,GAAG,QAAQ,EAAE,IAAI,GAAG,QAAQ,EAAE,GAAG,GAAG,QAAQ,EAAE,GAAG,GAAG,QAAQ,EAAE,GAAG,GAAG,QAAQ,EAAE,GAAG,GAAG,QAAQ,EAAE,GAAG,GAAG,QAAQ,EAAE,IAAI,GAAG,QAAQ,EAAE,IAAI,GAAG,QAAQ,EAAE,IAAI,GAAG,QAAQ,EAAE,IAAI,GAAG,QAAQ,EAAE,IAAI,GAAG,QAAQ,EAAE,IAAI,GAAG,QAAQ,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,IAAI,GAAG,SAAS,EAAE,GAASf,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAC1vI,SAASE,EAAEzB,GAAG,IAAIW,EAAEX,EAAE,GAAGjB,EAAEiB,EAAE,GAAGW,IAAI,KAAK,GAAK,EAAFA,GAAK,EAAS,OAAPX,EAAE,KAAYjB,CAAC,CAAC,SAASiO,EAAGhN,EAAEW,GAAG,GAAM,MAAHsC,EAAQ,CAACA,EAAE,CAAC,EACnG,IAAI,IAAIlE,EAAE,EAAEA,EAAEuD,EAAEjB,OAAOtC,GAAG,EAAEkE,EAAEX,EAAEvD,EAAE,IAAIuD,EAAEkE,MAAMzH,EAAEA,EAAE,EAAE,CAAmB,IAAlB,IAAII,EAAEsC,EAAEzB,GAAGpB,EAAEqE,EAAE9D,GAAY,MAAHP,GAASO,EAAEA,GAAG,EAAEsC,EAAEzB,GAAGpB,EAAEqE,EAAE9D,GAAG,IAAIsB,EAAE7B,EAAE,GAC3G,GAAH6B,IAAKA,EAAQ,GAANgB,EAAEzB,GAAMS,GAAGA,GAAEE,EAAE,GAAG/B,EAAE,GAAG+B,EAAE,GAAGF,CAAC,CAAC,SAASwB,EAAEjC,EAAEW,GAAG,IAAI,IAAI5B,EAAE,EAAEA,EAAE4B,EAAE5B,IAAe,IAAJ,EAAFiB,IAAQA,IAAIA,KAAM,EAAE,OAAOA,CAAC,CAAC,SAAS8C,EAAE9C,EAAEW,GAAG,OAAOX,GAAGW,CAAC,CAAC,SAAS7B,EAAEkB,EAAEW,EAAE5B,EAAEI,EAAEP,EAAE6B,GAAGE,EAAE5B,GAAG+D,EAAEA,EAAE,GAAG9C,EAAEpB,GAAG,EAAEoB,EAAEpB,EAAE6B,GAAGT,EAAEpB,EAAE6B,EAAEA,GAAG,EAAE,GAAGT,EAAEb,GAAG,GAC/MwB,EAAE5B,EAAE0B,GAAGqC,EAAEA,EAAE,EAAE9C,EAAEpB,GAAG,EAAEoB,EAAEpB,EAAE6B,GAAGT,EAAEpB,EAAE6B,EAAEA,GAAG,EAAE,GAAGT,EAAEb,GAAG,EAAE,CAAC,SAASgD,EAAEnC,EAAEW,EAAE5B,EAAEI,EAAEP,EAAE6B,GAAG,IAAInB,EAAEU,EAAEpB,EAAE6B,GAAGT,EAAEpB,EAAE6B,GAAGoC,EAAE7C,EAAEpB,GAAG4E,EAAExD,EAAEb,GACxGwB,EAAE5B,GAAG+D,EAAEA,EAAExD,EAAE,EAAE,GAAGuD,EAAEW,EAAE,GAAG7C,EAAE5B,EAAE0B,GAAGqC,EAAEA,EAAK,EAAFxD,EAAI,GAAGuD,EAAEW,EAAE,EAAE,CAAC,SAAST,EAAE/C,EAAEW,EAAE5B,EAAEI,EAAEP,EAAE6B,GAAGE,EAAE5B,GAAG+D,EAAEA,EAAE,EAAE9C,EAAEpB,GAAG,EAAEoB,EAAEpB,EAAE6B,GAAGT,EAAEpB,EAAE6B,EAAEA,GAAG,EAAE,GAAGT,EAAEb,GAAG,GACrHwB,EAAE5B,EAAE0B,GAAGqC,EAAEA,EAAE,GAAG9C,EAAEpB,GAAG,EAAEoB,EAAEpB,EAAE6B,GAAGT,EAAEpB,EAAE6B,EAAEA,GAAG,EAAE,GAAGT,EAAEb,GAAG,EAAE,CAAC,SAASkD,EAAErC,GAAoC,OAAT6B,EAAxB7B,EAAEA,EAAE,EAAE,EAAEA,EAAE,KAAK,KAAKA,KAAW,CAAU,CAmBiC,OAnBhC,SAAYA,EAAEW,EAAE5B,EAAEI,EAAEP,EAAE6B,GAAGtB,EAAE,IAAIoF,YAAYpF,EAAE0G,QACvJ,IAAuCpH,EAAEkD,EAAEa,EAAEyK,EAAMnL,EAAKoL,EAAuBlL,EAAE8B,EAA7ExE,EAAE6N,KAAKC,MAAMvK,EAAE/E,EAAKkI,OAAOxC,EAAE7C,EAAE5B,EAAgD4B,GAAG,EACtF,IADwF,IAAID,EAAS,GAAND,EAAE,GAC3FE,EAAE6C,GAAE,CAAC,IAAIR,EAAEH,EAAEwK,UAAUrN,EAAEW,GAAGL,EAAEuC,EAAEoE,WAAWjH,EAAEW,EAAE,GAAQ,GAALA,GAAG,EAAQ,IAAHqC,EAAMZ,EAAE9B,OAAO,GAAM,IAAH0C,EAAMvE,EAAE6B,OAAO,GAAM,IAAH0C,EAAMrB,EAAErB,OACvG,GAAM,IAAH0C,EAAMR,EAAElC,OAAO,GAAM,IAAH0C,EAAMiK,EAAG3M,OAAO,GAAM,IAAH0C,QAAgB,GAAM,IAAHA,EAAMlB,EAAExB,OAAO,GAAM,KAAH0C,QAAiB,GAAM,KAAHA,EAAOkK,EAAG5M,OAC3G,GAAM,IAAH0C,QAAgB,GAAM,KAAHA,QAAiB,GAAM,KAAHA,QAAiB,GAAM,KAAHA,QAAiB,GAAM,KAAHA,QAAiB,GAAM,KAAHA,EAAO/D,GAAEqB,OAC/G,GAAM,KAAH0C,OAAgB,CAAC,IAAIpC,EAAEoC,EAAE,GAAGA,EAAEA,EAAE9D,EAAI,MAAF0B,EAAQgB,EAAE,EAA4D,GAXwqIxB,MAW/tIQ,IAXutI,KAW9sIA,GAAKgB,EAAI,MAAFtB,EAAQsB,IAAM,IAAFhB,IAAQ,IAAQgB,EAAI,MAAFtB,GAXwpI,cAW3oIM,GAAQ,CAAC,GAAM,MAAHoB,EAAQ,CAACA,EAAE,GAC3I,IAAI,IAAIW,EAAE,EAAEA,EAAE,EAAEA,IAAIX,EAAEW,GAAG,IAAIgB,YAAYlF,IAAI,IAAIkD,IAAI,IACrD,IADyDmC,EAAE,IAAIH,YAAYlF,IAAI,IAAIkD,IAAI,IAAIR,EAAE,IAAIwC,WAAW,MACpGhB,EAAE,EAAEA,EAAE,KAAKA,IAAI,CAAC,IAAI2K,EAAG3K,EAAE,IAAIpD,EAAE2D,KAAKqK,IAAID,GAAIlL,EAAEc,KAAKmF,MAAM,IAAI9I,EAAEA,EAAEA,EAAE,UAAeA,EAAE4B,EAAEwB,GAAGO,KAAKsK,KAAKF,GAAIlL,CAAC,CAC/F,IADgGP,EAAE,IAAI0C,YAAY,MAC1G5B,EAAE,EAAEA,EAAE,KAAKA,IAAI,CAAC,IAAI8K,EAAG9K,EAAE+K,EAA3C,OAAkDxK,KAAKyK,IAAI,IAAIF,EAAG,MAAM,GAAG,IAAI5L,EAAEc,GAAGO,KAAKC,IAAIuK,EAA7F,MAAmG,CAAC,CAAC,IAAI1O,EAAEgD,EAAEF,GAAGyB,EAAEtB,EAAExD,EAAE,EAAE8C,EAAEiB,IAAI3D,EAAEoD,EAAEN,EAAE,EAAEJ,EAAEiB,IAC/I,GAAM,GAAHA,EAAM,IAAI,IAAIiB,EAAE,EAAEA,EAAE5E,EAAE4E,IAAI,IAAI,IAAI3C,EAAE,EAAEA,EAAEyC,EAAEzC,IAAI,CAAC,IAAIiB,EAAEpB,EAAU,GAAP8C,EAAEF,EAAEzC,GAAK9B,EAAEyE,GAAGhF,IAAI,GAAGqC,GAAGd,EAAE+B,IAAI,EAAE/B,EAAE+B,EAAE,EAAE,KAAM,CAAC,IAAIP,EAAG,CAACxB,EAAI,EAAFW,GAAK8D,EAAG,GAAGmJ,EAAG,EAAEC,EAAGtK,EAAE1E,EAAEgC,EAAE,CAAC,EAAE,GAAGL,EAAE,EACnJ,IADqJF,EAAE,EACjJsN,EAAGC,GAA2B,IAAvBb,EAAGxL,EAAGX,GAAGL,EAAEK,EAAE,GAAGP,EAAEO,EAAE,GAASL,EAAE,GAAGiE,EAAGmJ,KAAMtN,EAAEE,IAAK,IAAIiC,GAAGD,EAAE,GAAG,EAAEsL,EAAM,GAAHrL,EAAKc,EAAE,EAAEjC,EAAM,GAAHmB,EAAK5D,EAAE,EACnG,IAAQ4E,EAAE,EAAEA,EAAE5E,EAAE4E,IAAK,KAAIS,IAAIT,EAAEnC,IAAK7C,IAAI,GAAGqP,EAAGC,GAAGtK,EAAEF,EAAE,IAAQzC,EAAE,EAAEA,EAAEyC,EAAEzC,IAAI9B,EAAEkF,GAAGpD,GAAGK,EAAEsD,EAAGsJ,GAAGjN,GAAG,KAAKmM,CAA7C,CAAgD,GAAM,GAAHxK,EAAK,CAAC,IAAIxD,GAAER,IAAI,EAAE2E,GAAK,EAAFG,EAAIyK,GAAK,EAAFnP,EACnI,IAAQ4E,EAAE,EAAEA,EAAE5E,EAAE4E,IAAK,IAAQ3C,EAAE,EAAEA,EAAEsC,GAAGtC,IAAI,CAAK6B,EAAI,EAAFc,EAAIxE,GAAE6B,EAAZ,IAAsBxC,GAAEO,EAAEI,IAAZ8B,GAAE0C,EAAExE,GAAE6B,GAAgB,GAAH2C,EAAK3E,EAAEE,EAAE8E,EAAEnB,EAAErE,GAAEyC,GAAE9B,IAAWwE,GAAG5E,EAAE,EAAEkE,EAAE/D,EAAE8E,EAAEnB,EAAErE,GAAEyC,GAAE9B,IACtHkD,EAAEnD,EAAE8E,EAAEnB,EAAErE,GAAEyC,GAAE9B,GAAE,CAAE,IAAIT,GAAEQ,EAAU,IAARA,EAAE8E,EAAEA,EAAEtF,GAAUiF,EAAE,EAAEA,EAAEuK,GAAGvK,IAAK,IAAQ3C,EAAE,EAAEA,EAAEyC,EAAEzC,IAAI,CAAC,IAAcC,GAAV4B,EAAEc,EAAExE,GAAE,EAAE6B,EAAUxC,GAAEiF,GAAVxC,GAAE0C,EAAExE,GAAE6B,GAC9F,GAAHA,EAAKhC,EAAEE,EAAE8E,EAAEnB,EAAErE,GAAEyC,GAAE,GAAWD,GAAGyC,EAAE,EAAER,EAAE/D,EAAE8E,EAAEnB,EAAErE,GAAEyC,GAAE,GAAQoB,EAAEnD,EAAE8E,EAAEnB,EAAErE,GAAEyC,GAAE,EAAE,CAAMvC,GAAEQ,EAAEA,EAAE8E,EAAEA,EAAEtF,GACxF,IAD0F,IAAIyP,GAAG,GAAGC,GAAG,MAAM1L,EAAE,GAAG,GAC1G9D,GAAE,EAAEA,GAAE,EAAEA,KAAIuP,GAAGvP,IAAGwO,GAAI,GAAK,EAAFxO,GAAI,EAAE,IAAIgG,GAAGuJ,GAAGC,IAAI,GAAO,GAAJxJ,GAAM,IAAQjB,EAAE,EAAEA,EAAEuK,GAAGvK,IAAI,IAAQ3C,EAAE,EAAEA,EAAEsC,GACjGtC,IAAiB9B,EAAR2D,EAAEc,EAAExE,GAAE6B,GAAO9B,EAAE2D,IAAI+B,EAAG,CAAC,CAAC,GAAM,GAAHlC,GAAS,GAAHV,EAAM,KAAIJ,GAAGM,EAAE,GAAG+B,GAAG/B,EAAE,GAAGmM,GAAGnM,EAAE,GAAGoM,GAAGpM,EAAE,GAAG,IAAQyB,EAAE,EAAEA,EAAE9B,EAClG8B,GAAG,EAAE,IAAQ3C,EAAE,EAAEA,EAAErC,EAAEqC,GAAG,EAAE,CAAC,IAAIvC,GAAEkF,EAAEhF,EAAEqC,EAA4BoB,GAAER,GAA5BK,GAAG0B,IAAI,IAAIhF,IAAI,IAAIqC,IAAI,IAAWX,GAAG4D,GAAGhC,GAAG,KAAKjC,GAAGqO,GAAGpM,GAAG,KAAKxB,GAAG6N,GAAGrM,GAAG,KAAKsM,IAAIlO,IAAI,GAAG+B,GAAEwB,IAAI5D,IAAI,GAAGoC,GAAEoM,GAAGpM,GAAE3B,GAAGgO,GAAGrM,GAAE3B,GACvJG,GAAIvB,EAAEZ,IAAG8D,EAAEiM,IAAInP,EAAEZ,GAAE,GAAG8D,EAAEqB,IAAIvE,EAAEZ,GAAEE,GAAG4D,EAAEgM,IAAIlP,EAAEZ,GAAEE,EAAE,GAAG4D,EAAEkM,MAASpP,EAAEZ,IAAG8D,EAAEgM,IAAIlP,EAAEZ,GAAE,GAAG8D,EAAEiM,IAAInP,EAAEZ,GAAEE,GAAG4D,EAAEkM,IACjGpP,EAAEZ,GAAEE,EAAE,GAAG4D,EAAEqB,IAAI,CAHoE,CAGlE/C,GAAK,EAAFiB,CAAG,MAAM,GAAM,OAAHhB,EAAUD,GAAK,EAAFiB,OAAS,GAAM,MAAH1C,GAAY,MAAHA,GAAY,MAAHA,EAAe,MAAM0B,EAAEgD,SAAS,GAAG,CAAC,CAAC3F,QAAQF,IAAIoP,KAAKC,MAAM9N,EAAE,CAAU,CAzB1H,GA6BzBxB,EAAK2I,OAAOsD,gBAAkB,SAASpE,EAAKC,EAAMgD,EAAKC,EAAKC,EAAKC,GAIhE,IAHA,IAAI/J,EAAI2G,EAAIf,MAAO4J,EAAK,EAAFxP,EAClByP,EAAK,EAAGC,EAAM,IAAI3O,WAAWyO,GAE3BC,EAAG5F,GAAK,CAEb,IADA,IAAI8F,EAAG,EACDA,EAAGH,GAAI,CACZ,IAAIzM,EAAI6D,EAAKgD,EAAI6F,GACjB,GADsBA,IACnB1M,EAAE,IAAK,CAAQ,IAAI,IAAIc,EAAE,EAAGA,EAAEd,EAAGc,IAAK6L,EAAIC,EAAG9L,GAAK+C,EAAKgD,EAAI6F,EAAG5L,GAAK8L,GAAI5M,EAAI0M,GAAI1M,CAAI,KACjF,CAAa,IAAVA,GAAI,IAAcc,EAAE,EAAGA,EAAEd,EAAGc,IAAK6L,EAAIC,EAAG9L,GAAK+C,EAAKgD,EAAI6F,GAAQE,GAAI5M,EAAI0M,GAAQ,CACvF,CAEA,IAAI,IAAInM,EAAE,EAAGA,EAAEtD,EAAGsD,IACjBwG,EAAIC,EAAK,GAAK2F,EAAIpM,GAClBwG,EAAIC,EAAK,GAAK2F,EAAIpM,EAAEtD,GACpB8J,EAAIC,EAAK,GAAK2F,EAAIpM,EAAI,EAAFtD,GACpB8J,EAAIC,EAAK,GAAK2F,EAAIpM,EAAI,EAAFtD,GACpB+J,GAAM,CAER,CACD,EAEAjL,EAAK2I,OAAOmI,YAAc,SAAShJ,EAAMe,EAAKkI,GAC7C,IACIhG,EAAKiG,EADLC,EAAejR,EAAK2I,OAAOuI,YAK/B,OAHAnG,EAAOkG,EAAWnJ,EAAMe,EAAKkI,EAAK,GAAIA,GAEP,KAD/BC,EAAOC,EAAWnJ,EAAMe,EAAKkC,EAAK,IACrB,GAAMA,EAAI,KAAYiG,IAAS,GAAKjG,GAAO,GACjDiG,CACR,EACAhR,EAAK2I,OAAOiD,WAAa,SAAS/D,EAAKsJ,EAAKrG,EAAKsG,EAAYpG,EAAKC,GACjE,IAAIoG,EAAYxJ,EAAU,KAAE,GAAId,EAAOc,EAAU,KAAE,GAAIyJ,EAASzJ,EAAU,KAAE,GACxEI,EAAKJ,EAAI4B,KAAOzJ,EAAKkJ,OAASlJ,EAAKkI,OAKvC,GAHYmJ,EAAUtK,GAAUqK,GAAgBC,EAAUtK,EAAO,KAAOqK,EA4BxE,GAAGC,EAAUtK,EAAO,KAAKqK,EAAzB,CAOA,IACcG,EAAKC,EAAKnM,EAAKoM,EAAMC,EAAMjF,EAAIkF,EAAWC,EADpDC,EAAM,IAAIpL,YAAY,IAGtBqB,EAAO,IAAI7F,WAAWoP,EAAU,GACpC,IAAKzE,EAAI,EAAGA,EAAM7F,EAAQ6F,IAAO,CAEhC,IAAI,IAAI7H,EAAE,EAAGA,EAAEsM,EAAWtM,IAAK+C,EAAK/C,GAAGoM,EAAIrG,KAC3C,IAAK8G,EAAG,EAAG/E,EAAI,EAAGA,EAAMwE,EAAU,GAAIO,GAAI,GAAI,CAK7C,IAJAJ,EAAO,MAASD,EAAMtJ,EAAImB,SAAStB,EAAK8J,IACxCvM,EAAO,KAASkM,IAAQ,GACxBE,EAAO,GAAQF,IAAQ,GACvBG,EAAO,GAAQH,IAAQ,GAClB9E,EAAG,EAAGA,EAAK,GAAK,KAAQA,GAAM+E,EAAInM,EAAKoH,KAC5C,IAAKkF,EAAI,GAAIxQ,EAAE,EAAGA,EAAI,GAAIA,IAChBA,GAAKsQ,EAAMI,EAAI1Q,GAAKqQ,EACpBrQ,GAAKuQ,EAAMG,EAAI1Q,GAAKkE,GAE5BwM,EAAI1Q,KAAO8G,EAAIkB,WAAWrB,EAAM8J,GAAID,GAAO,OAAe,EAANA,GAAW,MAASlF,GAAMpH,EAC1EwM,EAAI1Q,GAAK,OAAO0Q,EAAI1Q,GAAK,MAC7BwQ,GAAO,GAET,IAAKxQ,EAAE,EAAGA,EAAI,GAAIA,IAAK0L,GAAK,EAEvBiF,EAAOD,EAAI1Q,IAAI,EACnBnB,EAAK2I,OAAOoJ,OAAO/G,GAAM4B,EAAIyE,EAAUxE,GAAKyE,EAAUQ,GAAM,GAAGR,GAEhEzE,GAAa,EAANA,EAAU,EAAE,EACpB,CACD,CA9BA,MAHC,IAAI,IAAI1L,EAAE,EAAGA,EAAEiQ,EAAYjQ,GAAG,EAAG,CAAG,IAAI6Q,EAAGb,EAAIrG,EAAI3J,EAAE,GAAI8Q,EAAGd,EAAIrG,EAAI3J,EAAE,GAAI+Q,EAAGf,EAAIrG,EAAI3J,EAAE,GACtF6J,EAAIC,EAAK9J,GAAI8Q,GAAI,EAAID,IAAK,EAAKhH,EAAIC,EAAK9J,EAAE,GAAI6Q,GAAI,EAAIE,IAAK,EAAKlH,EAAIC,EAAK9J,EAAE,GAAI+Q,GAAI,EAAID,IAAK,CAAK,KA5BnG,CACClL,GAAQ,EACR,IAIUpE,EAAGkK,EAAKD,EAJd/D,EAAM,CAACiC,EAAI,EAAE,EAAE,GACfiG,EAAO,IAAItK,YAAY,OACvB0L,EAAM,CAAE,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAC3D,KAAM,KAAM,KAAM,KAAM,IAAM,IAAM,IAAM,IAAM,KAC1BC,EAAI,EACvBC,EAAarS,EAAK2I,OAAOmI,YAG7B,IADAC,EAAK,GAAK,GACLpO,EAAExB,EAAE,EAAGA,EAAI,GAAIA,IAEnB,IADA,IAAImR,EAAM,SAAWH,EAAIhR,KAAO,GACxB8C,EAAE,EAAGA,EAAEqO,EAAKrO,IAAK8M,IAAOpO,GAAKwP,EAAIhR,GAE1C,IAAK0L,EAAMwE,EAAWxE,KACrB,IAAKD,EAAI,EAAGA,EAAM7F,EAAO,EAAG6F,GAAK,EAGhC,GAFIA,GAAO7F,IAAQ6F,EAAM,GACzBwF,GAAOC,EAAWlB,EAAKtI,EAAKkI,GACxBnE,EAAM7F,EAAQ,CACjB,IAAI+K,EAAa,KAAN,EACX9R,EAAK2I,OAAOoJ,OAAO/G,GAAM4B,EAAIyE,EAAUxE,GAAKyE,EAAUQ,GAAM,GAAGR,EAChE,CAGH,CAqCD,EAEAtR,EAAK2I,OAAOqD,aAAe,SAASnE,EAAI0K,EAAMzK,EAAMgD,EAAKsG,EAAYpG,EAAKC,GAEzE,IAAIuH,EAAa,CACd,CAAE,EAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EACjC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,GAAG,IAC5B,CAAE,EAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EACjC,GAAK,GAAK,GAAK,GAAK,GAAK,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,GAAG,IAC7C,CAAE,EAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EACjC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,GAAG,IAC5B,CAAE,EAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EACjC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,GAAG,GAAG,GAAG,IAClC,CAAE,EAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EACjC,EAAE,GAAK,GAAK,GAAK,GAAK,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,IAC3C,CAAE,EAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EACjC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,GAAG,EAAE,EAAE,EAAE,GAAG,KAEjCnB,EAAYxJ,EAAU,KAAE,GAAId,EAAOc,EAAU,KAAE,GAAIyJ,EAASzJ,EAAU,KAAE,GAExE4K,EAAO,EAAGC,EAAQ,EAClBC,EAAe3S,EAAK2I,OAAOiK,cAC3B3B,EAAejR,EAAK2I,OAAOuI,YAE3B2B,EAAKN,EAAK,GAAGO,QAAQC,UAAWC,EAAKH,EAAS,KAAEA,EAAS,KAAEA,EAAS,KAAGI,EAAI,EAE3EC,EAAOF,EAAGC,KAAQE,EAAOH,EAAGC,KACpB,IAARC,GAAwB,IAARC,IAAeF,GAAK,MAC5B,IAARC,IAAcT,EAAO,GACT,IAAZnB,IAAgBmB,GAAQ,GAG5B,IADA,IAAIW,EAAQ,CAAC,CAAC,EAAE,GAAG,CAAC,EAAE,IAAKnL,EAAKJ,EAAI4B,KAAOzJ,EAAKkJ,OAASlJ,EAAKkI,OACtD/G,EAAE,EAAGA,EAAE,EAAGA,IAAK,IAAI,IAAI4D,EAAE,EAAGA,EAAE,EAAGA,IAAQqO,EAAMjS,GAAG4D,GAAKkD,EAAIsH,UAAUyD,EAAGC,GAAOA,GAAK,EAI5F,IAOIrG,EAAKC,EACL9B,EAAKsI,EAAKrC,EARVQ,EAAM,GAAKF,EAAW,MAAQgC,EAAK,EACnCC,EAAQtL,EAAIsH,UAAUyD,EAAGC,GAAOA,GAAK,EACrCM,EAAQ,IAAGD,EAAOlO,KAAKmF,MAAMiH,GAAO+B,EAAM,KAClC,IAARL,GAAwB,IAARC,GAAgBG,EAAO,IAAIZ,EAAQzK,EAAIsH,UAAUyD,EAAG,MAMxE,IACIQ,EAAQ,CAAC,EAAE,GACXzC,EAAO4B,EAAaH,EAAWC,IAG/B5J,EAAM,CAACiC,EAAI,EAAE,EAAE,GAGnB,IAAW8B,EAAI,EAAGA,EAAM7F,EAAQ6F,IAM/B,IALI8F,GAAS9F,GAAO8F,IAEnB3B,EAAO4B,EAAcH,EAAWC,EAAK,KAGjC5F,EAAI,EAAGA,EAAMwE,EAAWxE,IAAO,CACnC1L,EAAI8P,EAAWnJ,EAAKe,EAAIkI,EAAK,GAAGA,GAID,KAD/BC,EAAiD,GAAvCC,EAAWnJ,EAAKe,GAF1BkC,EAAW,GAAL5J,IACNkS,EAAMlS,IAAM,GAC0B,IAAM,IAAWkS,IAAS,GACnD,GAAMtI,EAAI,KACtBiG,IAAS,GAAKjG,IAAa,GAALsI,EAAO,EAAE,IAC5BxG,EAAM,EAAG2G,EAAM3G,GAAOuG,EAAY,EAANxG,GAASC,IAAQmE,EACpCwC,EAAY,EAAN3G,IAAYmE,EAE/B,IAAIc,EAAM1M,KAAKC,IAAID,KAAKoM,IAAIgC,EAAY,EAAN3G,GAAS,IAAI,GAAGyE,GAAU,GACxDmC,GAAO7G,EAAIyE,EAAUxE,GAAKyE,EAC9BtR,EAAK2I,OAAOoJ,OAAO/G,EAAKyI,EAAK3B,GAAM,GAAGR,EACvC,CAEF,EAEAtR,EAAK2I,OAAOoJ,OAAQ,SAAS2B,EAAIC,EAAKpC,GAAQA,IAAY,GAAO,EAAJoC,GAAU,IAAIxO,EAAGwO,IAAM,EAAKD,EAAGvO,IAAIoM,IAAM,GAAKmC,EAAGvO,EAAE,IAAIoM,IAAM,EAAImC,EAAGvO,EAAE,IAAIoM,CAAM,EAG7IvR,EAAK2I,OAAOuI,YAAc,SAASpJ,EAAKe,EAAI+K,EAAO7C,GAEnC/Q,EAAK2I,OAAOkL,UAD3B,IAEI5P,EAEA6G,EAAIjC,EAAI,GAAIiL,EAAOjL,EAAI,GAAIkL,EAAMlL,EAAI,GAAImL,EAAMnL,EAAI,GAIvD,GAAa,GAAT+K,GAAcG,EAAQ,EAAG,OAAO,EACpC,MAAQC,GAASD,EAAQH,IAA+B,IAArB3P,EAAI6D,EAAKgD,SACzCkJ,EAViB,IAYnBF,GAAUA,GAAU,GAAK7P,EACzB8P,GAAS,EAQV,GANA9P,EAAK6P,GAAW,GAAGC,IAAa,GAAGH,EAC/B7C,GACHgD,GAAShD,EAAK9M,EAAE,KAAO,EACvBA,EAAe,IAAV8M,EAAK9M,EAAE,IAEZ8P,GAASH,EACNG,EAAQ,EAAG,KAAM,IAIrB,OAFAlL,EAAI,GAAGiC,EAAMjC,EAAI,GAAGiL,EAASjL,EAAI,GAAGkL,EAAQlL,EAAI,GAAGmL,EAE5C/P,CACR,EAEAjE,EAAK2I,OAAOiK,cAAgB,SAASqB,GACpC,IAAIzC,EAAKzG,EAAK9J,EAAGE,EAAG4D,EAChBgM,EAAO,GAEX,IAAKS,EAAI,GAAS,GAALA,IAAWyC,EAAOzC,GAAMA,KACrC,IAAI0C,EAAG,GAGP,IADAnD,EAAK,GAAKS,EACLvQ,EAAE8J,EAAI,EAAGA,GAAOyG,EAAKzG,IACzB,IAAK5J,EAAE,EAAGA,EAAI8S,EAAOlJ,GAAM5J,MAAO+S,EACjC,IAAKnP,EAAE,EAAGA,EAAI,GAAMyM,EAAIzG,EAAMhG,IACzB9D,GAAK,GAAKuQ,IACbT,EAAK9P,KAAQ8J,GAAO,EAAKkJ,EAAOC,IACpC,OAAOnD,CACR,EAEA/Q,EAAK2I,OAAO4C,eAAiB,SAAS1D,EAAKC,EAAMgD,EAAKC,EAAKC,EAAKC,GAE/DF,EAAM3F,KAAKC,IAAI0F,EAAKjD,EAAKvE,OAAOuH,GAChC,IAAIqJ,EAAStM,EAAU,KAAGuM,EAAOD,EAASA,EAAO5Q,OAAS,EAAGqF,EAAO,IAAI3G,WAAWmS,EAAOrJ,GAE1F,GAAIoJ,EAAQ,CAEX,IADA,IAA0BE,EAAO,EACxBlT,EAAE,EAAGA,EAAGiT,EAAK,IAGN,KAAXD,EAAOhT,IAJS,KAIEgT,EAAOhT,EAAE,IAHNA,IAIzByH,EAAKyL,KAAUF,EAAOhT,GAIvB,IAAImT,EAAQxM,EAAKgD,GAAMyJ,EAAQzM,EAAKgD,EAAM,GAM1C,IALW,KAAPwJ,GAVM,KAUQC,IAEjB3L,EAAKyL,KAAUC,EACf1L,EAAKyL,KAAUE,GAEPpT,EAAE,EAAGA,EAAE4J,EAAK5J,IAAKyH,EAAKyL,KAAUvM,EAAKgD,EAAI3J,EACnD,MACK,IAASA,EAAE,EAAGA,EAAE4J,EAAK5J,IAAKyH,EAAKzH,GAAK2G,EAAKgD,EAAI3J,GAElD,GAAmB,OAAhB0G,EAAU,KAAE,IAA8B,GAAhBA,EAAU,KAAE,IAAyB,OAAhBA,EAAU,KAAE,GAC9D,CACC,IAAIqE,EAAMrE,EAAU,KAAE,GAElB+I,EAAM5Q,EAAKwU,mBAAmB5L,GAAO6L,EAAK7D,EAAIrN,OAK7C,GAAQ,IAAL2I,EACP,GAAGrE,EAAI4B,KAAM,IAAQtI,EAAE,EAAGA,EAAEsT,EAAMtT,IAAS6J,EAAIC,GAAM9J,GAAG,IAAc,IAAPyP,EAAIzP,GAAU6J,EAAIC,GAAM9J,GAAG,GAAG,GAAMyP,EAAIzP,KAAK,OAC/F,IAAQA,EAAE,EAAGA,EAAEsT,EAAMtT,IAAS6J,EAAIC,GAAM9J,GAAG,IAAOyP,EAAIzP,KAAK,EAAK6J,EAAIC,GAAM9J,GAAG,GAAG,GAAa,IAAPyP,EAAIzP,QAEnG,GAAQ,IAAL+K,GAAgB,IAALA,GAAgB,IAALA,EAC7B,KAAIwI,EAAM,GAAGxI,EACb,IAAQ/K,EAAE,EAAGA,EAAEsT,EAAMtT,IAAKnB,EAAK2I,OAAOoJ,OAAO/G,EAAK7J,EAAE+K,EAAK0E,EAAIzP,IAAIuT,EADjD,KAGZ,IAAQ,GAALxI,EAGH,MAAM,IAAIrK,MAAM,yBAAyBqK,GAF7C,IAAQ/K,EAAE,EAAGA,EAAEsT,EAAMtT,IAAK6J,EAAIC,EAAK9J,GAAGyP,EAAIzP,EAEO,CACnD,KAEA,CACC,IAAIwT,EAAS,IAAI3U,EAAKsH,YAAgBqN,EAAO5O,MAAM6C,GACnD,IAAIgM,EAAUD,EAAOxN,QAAQ,CAAC,MAAQwN,EAAO7N,MAAM,OAAS6N,EAAO5N,OAAO,UAAW,EAAK,aAAc,IACxG,IAAS5F,EAAE,EAAGA,EAAEyT,EAAQrR,OAAQpC,IAAK6J,EAAIC,EAAO9J,GAAKyT,EAAQzT,EAC9D,CAIqB,GAAlB0G,EAAU,KAAE,KAAUA,EAAU,KAAE,GAAK,EAC3C,EAEA7H,EAAK2I,OAAOkM,mBAAqB,SAAShN,EAAKC,EAAMgD,EAAKC,GAEzD,IACwBoJ,EAAQW,EAA4B3T,EAAG4D,EAAGhB,EAD9DgR,EAAM,IACNC,EAAO,EAAGhL,EAAO,EAAsBiL,GAAU,EACjDC,EAAgBrN,EAAU,KAAGsN,EAASD,EAAaA,EAAW,GAAK,EACnEE,EAAgBvN,EAAU,KAAGwN,EAASD,EAAgBA,EAAc,GAAK,EACzEE,EAAgBzN,EAAU,MAAKA,EAAU,MAAKqN,EAC9CK,EAAgB1N,EAAU,KAAG2N,EAAM,EAAGC,EAAM,EAC5C7L,EAAgB/B,EAAU,KAAEA,EAAU,KAAE,GAAG,EAC3C6N,EAAgB7N,EAAU,KAQ9B,GANGyN,IAEFtL,EAAOsL,EAAQ,GACfL,EAAWK,EAAQ/R,OAAS,IAGzB0R,EACJ,CACC,GAAc,KAAXnN,EAAKgD,IAAahD,EAAKgD,EAAI,IAAIiK,EAAK,MAAO,CAAEY,WAAY7K,GAC5D,GAAe,MAAZoK,IAEmB,KAAlBpN,EAAKgD,EAAIqK,IAAgBrN,EAAKgD,EAAIqK,EAAO,IAAIJ,EAAKC,EAAOlK,EAAIqK,EAC3DlV,EAAI,+CAES,MAAfmV,EAAqBnV,EAAI,iDACpBkV,GAAUnL,GAASmL,EAAOE,GAAWrL,IAAM/J,EAAI,sDAE5C,MAAR+U,GAAc,MAAO,CAAEW,WAAYX,EAExC,CAIA,GAFY,MAATO,IAAkBC,EAAMD,EAAQ,GAAKE,EAAMF,EAAQ,IAEvC,MAAZL,GACgB,MAAfE,EACF,GAAGC,GAAU,GAAMF,EAAOE,GAAWrL,EACrC,CAIC,IAHqEmK,EAAvC,KAA3BrM,EAAKgD,EAAIqK,EAAOE,EAAO,IAAWvN,EAAKgD,EAAIqK,EAAOE,EAAO,IAAIN,EAAc,IAAI9S,WAAWoT,EAAO,GACtF,IAAIpT,WAAWoT,GAEzBlU,EAAE,EAAGA,EAAEgT,EAAO5Q,OAAQpC,IAAKgT,EAAOhT,GAAK2G,EAAKgD,EAAIqK,EAAOhU,GAC3DlB,EAAI,yFACL,MACKA,EAAI,qFAEX,GAAa,MAAVkU,EACH,CACC,IAAIyB,EAAO,EAAGhF,EAAM,GACpBA,EAAIgF,KAAU,IAAKhF,EAAIgF,KAAUb,EAEjC,IAAIc,EAAUhO,EAAU,KACxB,GAAY,MAATgO,EAAe,MAAM,IAAIhU,MAAM,8BAClC,IAAIV,EAAE,EAAGA,EAAE0U,EAAQtS,OAAQpC,IAG1B,IADAyP,EAAIgF,KAAU,IAAKhF,EAAIgF,KArDO,IAqDQhF,EAAIgF,KAAU,EAAGhF,EAAIgF,KAAU,GAAIhF,EAAIgF,KAAUzU,EACnF4D,EAAE,EAAGA,EAAE,GAAIA,IAAK6L,EAAIgF,KAAU9N,EAAKgD,EAAI+K,EAAQ1U,GAAG4D,GAGvD,IAAIhB,EAAE,EAAGA,EAAE,EAAGA,IACd,CACC,IAAI+R,EAAUjO,EAAU,GAAL9D,EAAU,OAAS,QACtC,GAAY,MAAT+R,EAAe,MAAM,IAAIjU,OAAa,GAALkC,EAAU,eAAiB,gBAAkB,mBACjF,IAAI5C,EAAE,EAAGA,EAAE2U,EAAQvS,OAAQpC,IAC3B,CACCyP,EAAIgF,KAAU,IAAKhF,EAAIgF,KA/DiB,IAiExC,IAAIG,EAAK,GACT,IAAIhR,EAAE,EAAGA,EAAE,GAAIA,IAAKgR,GAAMjO,EAAKgD,EAAIgL,EAAQ3U,GAAG4D,GAI9C,IAFA6L,EAAIgF,KAAWG,IAAO,EAAInF,EAAIgF,KAAe,IAALG,EACxCnF,EAAIgF,KAAWzU,EAAK4C,GAAK,EACrBgB,EAAE,EAAGA,EAAE,GAAIA,IAAK6L,EAAIgF,KAAU9N,EAAKgD,EAAIgL,EAAQ3U,GAAG4D,GACtD,IAAIA,EAAE,EAAGA,EAAEgR,EAAIhR,IAAK6L,EAAIgF,KAAU9N,EAAKgD,EAAIgL,EAAQ3U,GAAG,GAAG4D,EAC1D,CACD,CAOA,GALA6L,EAAIgF,KAAU,IAAKhF,EAAIgF,KA3E0C,IA4EjEhF,EAAIgF,KAAU,EAAIhF,EAAIgF,KAAU,EAAI,EAAEhM,EAAMgH,EAAIgF,KAAU,EAC1DhF,EAAIgF,KAAW/N,EAAId,SAAW,EAAK,IAAM6J,EAAIgF,KAAuB,IAAb/N,EAAId,OAC3D6J,EAAIgF,KAAW/N,EAAIf,QAAW,EAAK,IAAM8J,EAAIgF,KAAuB,IAAb/N,EAAIf,MAC3D8J,EAAIgF,KAAUhM,EACN,GAALA,EAAWgH,EAAIgF,KAAU,EAAIhF,EAAIgF,KAAU,GAAKhF,EAAIgF,KAAU,OAC5D,IAAIzU,EAAE,EAAGA,EAAE,EAAGA,IAElByP,EAAIgF,KAAUzU,EAAI,EAClByP,EAAIgF,KAAgB,GAALzU,EAAU,IAAc,GAANqU,IAAa,EAAY,GAANC,EACpD7E,EAAIgF,KAAUzU,EAGD,MAAXuU,GAAiC,GAAdA,EAAU,KAE/B9E,EAAIgF,KAAU,IAAMhF,EAAIgF,KA1F4B,IA0FZhF,EAAIgF,KAAU,EAAIhF,EAAIgF,KAAU,EACxEhF,EAAIgF,KAAWF,EAAU,KAAO,EAAK,IACrC9E,EAAIgF,KAAyB,IAAfF,EAAU,IAGzBvB,EAAS,IAAIlS,WAAW2O,EACzB,CAEA,IAAIoF,GAAU,EAEd,IADA7U,EAAI,EACEA,EAAKgT,EAAO5Q,OAAS,GAAI,CAC9B,GAAc,KAAX4Q,EAAOhT,IArGuD,KAqG5CgT,EAAOhT,EAAE,GAAU,CAAG6U,EAAS7U,EAAG,KAAQ,CAC/DA,GACD,CAEA,IAAc,GAAX6U,EACH,CACC,IAAIC,EAAS,IAAIhU,WAAWkS,EAAO5Q,OAAS,GAAK,EAAEqG,GACnDqM,EAAOvK,IAAIyI,GACX,IAAI+B,EAAS/B,EAAO5Q,OASpB,GARAyS,EAAS7B,EAAO5Q,QAChB4Q,EAAS8B,GAEFC,KAAY,IAAK/B,EAAO+B,KAjHkC,IAkHjE/B,EAAO+B,KAAY,EAAI/B,EAAO+B,KAAY,EAAI,EAAEtM,EAAMuK,EAAO+B,KAAY,EACzE/B,EAAO+B,KAAarO,EAAId,SAAW,EAAK,IAAMoN,EAAO+B,KAAyB,IAAbrO,EAAId,OACrEoN,EAAO+B,KAAarO,EAAIf,QAAW,EAAK,IAAMqN,EAAO+B,KAAyB,IAAbrO,EAAIf,MACrEqN,EAAO+B,KAAYtM,EACX,GAALA,EAAWuK,EAAO+B,KAAY,EAAI/B,EAAO+B,KAAY,GAAK/B,EAAO+B,KAAY,OAC3E,IAAI/U,EAAE,EAAGA,EAAE,EAAGA,IAElBgT,EAAO+B,KAAY/U,EAAI,EACvBgT,EAAO+B,KAAkB,GAAL/U,EAAU,IAAc,GAANqU,IAAa,EAAY,GAANC,EACzDtB,EAAO+B,KAAY/U,CAErB,CAEA,GAAe,KAAZ2G,EAAKkC,IA/HqE,KA+HvDlC,EAAKkC,EAAK,GAChC,CACC,IAAImM,EAAUrO,EAAKkC,EAAK,IAAI,EAAKlC,EAAKkC,EAAK,GAG3C,KAFA8K,EAAY,IAAI7S,WAAWkU,EAAO,IACxB,GAAKrO,EAAKkC,GAAQ8K,EAAU,GAAKhN,EAAKkC,EAAK,GAAI8K,EAAU,GAAKhN,EAAKkC,EAAK,GAAK8K,EAAU,GAAKhN,EAAKkC,EAAK,GAC5G7I,EAAE,EAAGA,EAAGgV,EAAO,EAAIhV,IAAK2T,EAAU3T,EAAE,GAAK2G,EAAKkC,EAAK7I,EAAE,EAC1D,KAEA,CAEC,IAAIiV,EAAS,EAGb,IAJAtB,EAAY,IAAI7S,WAAW,EAAQ,EAAE2H,IAE3BwM,KAAY,IAAMtB,EAAUsB,KA1IsC,IA2I5EtB,EAAUsB,KAAY,EAAItB,EAAUsB,KAAY,EAAI,EAAExM,EAAMkL,EAAUsB,KAAYxM,EAC1E,GAALA,EAAWkL,EAAUsB,KAAY,EAAItB,EAAUsB,KAAY,OACzD,IAAIjV,EAAE,EAAGA,EAAE,EAAGA,IAElB2T,EAAUsB,KAAYjV,EAAE,EAAI2T,EAAUsB,KAAajV,GAAK,EAAKA,EAE9D2T,EAAUsB,KAAY,EAAItB,EAAUsB,KAAY,GAAKtB,EAAUsB,KAAY,CAC5E,CAEA,MAAO,CAAET,WAAY7K,EAAKqJ,OAAQA,EAAQW,UAAWA,EAAWuB,YAAaL,EAC9E,EAEAhW,EAAK2I,OAAO2C,eAAiB,SAASzD,EAAKC,EAAMgD,EAAKC,EAAKC,EAAKC,GAE/D,IAAOqL,EAAMlC,EAAMxL,EAAM2N,EACrBC,EAAWxW,EAAK2I,OAAOkM,mBAAmBhN,EAAKC,EAAMgD,EAAKC,GAE9D,GAAwB,MAArByL,EAASb,WAIX,IAFAW,EAAOxL,EAAIC,EAAIyL,EAASb,WACxB/M,EAAO,IAAI3G,WAAWqU,GAClBnV,EAAE,EAAGA,EAAEmV,EAAMnV,IAAKyH,EAAKzH,GAAK2G,EAAK0O,EAASb,WAAWxU,OAG1D,CAcC,IAbAiT,EAAOoC,EAASrC,OAAO5Q,QACvBqF,EAAO,IAAI3G,WAAWmS,EAAOoC,EAAS1B,UAAUvR,OAASwH,EAAM,IAC1DW,IAAI8K,EAASrC,QAClBoC,EAAUnC,EAEVxL,EAAK4N,EAASH,YAAY,GAAMxO,EAAId,SAAW,EAAK,IAAM6B,EAAK4N,EAASH,YAAY,GAAkB,IAAbxO,EAAId,OAC7F6B,EAAK4N,EAASH,YAAY,GAAMxO,EAAIf,QAAW,EAAK,IAAM8B,EAAK4N,EAASH,YAAY,GAAkB,IAAbxO,EAAIf,MAE/E,KAAXgB,EAAKgD,IAAahD,EAAKgD,EAAI,IAAI2L,MAEjC7N,EAAK8C,IAAI8K,EAAS1B,UAAWyB,GAC7BA,GAAWzB,UAAUvR,QAElBpC,EAAE,EAAGA,EAAE4J,EAAK5J,IAAKyH,EAAK2N,KAAazO,EAAKgD,EAAI3J,GAChDyH,EAAK2N,KAAa,IAAM3N,EAAK2N,KAAaG,GAC3C,CAEA,IAAI/B,EAAS,IAAI3U,EAAKsH,YAAgBqN,EAAO5O,MAAM6C,GAEnD,IADA,IAAIgM,EAAUD,EAAOxN,QAAQ,CAAC,MAAQwN,EAAO7N,MAAM,OAAS6N,EAAO5N,OAAO,UAAW,EAAK,aAAc,IAC/F5F,EAAE,EAAGA,EAAEyT,EAAQrR,OAAQpC,IAAK6J,EAAIC,EAAO9J,GAAKyT,EAAQzT,GAI1D0G,EAAU,MAAuB,GAAlBA,EAAU,KAAE,KAAUA,EAAU,KAAE,GAAK,EAC1D,EAEA7H,EAAK2I,OAAOkD,gBAAkB,SAAS/D,EAAMgD,EAAKC,EAAKC,EAAKC,GAG3D,IADA,IAAI0L,EAAK,IAAIC,UAAU9O,EAAKC,QAAS8O,EAAK,IAAID,UAAU5L,EAAIjD,QAASuK,EAAMxH,EAAIC,EACzED,EAAIwH,GACV,CACC,IAAI3P,EAAIgU,EAAG7L,GACX,GADkBA,IACfnI,GAAG,GAAMA,EAAE,IAAQ,IAAI,IAAIxB,EAAE,EAAGA,EAAGwB,EAAE,EAAGxB,IAAQ0V,EAAG5L,GAAM0L,EAAG7L,GAAOG,IAASH,IAC/E,GAAGnI,IAAI,KAAOA,EAAE,EAAG,CAAG,IAAQxB,EAAE,EAAGA,EAAK,EAAFwB,EAAKxB,IAAQ0V,EAAG5L,GAAM0L,EAAG7L,GAAOG,IAAqBH,GAAQ,CACpG,CACA,OAAOG,CACR,EAEAjL,EAAK2I,OAAOmD,eAAiB,SAAShE,EAAMgD,EAAKC,EAAKC,EAAKC,GAI1D,IAFA,IAAI6L,EAAK,CAAE,EAAG,EAAG,GAAI,GAAMC,EAAK,CAAE,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GACtDzE,EAAMxH,EAAIC,EAAKiM,EAAY,EAAL/L,EAAQgM,EAAK,EACjCnM,EAAIwH,GACV,CACC,IAAI3M,EAAImC,EAAKgD,GAAMoM,EAAOvR,IAAI,EAAIhD,EAAO,GAAFgD,EAEvC,GAF+CmF,IACvC,GAALoM,IAAUD,EAAM,GAAFtU,EAAQqI,EAAIgM,IAAO,IAAOC,GAAK,GAAG,EAAED,EAAK,GAAOA,KACzD,GAALE,EAAQ,IAAI,IAAI/V,EAAE,EAAGA,EAAEwB,EAAGxB,IAAQ6J,EAAIgM,IAAO,IAAOC,GAAK,GAAG,EAAED,EAAK,GAAOA,IAC7E,GAAQ,GAALE,EAAQ,IAAQ/V,EAAE,EAAGA,EAAE,EAAGA,IAAwC,IAA5BwC,EAAGhB,IAAK,GAAG,EAAExB,GAAK,KAAe8V,GAAIF,EAAGpT,GAAKqH,EAAIgM,IAAO,IAAOC,GAAK,GAAG,EAAED,EAAK,GAAOA,KAC9H,GAAQ,GAALE,EAAQ,IAAQ/V,EAAE,EAAGA,EAAE,EAAGA,IAAK,CAAG,IAAIwC,EAA4B,IAA5BA,EAAGhB,IAAK,GAAG,EAAExB,GAAK,KAAe8V,GAAIH,EAAGnT,GAAKqH,EAAIgM,IAAO,IAAOC,GAAK,GAAG,EAAED,EAAK,GAAOA,IAAW,CAC1I,CACD,EAEAhX,EAAK2I,OAAOwO,MAAQ,CAAE,EAAI,EAAE,MAAM,EAAE,SAAS,EAAE,UAAU,EAAG,OAAO,EAAE,UAAU,EAAE,WAAW,GAC5FnX,EAAK2I,OAAOyO,MAAQ,WAEnB,IAAIC,EAAU,SAASC,EAAMC,EAAKC,EAAIC,GAAQ,IAAI,IAAItW,EAAE,EAAGA,EAAEoW,EAAIhU,OAAQpC,IAAKmW,EAAKC,EAAIpW,IAAMqW,EAAKrW,EAAEsW,CAAM,EAEtGC,EAAQ,qgBAKRC,EAAQ,gtBAKRC,EAAQ,0PAGRC,EAAQ,mXAIRC,EAAQ,wKAEZJ,EAAQA,EAAMhF,MAAM,KAAOiF,EAAQA,EAAMjF,MAAM,KAAOkF,EAAQA,EAAMlF,MAAM,KAAOmF,EAAQA,EAAMnF,MAAM,KAAOoF,EAAQA,EAAMpF,MAAM,KAEhI,IAAIqF,EAAQ,CAAC,EAAGC,EAAQ,CAAC,EAGzB,OAFAX,EAAQU,EAAOL,EAAO,EAAG,GAAKL,EAAQU,EAAOH,EAAO,GAAG,IAAMP,EAAQU,EAAOD,EAAO,KAAK,IACxFT,EAAQW,EAAOL,EAAO,EAAG,GAAKN,EAAQW,EAAOH,EAAO,GAAG,IAAMR,EAAQW,EAAOF,EAAO,KAAK,IACjF,CAACC,EAAOC,EACd,CA7BkB,GA+BpBhY,EAAK2I,OAAOyC,UAAY,SAAStD,EAAMgD,EAAKmN,EAAMjN,EAAKC,EAAM/J,EAAGyI,GAGvC,IADxB,IAAIlJ,EAAIT,EAAK2I,OAAQ0L,EAAKvJ,GAAK,EAAGC,EAAI,EAAGmN,EAAI,GACzCC,EAAK,GAAIC,EAAM,GAAajX,EAAE,EAAGA,EAAED,EAAGC,IAAKiX,EAAMlV,KAAK,GAAKkV,EAAM3X,EAAE4X,UAAUD,GAKjF,IAJA,IAAIxS,EAAG,EAAGgK,EAAG,EAASqC,EAAG,EAAGC,EAAG,EAAGJ,EAAI,EAClC7M,EAAE,EAAGqT,EAAK,GAAIC,EAAO,EACrBxO,EAAsB,EAAf3E,KAAKe,KAAKjF,EAAE,GAEhBmT,IAAO,EAAGvJ,EAAImN,GACrB,CACChG,EAAKxR,EAAE+X,UAAUJ,EAAOxS,GAAQ,GAAJA,EAAM,EAAE,GAAI,EAAEkM,GAAMI,EAAKzR,EAAE+X,UAAUJ,EAAOnG,EAAIH,GAC5E,IAAIH,EAAK,EAIT,GAHO,GAAJhI,IAAOgI,EAAO7J,EAAKuM,IAAO,KAAM,GAAQ,EAALA,GAAU,GACzC,GAAJ1K,IAAOgI,EAAO7J,EAAKuM,IAAO,MAAc,EAALA,GAAU,GAChDA,IAAS6D,GAAKvG,EACL,KAAN2G,GAEF,GAAsB,MAAnB7X,EAAE2W,MAAMtF,GAAKoG,GAChB,CACC,IAAIO,EAAGhY,EAAE2W,MAAMtF,GAAKoG,GAAOA,EAAI,GAAKnN,GAAK0N,EACtCA,EAAG,KAAOhY,EAAEiY,WAAWP,EAAKpN,EAAI+G,GAAOlM,GAAImF,EAAM+G,EAAI,EAAEA,EAAM/G,EAAI,EAA0B,KAAtBwN,IAAyBD,EAAK,IACvG,MAIQ,QAALJ,IAAiBA,EAAI,GAAKzX,EAAEiY,WAAWP,EAAKjG,EAAGtM,EAAGkM,GAAOlM,EAAGsM,GACvD,OAALgG,IAAiBA,EAAI,GAAKI,EAAK,IAAMC,EAAO,GAC9B,MAAd9X,EAAE0W,MAAMe,KAAetI,EAAKqC,EAAGxR,EAAE0W,MAAMe,GAAOzX,EAAEiY,WAAWP,EAAMvI,EAAGhK,EAAIkM,GAAOlM,EAAGgK,EAAKsI,EAAI,GAAKpG,EAAI,EAAEA,GAEvGqG,EAAK5U,QAAQrC,GAAW,IAANoX,IAEpB7X,EAAEkY,WAAWR,EAAMnN,EAAU,EAALC,EAAOhG,EAAE8E,GACjC+H,EAAI,EAAI7M,IAAMW,EAAG,EACjBwS,EAAM3X,EAAE4X,UAAUF,GAAQA,EAAK,GAGjC,CACD,EAEAnY,EAAK2I,OAAO6P,UAAY,SAASL,EAAM3T,EAAGsN,GAAQ,IAAI,IAAI3Q,EAAE,EAAGA,EAAEgX,EAAK5U,OAAQpC,GAAG,EAAG,GAAGgX,EAAKhX,IAAIqD,GAAK2T,EAAKhX,EAAE,IAAI2Q,EAAM,OAAOqG,EAAKhX,EAAK,EAEvInB,EAAK2I,OAAO0P,UAAY,SAASF,GAEhC,IAAIvH,EAAM,GAAiB,GAATuH,EAAK,IAAOvH,EAAI1N,KAAK,EAAE,GACzC,IAAI,IAAI/B,EAAE,EAAGA,EAAEgX,EAAK5U,OAAQpC,IAAQgX,EAAKhX,EAAE,IAAIgX,EAAKhX,IAAIyP,EAAI1N,KAAK/B,EAAGgX,EAAKhX,IACjC,OAAxCyP,EAAI1N,KAAKiV,EAAK5U,OAAO,EAAE4U,EAAK5U,OAAO,GAAYqN,CAChD,EAEA5Q,EAAK2I,OAAOuC,UAAY,SAASpD,EAAMgD,EAAKmN,EAAMjN,EAAKC,EAAM/J,EAAGyI,GAQ/D,IANA,IAAIlJ,EAAIT,EAAK2I,OAAQ0L,EAAKvJ,GAAK,EAAGC,EAAI,EAAGmN,EAAI,GACzCC,EAAK,GACLrG,EAAM,EACN7M,EAAE,EACF8E,EAAsB,EAAf3E,KAAKe,KAAKjF,EAAE,GAEhBmT,IAAO,EAAGvJ,EAAImN,GAAM,CAC1B,IAAItG,EAAK,EACF,GAAJhI,IAAOgI,EAAO7J,EAAKuM,IAAO,KAAM,GAAQ,EAALA,GAAU,GACzC,GAAJ1K,IAAOgI,EAAO7J,EAAKuM,IAAO,MAAc,EAALA,GAAU,GAChDA,IAAS6D,GAAKvG,EAGN,OADR5G,EAAMtK,EAAE2W,MAAMtF,GAAKoG,MAElBzX,EAAEiY,WAAWP,EAAKpN,EAAI+G,GAAOoG,EAAI,GAC9BnN,EAAI,KAAI+G,EAAM,EAAEA,GAChBqG,EAAK5U,QAAQrC,IAAMT,EAAEkY,WAAWR,EAAMnN,EAAU,EAALC,EAAOhG,EAAE8E,GAAQoO,EAAK,GAAKlT,IAAM6M,EAAI,EAAiB,IAAJ,EAALuC,KAAYA,GAAM,GAAQ,EAALA,IAAatJ,GAAK,KAAIsJ,GAAM,IAE9I,CACD,EAEArU,EAAK2I,OAAOwC,UAAY,SAASrD,EAAMgD,EAAKmN,EAAMjN,EAAKC,EAAM/J,EAAGyI,EAAIiP,GAG3C,IADxB,IAAInY,EAAIT,EAAK2I,OAAQ0L,EAAKvJ,GAAK,EAAGC,EAAI,EAAGmN,EAAI,GACzCC,EAAK,GAAIC,EAAM,GAAajX,EAAE,EAAGA,EAAED,EAAGC,IAAKgX,EAAKjV,KAAK,GAIzD,IAHA,IAAI0C,EAAG,EAAGgK,EAAG,EAASqC,EAAG,EAAGC,EAAG,EAAGJ,EAAI,EAClC7M,GAAG,EAAGqT,EAAK,GAAIC,EAAO,EAAGM,GAAK,EAC9B9O,EAAsB,EAAf3E,KAAKe,KAAKjF,EAAE,GAChBmT,IAAO,EAAGvJ,EAAImN,GACrB,CACChG,EAAKxR,EAAE+X,UAAUJ,EAAOxS,GAAQ,GAAJA,EAAM,EAAE,GAAI,EAAEkM,GAAMI,EAAKzR,EAAE+X,UAAUJ,EAAOnG,EAAIH,GAC5E,IAAIH,EAAK,EAKT,GAJO,GAAJhI,IAAOgI,EAAO7J,EAAKuM,IAAO,KAAM,GAAQ,EAALA,GAAU,GACzC,GAAJ1K,IAAOgI,EAAO7J,EAAKuM,IAAO,MAAc,EAALA,GAAU,GAChDA,IAAS6D,GAAKvG,EAEXkH,GAEF,GAAsB,MAAnBpY,EAAE2W,MAAMtF,GAAKoG,GAChB,CACC,IAAIO,EAAGhY,EAAE2W,MAAMtF,GAAKoG,GAAOA,EAAI,GAAKnN,GAAK0N,EACtCA,EAAG,KAAOhY,EAAEiY,WAAWP,EAAKpN,EAAI+G,GAAOA,EAAI,EAAEA,EAAM/G,EAAI,EAC3D,MAIS,KAANuN,EAEoB,MAAnB7X,EAAE2W,MAAMtF,GAAKoG,KAEXO,EAAGhY,EAAE2W,MAAMtF,GAAKoG,GAAOA,EAAI,GAAKnN,GAAK0N,EACtCA,EAAG,KAAOhY,EAAEiY,WAAWP,EAAKpN,EAAI+G,GAAOlM,GAAImF,EAAM+G,EAAI,EAAEA,EAAM/G,EAAI,EAA0B,KAAtBwN,IAAyBD,EAAK,OAK/F,QAALJ,IAAiBA,EAAI,GAAKzX,EAAEiY,WAAWP,EAAKjG,EAAGtM,EAAGkM,GAAOlM,EAAGsM,GACvD,OAALgG,IAAiBA,EAAI,GAAKI,EAAK,IAAMC,EAAO,GAC9B,MAAd9X,EAAE0W,MAAMe,KAAetI,EAAKqC,EAAGxR,EAAE0W,MAAMe,GAAOzX,EAAEiY,WAAWP,EAAMvI,EAAGhK,EAAIkM,GAAOlM,EAAGgK,EAAKsI,EAAI,GAAKpG,EAAI,EAAEA,IAGxGoG,EAAIY,SAAS,kBAEZ7T,GAAG,GAAGxE,EAAEkY,WAAWR,EAAMnN,EAAU,EAALC,EAAOhG,EAAE8E,GACvC6O,IACK,GAAJjP,IAAOkP,EAA4C,IAAnC/Q,EAAKuM,IAAO,KAAM,GAAQ,EAALA,GAAU,IAC3C,GAAJ1K,IAAOkP,EAA4C,IAAnC/Q,EAAKuM,IAAO,MAAc,EAALA,GAAU,IAClDA,KAGD6D,EAAI,GAAKpG,EAAI,EAAI7M,IAAMW,EAAG,EAC1BwS,EAAM3X,EAAE4X,UAAUF,GAAQA,EAAK,GAEjC,CACGA,EAAK5U,QAAQrC,GAAGT,EAAEkY,WAAWR,EAAMnN,EAAU,EAALC,EAAOhG,EAAE8E,EACrD,EAEA/J,EAAK2I,OAAO+P,WAAa,SAASnB,EAAK5U,EAAG4O,GAAQ,IAAI,IAAIpQ,EAAE,EAAGA,EAAEwB,EAAGxB,IAAKoW,EAAIrU,KAAKqO,EAAO,EAEzFvR,EAAK2I,OAAOgQ,WAAa,SAAS9K,EAAM7C,EAAKqJ,GAE5C,IAAI,IAAIlT,EAAE,EAAGA,EAAE0M,EAAKtK,OAAQpC,IAAK6J,EAAKqJ,EAAKlT,IAAK,IAAO0M,EAAK1M,IAAK,GAAIkT,EAAKlT,EAAG,EAC9E,EAEAnB,EAAK2I,OAAO0C,WAAWrL,EAAK2I,OAAO0C,YAAkCzK,EAAE,EAAEC,EAAE,EAAEC,EAAE,EAAEC,EAAE,EAAEC,EAAE,WAAW,IAAIkE,EAAE1E,IAAI,EAA8BuE,GAA1BtE,EAAEyE,IAAI,GAAGzE,EAAEyE,EAAE,IAAI,EAAEzE,EAAEyE,EAAE,MAAS,IAAM,EAAF1E,GAAKK,GAAG,GAAGA,GAAG,EAC7J,OAALL,GAAGK,EAASkE,CAAC,EAAE9D,EAAE,IAAIgG,YAAY,OAAQ/F,EAAE,EACcC,EAAE,SAAS+D,GAAGrE,EAAEqE,EAAE,EAAEtE,EAAEG,EAAE,CAAC,EAAEK,EAAE,SAAS8D,GAC/F,IADkG,IAAIF,EAAEE,GAAG,EAAEH,EAAE9D,EAAE+D,EAAE,GAAG/B,EAAEtC,EAAEoE,EAAE,EACnH,OAAHC,GAAUtE,EAAEuC,KAAKhC,EAAE+D,GAAGA,EAAE/D,EAAE+D,EAAE,GAAGrE,GAAGoE,CAAC,EAAE1D,EAAE,SAAS6D,EAAEF,GAAG,IAAID,EAAEnE,GAAG,EAAEqC,EAAEiC,GAAG,EAAEjE,EAAE8D,GAAG9D,EAAS,GAAN+D,GAAG,IAAM/D,EAAE8D,EAAE,GAAG9B,EACrGhC,EAAE8D,EAAE,GAAG9D,EAAEgC,EAAE,GAAG,EAAEhC,EAAE8D,EAAE,GAAG9D,EAAEgC,EAAE,GAAY,KAATrC,GAAY,GAAGC,GAAM,IAAHA,GAAMA,GAAG,EAAI,SAASqE,EAAEF,EAAED,EAAE9B,EAAEN,EAAE4B,GAAG/D,EAAEwE,GAAG,EAAEvE,EAAEyE,EAAExE,EAAEuC,EAAEtC,EAAEgC,EACpG,IAAIqD,EAAEhB,EAAED,GAAG,EAAEjB,EAAE,EAAE5B,EAAE,EAAY,IAJgB,SAASgD,GAAG,GAAGA,GAAGhE,EAAN,CAAeA,EAAEgE,EAASnE,EAAI,GAAXD,EAAE,GAAGoE,GAAQ,IAAI,IAAIF,EAAE,EACrGA,EAAEjE,EAAE,EAAEiE,IAAK/D,EAAE,EAAE+D,GAAG/D,EAAE,EAAE+D,EAAE,GAAGA,EAAE/D,EAAE,EAAE+D,EAAE,GAAG,MAAM/D,EAAE,EAAE+D,EAAE,GAAG,CADoB,CAClB,CAGlCb,CAAEI,GAAGpD,EAAEoD,GAAS/D,EAAEwF,IAAIlC,EAAE9C,MAAMD,GAAE,CAAC,GAAG+C,GAAGhD,EAAE,CAAY,GAAXK,EAAEoD,IAAGT,EAAE9C,MAAUD,EAAE,MAAMK,EAAE0C,EAAE,MAASA,EAAElD,GAAGQ,EAAE0C,GAC5GzC,EAAEa,EAAE4B,KAAQzC,EAAEa,EAAEA,GAAGd,EAAER,EAAE,IAAIsB,EAAE4B,CAAC,CAAC,OAAOnD,CAAC,GAEvCX,EAAK+Y,KAAO,CAAC,EAGb/Y,EAAKwI,SACAjH,EAAO,IAAIyX,MAAM,MAAYtO,KAAK,GAG/B,CACNjC,MAAO,CACNlH,KAJFA,EAAOA,EAAK0X,OAAO,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EA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","sources":["webpack://apttec-image-viewer/./Scripts/UTIF.js","webpack://apttec-image-viewer/webpack/bootstrap","webpack://apttec-image-viewer/webpack/runtime/compat get default export","webpack://apttec-image-viewer/webpack/runtime/define property getters","webpack://apttec-image-viewer/webpack/runtime/hasOwnProperty shorthand","webpack://apttec-image-viewer/./Scripts/zoomer.js","webpack://apttec-image-viewer/./Scripts/ImageOperations.js","webpack://apttec-image-viewer/./Scripts/PageNavigationToolbar.js","webpack://apttec-image-viewer/./Scripts/Viewer.js"],"sourcesContent":[";(function(){\r\nvar UTIF = {};\r\n\r\n// Make available for import by `require()`\r\nif (typeof module == \"object\") {module.exports = UTIF;}\r\nelse {self.UTIF = UTIF;}\r\n\r\nfunction log() { if (typeof process==\"undefined\" || process.env.NODE_ENV==\"development\") console.log.apply(console, arguments);  }\r\n\r\n(function(UTIF){\r\n\t\r\n// Following lines add a JPEG decoder  to UTIF.JpegDecoder\r\n(function(){\"use strict\";var W=function a1(){function W(p){this.message=\"JPEG error: \"+p}W.prototype=new Error;W.prototype.name=\"JpegError\";W.constructor=W;return W}(),ak=function ag(){var p=new Uint8Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),t=4017,ac=799,ah=3406,ao=2276,ar=1567,ai=3784,s=5793,ad=2896;function ak(Q){if(Q==null)Q={};if(Q.w==null)Q.w=-1;this.V=Q.n;this.N=Q.w}function a5(Q,h){var f=0,G=[],n,E,a=16,F;while(a>0&&!Q[a-1]){a--}G.push({children:[],index:0});var C=G[0];for(n=0;n<a;n++)\r\n{for(E=0;E<Q[n];E++){C=G.pop();C.children[C.index]=h[f];while(C.index>0){C=G.pop()}C.index++;G.push(C);while(G.length<=n){G.push(F={children:[],index:0});C.children[C.index]=F.children;C=F}f++}if(n+1<a){G.push(F={children:[],index:0});C.children[C.index]=F.children;C=F}}return G[0].children}function a2(Q,h,f){return 64*((Q.P+1)*h+f)}function a7(Q,h,f,G,n,E,a,C,F,d){if(d==null)d=!1;var T=f.m,U=f.Z,z=h,J=0,V=0,r=0,D=0,a8,q=0,X,O,_,N,e,K,x=0,k,g,R,c;function Y(){if(V>0){V--;return J>>V&1}J=Q[h++];if(J===255){var I=Q[h++];if(I){if(I===220&&d){h+=2;var l=Z(Q,h);h+=2;if(l>0&&l!==f.s){throw new DNLMarkerError(\"Found DNL marker (0xFFDC) while parsing scan data\",l)}}else if(I===217){if(d){var M=q*8;\r\nif(M>0&&M<f.s/10){throw new DNLMarkerError(\"Found EOI marker (0xFFD9) while parsing scan data, \"+\"possibly caused by incorrect `scanLines` parameter\",M)}}throw new EOIMarkerError(\"Found EOI marker (0xFFD9) while parsing scan data\")}throw new W(\"unexpected marker\")}}V=7;return J>>>7}function u(I){var l=I;while(!0){l=l[Y()];switch(typeof l){case\"number\":return l;case\"object\":continue}throw new W(\"invalid huffman sequence\")}}function m(I){var e=0;while(I>0){e=e<<1|Y();I--}return e}function j(I){if(I===1){return Y()===1?1:-1}var e=m(I);if(e>=1<<I-1){return e}return e+(-1<<I)+1}function v(X,I){var l=u(X.J),M=l===0?0:j(l),N=1;\r\nX.D[I]=X.Q+=M;while(N<64){var S=u(X.i),i=S&15,A=S>>4;if(i===0){if(A<15){break}N+=16;continue}N+=A;var o=p[N];X.D[I+o]=j(i);N++}}function $(X,I){var l=u(X.J),M=l===0?0:j(l)<<F;X.D[I]=X.Q+=M}function b(X,I){X.D[I]|=Y()<<F}function P(X,I){if(r>0){r--;return}var N=E,l=a;while(N<=l){var M=u(X.i),S=M&15,i=M>>4;if(S===0){if(i<15){r=m(i)+(1<<i)-1;break}N+=16;continue}N+=i;var A=p[N];X.D[I+A]=j(S)*(1<<F);N++}}function a4(X,I){var N=E,l=a,M=0,S,i;while(N<=l){var A=I+p[N],o=X.D[A]<0?-1:1;switch(D){case 0:i=u(X.i);S=i&15;M=i>>4;if(S===0){if(M<15){r=m(M)+(1<<M);D=4}else{M=16;D=1}}else{if(S!==1){throw new W(\"invalid ACn encoding\")}a8=j(S);D=M?2:3}continue;case 1:case 2:if(X.D[A]){X.D[A]+=o*(Y()<<F)}else{M--;if(M===0){D=D===2?3:0}}break;case 3:if(X.D[A]){X.D[A]+=o*(Y()<<F)}else{X.D[A]=a8<<F;\r\nD=0}break;case 4:if(X.D[A]){X.D[A]+=o*(Y()<<F)}break}N++}if(D===4){r--;if(r===0){D=0}}}function H(X,I,x,l,M){var S=x/T|0,i=x%T;q=S*X.A+l;var A=i*X.h+M,o=a2(X,q,A);I(X,o)}function w(X,I,x){q=x/X.P|0;var l=x%X.P,M=a2(X,q,l);I(X,M)}var y=G.length;if(U){if(E===0){K=C===0?$:b}else{K=C===0?P:a4}}else{K=v}if(y===1){g=G[0].P*G[0].c}else{g=T*f.R}while(x<=g){var L=n?Math.min(g-x,n):g;if(L>0){for(O=0;O<y;O++){G[O].Q=0}r=0;if(y===1){X=G[0];for(e=0;e<L;e++){w(X,K,x);x++}}else{for(e=0;e<L;\r\ne++){for(O=0;O<y;O++){X=G[O];R=X.h;c=X.A;for(_=0;_<c;_++){for(N=0;N<R;N++){H(X,K,x,_,N)}}}x++}}}V=0;k=an(Q,h);if(!k){break}if(k.u){var a6=L>0?\"unexpected\":\"excessive\";h=k.offset}if(k.M>=65488&&k.M<=65495){h+=2}else{break}}return h-z}function al(Q,h,f){var G=Q.$,n=Q.D,E,a,C,F,d,T,U,z,J,V,Y,u,m,j,v,$,b;if(!G){throw new W(\"missing required Quantization Table.\")}for(var r=0;r<64;r+=8){J=n[h+r];V=n[h+r+1];Y=n[h+r+2];u=n[h+r+3];m=n[h+r+4];j=n[h+r+5];v=n[h+r+6];$=n[h+r+7];J*=G[r];if((V|Y|u|m|j|v|$)===0){b=s*J+512>>10;f[r]=b;f[r+1]=b;f[r+2]=b;f[r+3]=b;f[r+4]=b;f[r+5]=b;f[r+6]=b;f[r+7]=b;continue}V*=G[r+1];Y*=G[r+2];u*=G[r+3];m*=G[r+4];j*=G[r+5];v*=G[r+6];$*=G[r+7];E=s*J+128>>8;a=s*m+128>>8;C=Y;F=v;d=ad*(V-$)+128>>8;z=ad*(V+$)+128>>8;\r\nT=u<<4;U=j<<4;E=E+a+1>>1;a=E-a;b=C*ai+F*ar+128>>8;C=C*ar-F*ai+128>>8;F=b;d=d+U+1>>1;U=d-U;z=z+T+1>>1;T=z-T;E=E+F+1>>1;F=E-F;a=a+C+1>>1;C=a-C;b=d*ao+z*ah+2048>>12;d=d*ah-z*ao+2048>>12;z=b;b=T*ac+U*t+2048>>12;T=T*t-U*ac+2048>>12;U=b;f[r]=E+z;f[r+7]=E-z;f[r+1]=a+U;f[r+6]=a-U;f[r+2]=C+T;f[r+5]=C-T;f[r+3]=F+d;f[r+4]=F-d}for(var P=0;P<8;++P){J=f[P];V=f[P+8];Y=f[P+16];u=f[P+24];m=f[P+32];j=f[P+40];v=f[P+48];$=f[P+56];if((V|Y|u|m|j|v|$)===0){b=s*J+8192>>14;if(b<-2040){b=0}else if(b>=2024){b=255}else{b=b+2056>>4}n[h+P]=b;n[h+P+8]=b;n[h+P+16]=b;n[h+P+24]=b;n[h+P+32]=b;n[h+P+40]=b;n[h+P+48]=b;n[h+P+56]=b;continue}E=s*J+2048>>12;a=s*m+2048>>12;C=Y;F=v;d=ad*(V-$)+2048>>12;z=ad*(V+$)+2048>>12;T=u;U=j;E=(E+a+1>>1)+4112;a=E-a;b=C*ai+F*ar+2048>>12;C=C*ar-F*ai+2048>>12;F=b;d=d+U+1>>1;U=d-U;z=z+T+1>>1;T=z-T;E=E+F+1>>1;F=E-F;a=a+C+1>>1;C=a-C;b=d*ao+z*ah+2048>>12;d=d*ah-z*ao+2048>>12;z=b;\r\nb=T*ac+U*t+2048>>12;T=T*t-U*ac+2048>>12;U=b;J=E+z;$=E-z;V=a+U;v=a-U;Y=C+T;j=C-T;u=F+d;m=F-d;if(J<16){J=0}else if(J>=4080){J=255}else{J>>=4}if(V<16){V=0}else if(V>=4080){V=255}else{V>>=4}if(Y<16){Y=0}else if(Y>=4080){Y=255}else{Y>>=4}if(u<16){u=0}else if(u>=4080){u=255}else{u>>=4}if(m<16){m=0}else if(m>=4080){m=255}else{m>>=4}if(j<16){j=0}else if(j>=4080){j=255}else{j>>=4}if(v<16){v=0}else if(v>=4080){v=255}else{v>>=4}if($<16){$=0}else if($>=4080){$=255}else{$>>=4}n[h+P]=J;\r\nn[h+P+8]=V;n[h+P+16]=Y;n[h+P+24]=u;n[h+P+32]=m;n[h+P+40]=j;n[h+P+48]=v;n[h+P+56]=$}}function a0(Q,h){var f=h.P,G=h.c,n=new Int16Array(64);for(var E=0;E<G;E++){for(var a=0;a<f;a++){var C=a2(h,E,a);al(h,C,n)}}return h.D}function an(Q,h,f){if(f==null)f=h;var G=Q.length-1,n=f<h?f:h;if(h>=G){return null}var E=Z(Q,h);if(E>=65472&&E<=65534){return{u:null,M:E,offset:h}}var a=Z(Q,n);while(!(a>=65472&&a<=65534)){if(++n>=G){return null}a=Z(Q,n)}return{u:E.toString(16),M:a,offset:n}}ak.prototype={parse(Q,h){if(h==null)h={};\r\nvar f=h.F,E=0,a=null,C=null,F,d,T=0;function G(){var o=Z(Q,E);E+=2;var B=E+o-2,V=an(Q,B,E);if(V&&V.u){B=V.offset}var ab=Q.subarray(E,B);E+=ab.length;return ab}function n(F){var o=Math.ceil(F.o/8/F.X),B=Math.ceil(F.s/8/F.B);for(var Y=0;Y<F.W.length;Y++){R=F.W[Y];var ab=Math.ceil(Math.ceil(F.o/8)*R.h/F.X),af=Math.ceil(Math.ceil(F.s/8)*R.A/F.B),ap=o*R.h,aq=B*R.A,ae=64*aq*(ap+1);R.D=new Int16Array(ae);R.P=ab;R.c=af}F.m=o;F.R=B}var U=[],z=[],J=[],V=Z(Q,E);E+=2;if(V!==65496){throw new W(\"SOI not found\")}V=Z(Q,E);\r\nE+=2;markerLoop:while(V!==65497){var Y,u,m;switch(V){case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var j=G();if(V===65504){if(j[0]===74&&j[1]===70&&j[2]===73&&j[3]===70&&j[4]===0){a={version:{d:j[5],T:j[6]},K:j[7],j:j[8]<<8|j[9],H:j[10]<<8|j[11],S:j[12],I:j[13],C:j.subarray(14,14+3*j[12]*j[13])}}}if(V===65518){if(j[0]===65&&j[1]===100&&j[2]===111&&j[3]===98&&j[4]===101){C={version:j[5]<<8|j[6],k:j[7]<<8|j[8],q:j[9]<<8|j[10],a:j[11]}}}break;\r\ncase 65499:var v=Z(Q,E),b;E+=2;var $=v+E-2;while(E<$){var r=Q[E++],P=new Uint16Array(64);if(r>>4===0){for(u=0;u<64;u++){b=p[u];P[b]=Q[E++]}}else if(r>>4===1){for(u=0;u<64;u++){b=p[u];P[b]=Z(Q,E);E+=2}}else{throw new W(\"DQT - invalid table spec\")}U[r&15]=P}break;case 65472:case 65473:case 65474:if(F){throw new W(\"Only single frame JPEGs supported\")}E+=2;F={};F.G=V===65473;F.Z=V===65474;F.precision=Q[E++];var D=Z(Q,E),a4,q=0,H=0;E+=2;F.s=f||D;F.o=Z(Q,E);E+=2;F.W=[];F._={};var a8=Q[E++];for(Y=0;Y<a8;Y++){a4=Q[E];var w=Q[E+1]>>4,y=Q[E+1]&15;if(q<w){q=w}if(H<y){H=y}var X=Q[E+2];m=F.W.push({h:w,A:y,L:X,$:null});F._[a4]=m-1;E+=3}F.X=q;F.B=H;n(F);break;case 65476:var O=Z(Q,E);E+=2;\r\nfor(Y=2;Y<O;){var _=Q[E++],N=new Uint8Array(16),e=0;for(u=0;u<16;u++,E++){e+=N[u]=Q[E]}var K=new Uint8Array(e);for(u=0;u<e;u++,E++){K[u]=Q[E]}Y+=17+e;(_>>4===0?J:z)[_&15]=a5(N,K)}break;case 65501:E+=2;d=Z(Q,E);E+=2;break;case 65498:var x=++T===1&&!f,R;E+=2;var k=Q[E++],g=[];for(Y=0;Y<k;Y++){var c=Q[E++],L=F._[c];R=F.W[L];R.index=c;var a6=Q[E++];R.J=J[a6>>4];R.i=z[a6&15];g.push(R)}var I=Q[E++],l=Q[E++],M=Q[E++];try{var S=a7(Q,E,F,g,d,I,l,M>>4,M&15,x);E+=S}catch(ex){if(ex instanceof DNLMarkerError){return this.parse(Q,{F:ex.s})}else if(ex instanceof EOIMarkerError){break markerLoop}throw ex}break;case 65500:E+=4;break;case 65535:if(Q[E]!==255){E--}break;default:var i=an(Q,E-2,E-3);if(i&&i.u){E=i.offset;break}if(E>=Q.length-1){break markerLoop}throw new W(\"JpegImage.parse - unknown marker: \"+V.toString(16))}V=Z(Q,E);E+=2}this.width=F.o;this.height=F.s;this.g=a;this.b=C;this.W=[];for(Y=0;Y<F.W.length;Y++){R=F.W[Y];\r\nvar A=U[R.L];if(A){R.$=A}this.W.push({index:R.index,e:a0(F,R),l:R.h/F.X,t:R.A/F.B,P:R.P,c:R.c})}this.p=this.W.length;return undefined},Y(Q,h,f){if(f==null)f=!1;var G=this.width/Q,n=this.height/h,E,a,C,F,d,T,U,z,J,V,Y=0,u,m=this.W.length,j=Q*h*m,v=new Uint8ClampedArray(j),$=new Uint32Array(Q),b=4294967288,r;for(U=0;U<m;U++){E=this.W[U];a=E.l*G;C=E.t*n;Y=U;u=E.e;F=E.P+1<<3;if(a!==r){for(d=0;d<Q;d++){z=0|d*a;$[d]=(z&b)<<3|z&7}r=a}for(T=0;T<h;T++){z=0|T*C;V=F*(z&b)|(z&7)<<3;for(d=0;d<Q;d++){v[Y]=u[V+$[d]];Y+=m}}}var P=this.V;if(!f&&m===4&&!P){P=new Int32Array([-256,255,-256,255,-256,255,-256,255])}if(P){for(U=0;U<j;){for(z=0,J=0;z<m;z++,U++,J+=2){v[U]=(v[U]*P[J]>>8)+P[J+1]}}}return v},get f(){if(this.b){return!!this.b.a}if(this.p===3){if(this.N===0){return!1}else if(this.W[0].index===82&&this.W[1].index===71&&this.W[2].index===66){return!1}return!0}if(this.N===1){return!0}return!1},z:function aj(Q){var h,f,G;\r\nfor(var n=0,E=Q.length;n<E;n+=3){h=Q[n];f=Q[n+1];G=Q[n+2];Q[n]=h-179.456+1.402*G;Q[n+1]=h+135.459-.344*f-.714*G;Q[n+2]=h-226.816+1.772*f}return Q},O:function aa(Q){var h,f,G,n,E=0;for(var a=0,C=Q.length;a<C;a+=4){h=Q[a];f=Q[a+1];G=Q[a+2];n=Q[a+3];Q[E++]=-122.67195406894+f*(-660635669420364e-19*f+.000437130475926232*G-54080610064599e-18*h+.00048449797120281*n-.154362151871126)+G*(-.000957964378445773*G+.000817076911346625*h-.00477271405408747*n+1.53380253221734)+h*(.000961250184130688*h-.00266257332283933*n+.48357088451265)+n*(-.000336197177618394*n+.484791561490776);\r\nQ[E++]=107.268039397724+f*(219927104525741e-19*f-.000640992018297945*G+.000659397001245577*h+.000426105652938837*n-.176491792462875)+G*(-.000778269941513683*G+.00130872261408275*h+.000770482631801132*n-.151051492775562)+h*(.00126935368114843*h-.00265090189010898*n+.25802910206845)+n*(-.000318913117588328*n-.213742400323665);Q[E++]=-20.810012546947+f*(-.000570115196973677*f-263409051004589e-19*G+.0020741088115012*h-.00288260236853442*n+.814272968359295)+G*(-153496057440975e-19*G-.000132689043961446*h+.000560833691242812*n-.195152027534049)+h*(.00174418132927582*h-.00255243321439347*n+.116935020465145)+n*(-.000343531996510555*n+.24165260232407)}return Q.subarray(0,E)},r:function a3(Q){var h,f,G;\r\nfor(var n=0,E=Q.length;n<E;n+=4){h=Q[n];f=Q[n+1];G=Q[n+2];Q[n]=434.456-h-1.402*G;Q[n+1]=119.541-h+.344*f+.714*G;Q[n+2]=481.816-h-1.772*f}return Q},U:function as(Q){var h,f,G,n,E=0;for(var a=0,C=Q.length;a<C;a+=4){h=Q[a];f=Q[a+1];G=Q[a+2];n=Q[a+3];Q[E++]=255+h*(-6747147073602441e-20*h+.0008379262121013727*f+.0002894718188643294*G+.003264231057537806*n-1.1185611867203937)+f*(26374107616089404e-21*f-8626949158638572e-20*G-.0002748769067499491*n-.02155688794978967)+G*(-3878099212869363e-20*G-.0003267808279485286*n+.0686742238595345)-n*(.0003361971776183937*n+.7430659151342254);\r\nQ[E++]=255+h*(.00013596372813588848*h+.000924537132573585*f+.00010567359618683593*G+.0004791864687436512*n-.3109689587515875)+f*(-.00023545346108370344*f+.0002702845253534714*G+.0020200308977307156*n-.7488052167015494)+G*(6834815998235662e-20*G+.00015168452363460973*n-.09751927774728933)-n*(.0003189131175883281*n+.7364883807733168);Q[E++]=255+h*(13598650411385308e-21*h+.00012423956175490851*f+.0004751985097583589*G-36729317476630424e-22*n-.05562186980264034)+f*(.00016141380598724676*f+.0009692239130725186*G+.0007782692450036253*n-.44015232367526463)+G*(5.068882914068769e-7*G+.0017778369011375071*n-.7591454649749609)-n*(.0003435319965105553*n+.7063770186160144)}return Q.subarray(0,E)},getData:function(Q){var h=Q.width,f=Q.height,G=Q.forceRGB,n=Q.isSourcePDF;\r\nif(this.p>4){throw new W(\"Unsupported color mode\")}var E=this.Y(h,f,n);if(this.p===1&&G){var a=E.length,C=new Uint8ClampedArray(a*3),F=0;for(var d=0;d<a;d++){var T=E[d];C[F++]=T;C[F++]=T;C[F++]=T}return C}else if(this.p===3&&this.f){return this.z(E)}else if(this.p===4){if(this.f){if(G){return this.O(E)}return this.r(E)}else if(G){return this.U(E)}}return E}};return ak}();function a9(p,t){return p[t]<<24>>24}function Z(p,t){return p[t]<<8|p[t+1]}function am(p,t){return(p[t]<<24|p[t+1]<<16|p[t+2]<<8|p[t+3])>>>0}UTIF.JpegDecoder=ak}());\r\n\r\n//UTIF.JpegDecoder = PDFJS.JpegImage;\r\n\r\n\r\nUTIF.encodeImage = function(rgba, w, h, metadata)\r\n{\r\n\tvar idf = { \"t256\":[w], \"t257\":[h], \"t258\":[8,8,8,8], \"t259\":[1], \"t262\":[2], \"t273\":[1000], // strips offset\r\n\t\t\t\t\"t277\":[4], \"t278\":[h], /* rows per strip */          \"t279\":[w*h*4], // strip byte counts\r\n\t\t\t\t\"t282\":[[72,1]], \"t283\":[[72,1]], \"t284\":[1], \"t286\":[[0,1]], \"t287\":[[0,1]], \"t296\":[1], \"t305\": [\"Photopea (UTIF.js)\"], \"t338\":[1]\r\n\t\t};\r\n\tif (metadata) for (var i in metadata) idf[i] = metadata[i];\r\n\t\r\n\tvar prfx = new Uint8Array(UTIF.encode([idf]));\r\n\tvar img = new Uint8Array(rgba);\r\n\tvar data = new Uint8Array(1000+w*h*4);\r\n\tfor(var i=0; i<prfx.length; i++) data[i] = prfx[i];\r\n\tfor(var i=0; i<img .length; i++) data[1000+i] = img[i];\r\n\treturn data.buffer;\r\n}\r\n\r\nUTIF.encode = function(ifds)\r\n{\r\n\tvar LE = false;\r\n\tvar data = new Uint8Array(20000), offset = 4, bin = LE ? UTIF._binLE : UTIF._binBE;\r\n\tdata[0]=data[1]=LE?73:77;  bin.writeUshort(data,2,42);\r\n\r\n\tvar ifdo = 8;\r\n\tbin.writeUint(data, offset, ifdo);  offset+=4;\r\n\tfor(var i=0; i<ifds.length; i++)\r\n\t{\r\n\t\tvar noffs = UTIF._writeIFD(bin, UTIF._types.basic, data, ifdo, ifds[i]);\r\n\t\tifdo = noffs[1];\r\n\t\tif(i<ifds.length-1) {\r\n\t\t\tif((ifdo&3)!=0) ifdo+=(4-(ifdo&3));  // make each IFD start at multiple of 4\r\n\t\t\tbin.writeUint(data, noffs[0], ifdo);\r\n\t\t}\r\n\t}\r\n\treturn data.slice(0, ifdo).buffer;\r\n}\r\n\r\nUTIF.decode = function(buff, prm)\r\n{\r\n\tif(prm==null) prm = {parseMN:true, debug:false};  // read MakerNote, debug\r\n\tvar data = new Uint8Array(buff), offset = 0;\r\n\r\n\tvar id = UTIF._binBE.readASCII(data, offset, 2);  offset+=2;\r\n\tvar bin = id==\"II\" ? UTIF._binLE : UTIF._binBE;\r\n\tvar num = bin.readUshort(data, offset);  offset+=2;\r\n\r\n\tvar ifdo = bin.readUint(data, offset);  offset+=4;\r\n\tvar ifds = [];\r\n\twhile(true) {\r\n\t\tvar cnt = bin.readUshort(data,ifdo), typ = bin.readUshort(data,ifdo+4);  if(cnt!=0) if(typ<1 || 13<typ) {  log(\"error in TIFF\");  break  };\r\n\t\tUTIF._readIFD(bin, data, ifdo, ifds, 0, prm);\r\n\t\t\r\n\t\tifdo = bin.readUint(data, ifdo+2+cnt*12);\r\n\t\tif(ifdo==0) break;\r\n\t}\r\n\treturn ifds;\r\n}\r\n\r\nUTIF.decodeImage = function(buff, img, ifds)\r\n{\r\n\tif(img.data) return;\r\n\tvar data = new Uint8Array(buff);\r\n\tvar id = UTIF._binBE.readASCII(data, 0, 2);\r\n\r\n\tif(img[\"t256\"]==null) return;\t// No width => probably not an image\r\n\timg.isLE = id==\"II\";\r\n\timg.width  = img[\"t256\"][0];  //delete img[\"t256\"];\r\n\timg.height = img[\"t257\"][0];  //delete img[\"t257\"];\r\n\r\n\tvar cmpr = img[\"t259\"] ? img[\"t259\"][0] : 1;  //delete img[\"t259\"];\r\n\tvar fo   = img[\"t266\"] ? img[\"t266\"][0] : 1;  //delete img[\"t266\"];\r\n\tif(img[\"t284\"] && img[\"t284\"][0]==2) log(\"PlanarConfiguration 2 should not be used!\");\r\n\tif(cmpr==7 && img[\"t258\"] && img[\"t258\"].length>3)  img[\"t258\"]=img[\"t258\"].slice(0,3);\r\n\r\n\tvar spp = img[\"t277\"]?img[\"t277\"][0]:1;\r\n\tvar bps = img[\"t258\"]?img[\"t258\"][0]:1;\r\n\tvar bipp = bps*spp;  // bits per pixel\r\n\t/*\r\n\tvar bipp;  // bits per pixel\r\n\tif(img[\"t258\"]) bipp = Math.min(32,img[\"t258\"][0])*img[\"t258\"].length;\r\n\telse            bipp = (img[\"t277\"]?img[\"t277\"][0]:1);  \r\n\t*/\r\n\t// Some .NEF files have t258==14, even though they use 16 bits per pixel\r\n\tif(cmpr==1 && img[\"t279\"]!=null && img[\"t278\"] && img[\"t262\"][0]==32803)  {\r\n\t\tbipp = Math.round((img[\"t279\"][0]*8)/(img.width*img[\"t278\"][0]));\r\n\t}\r\n\tif(img[\"t50885\"] && img[\"t50885\"][0]==4) bipp = img[\"t258\"][0]*3;  // RAW_CANON_40D_SRAW_V103.CR2\r\n\tvar bipl = Math.ceil(img.width*bipp/8)*8;\r\n\tvar soff = img[\"t273\"];  if(soff==null || img[\"t322\"]) soff = img[\"t324\"];\r\n\tvar bcnt = img[\"t279\"];  if(cmpr==1 && soff.length==1) bcnt = [img.height*(bipl>>>3)];  if(bcnt==null || img[\"t322\"]) bcnt = img[\"t325\"];\r\n\t//bcnt[0] = Math.min(bcnt[0], data.length);  // Hasselblad, \"RAW_HASSELBLAD_H3D39II.3FR\"\r\n\tvar bytes = new Uint8Array(img.height*(bipl>>>3)), bilen = 0;\r\n\r\n\tif(img[\"t322\"]!=null) // tiled\r\n\t{\r\n\t\tvar tw = img[\"t322\"][0], th = img[\"t323\"][0];\r\n\t\tvar tx = Math.floor((img.width  + tw - 1) / tw);\r\n\t\tvar ty = Math.floor((img.height + th - 1) / th);\r\n\t\tvar tbuff = new Uint8Array(Math.ceil(tw*th*bipp/8)|0);\r\n\t\tconsole.log(\"====\", tx,ty);\r\n\t\tfor(var y=0; y<ty; y++)\r\n\t\t\tfor(var x=0; x<tx; x++)\r\n\t\t\t{\r\n\t\t\t\tvar i = y*tx+x;  tbuff.fill(0);\r\n\t\t\t\tUTIF.decode._decompress(img,ifds, data, soff[i], bcnt[i], cmpr, tbuff, 0, fo,tw,th);\r\n\t\t\t\t// Might be required for 7 too. Need to check\r\n\t\t\t\tif (cmpr==6) bytes = tbuff;\r\n\t\t\t\telse UTIF._copyTile(tbuff, Math.ceil(tw*bipp/8)|0, th, bytes, Math.ceil(img.width*bipp/8)|0, img.height, Math.ceil(x*tw*bipp/8)|0, y*th);\r\n\t\t\t}\r\n\t\tbilen = bytes.length*8;\r\n\t}\r\n\telse\t// stripped\r\n\t{\r\n\t\tif(soff==null) return;\r\n\t\tvar rps = img[\"t278\"] ? img[\"t278\"][0] : img.height;   rps = Math.min(rps, img.height);\r\n\t\t//console.log(\"====\", img.width, rps);\r\n\t\tfor(var i=0; i<soff.length; i++)\r\n\t\t{\r\n\t\t\tUTIF.decode._decompress(img,ifds, data, soff[i], bcnt[i], cmpr, bytes, Math.ceil(bilen/8)|0, fo,img.width,rps);\r\n\t\t\tbilen += bipl * rps;\r\n\t\t}\r\n\t\tbilen = Math.min(bilen, bytes.length*8);\r\n\t}\r\n\timg.data = new Uint8Array(bytes.buffer, 0, Math.ceil(bilen/8)|0);\r\n}\r\n\r\nUTIF.decode._decompress = function(img,ifds, data, off, len, cmpr, tgt, toff, fo, w, h)  // fill order\r\n{\r\n\tif(img[\"t271\"] && img[\"t271\"][0]==\"Panasonic\" && img[\"t45\"] && img[\"t45\"][0]==6) cmpr = 34316;\r\n\t//console.log(\"compression\", cmpr);\r\n\t//var time = Date.now();\r\n\tif(false) {}\r\n\telse if(cmpr==1/* || (len==tgt.length && cmpr!=32767)*/) for(var j=0; j<len; j++) tgt[toff+j] = data[off+j];\r\n\telse if(cmpr==2) UTIF.decode._decodeG2 (data, off, len, tgt, toff, w, fo);\r\n\telse if(cmpr==3) UTIF.decode._decodeG3 (data, off, len, tgt, toff, w, fo, img[\"t292\"]?((img[\"t292\"][0]&1)==1):false);\r\n\telse if(cmpr==4) UTIF.decode._decodeG4 (data, off, len, tgt, toff, w, fo);\r\n\telse if(cmpr==5) UTIF.decode._decodeLZW(data, off, len, tgt, toff,8);\r\n\telse if(cmpr==6) UTIF.decode._decodeOldJPEG(img, data, off, len, tgt, toff);\r\n\telse if(cmpr==7 || cmpr==34892) UTIF.decode._decodeNewJPEG(img, data, off, len, tgt, toff);\r\n\telse if(cmpr==8 || cmpr==32946) {  var src = new Uint8Array(data.buffer,off+2,len-6);  var bin = UTIF._inflateRaw(src);  if(toff+bin.length<=tgt.length) tgt.set(bin,toff);  }\r\n\telse if(cmpr==9) UTIF.decode._decodeVC5(data,off,len,tgt,toff,img[\"t33422\"]);\r\n\telse if(cmpr==32767) UTIF.decode._decodeARW(img, data, off, len, tgt, toff);\r\n\telse if(cmpr==32773) UTIF.decode._decodePackBits(data, off, len, tgt, toff);\r\n\telse if(cmpr==32809) UTIF.decode._decodeThunder (data, off, len, tgt, toff);\r\n\telse if(cmpr==34316) UTIF.decode._decodePanasonic(img,data,off, len, tgt, toff);\r\n\telse if(cmpr==34713) //for(var j=0; j<len; j++) tgt[toff+j] = data[off+j];\r\n\t\tUTIF.decode._decodeNikon   (img,ifds, data, off, len, tgt, toff);\r\n\telse if(cmpr==34676) UTIF.decode._decodeLogLuv32(img,data, off, len, tgt, toff);  \r\n\telse log(\"Unknown compression\", cmpr);\r\n\t\r\n\t//console.log(Date.now()-time);\r\n\t\r\n\tvar bps = (img[\"t258\"]?Math.min(32,img[\"t258\"][0]):1);\r\n\tvar noc = (img[\"t277\"]?img[\"t277\"][0]:1), bpp=(bps*noc)>>>3, bpl = Math.ceil(bps*noc*w/8);\r\n\t\r\n\t// convert to Little Endian  /*\r\n\tif(bps==16 && !img.isLE && img[\"t33422\"]==null)  // not DNG\r\n\t\tfor(var y=0; y<h; y++) {\r\n\t\t\t//console.log(\"fixing endianity\");\r\n\t\t\tvar roff = toff+y*bpl;\r\n\t\t\tfor(var x=1; x<bpl; x+=2) {  var t=tgt[roff+x];  tgt[roff+x]=tgt[roff+x-1];  tgt[roff+x-1]=t;  }\r\n\t\t}  //*/\r\n\r\n\tif(img[\"t317\"] && img[\"t317\"][0]==2)\r\n\t{\r\n\t\tfor(var y=0; y<h; y++)\r\n\t\t{\r\n\t\t\tvar ntoff = toff+y*bpl;\r\n\t\t\tif(bps==16) for(var j=bpp; j<bpl; j+=2) {\r\n\t\t\t\tvar nv = ((tgt[ntoff+j+1]<<8)|tgt[ntoff+j])  +  ((tgt[ntoff+j-bpp+1]<<8)|tgt[ntoff+j-bpp]);\r\n\t\t\t\ttgt[ntoff+j] = nv&255;  tgt[ntoff+j+1] = (nv>>>8)&255;  \r\n\t\t\t}\r\n\t\t\telse if(noc==3) for(var j=  3; j<bpl; j+=3)\r\n\t\t\t{\r\n\t\t\t\ttgt[ntoff+j  ] = (tgt[ntoff+j  ] + tgt[ntoff+j-3])&255;\r\n\t\t\t\ttgt[ntoff+j+1] = (tgt[ntoff+j+1] + tgt[ntoff+j-2])&255;\r\n\t\t\t\ttgt[ntoff+j+2] = (tgt[ntoff+j+2] + tgt[ntoff+j-1])&255;\r\n\t\t\t}\r\n\t\t\telse for(var j=bpp; j<bpl; j++) tgt[ntoff+j] = (tgt[ntoff+j] + tgt[ntoff+j-bpp])&255;\r\n\t\t}\r\n\t}\r\n}\r\n\r\n\t\tUTIF.decode._decodePanasonic = function(img, data, off, len, tgt, toff) {\r\n\r\n                var img_buffer = data.buffer;\r\n    \r\n                var rawWidth = img[\"t2\"][0];\r\n                var rawHeight = img[\"t3\"][0];\r\n                var bitsPerSample = img[\"t10\"][0];\r\n                var RW2_Format =  img[\"t45\"][0];\r\n    \r\n                var bidx = 0;\r\n                var imageIndex = 0;\r\n                var vpos = 0;\r\n                var byte = 0;\r\n                var arr_a, arr_b;\r\n                var bytes = (RW2_Format == 6 ? new Uint32Array(18) : new Uint8Array(16));\r\n                var i, j, sh, pred=[0,0], nonz=[0,0], isOdd, idx = 0, pixel_base;\r\n                var row, col, crow;\r\n                var buffer = new Uint8Array(0x4000);\r\n                var result = new Uint16Array(tgt.buffer);\r\n\r\n                function getDataRaw(bits){\r\n                    if (vpos == 0) {\r\n                        var arr_a = new Uint8Array(img_buffer, off+imageIndex + 0x1ff8, 0x4000-0x1ff8);\r\n                        var arr_b = new Uint8Array(img_buffer, off+imageIndex, 0x1ff8);\r\n                        buffer.set(arr_a);  \r\n                        buffer.set(arr_b, arr_a.length);\r\n                        imageIndex += 0x4000;\r\n                    }\r\n                    if(RW2_Format == 5) {\r\n                        for (i = 0; i < 16; i++){\r\n                            bytes[i] = buffer[vpos++];\r\n                            vpos &= 0x3FFF;\r\n                        }\r\n                    } else {\r\n                        vpos = (vpos - bits) & 0x1ffff;\r\n                        byte = vpos >> 3 ^ 0x3ff0;\r\n                        return (buffer[byte] | buffer[byte + 1] << 8) >> (vpos & 7) & ~((-1) << bits);\r\n                    }\r\n                }\r\n                // Raw Format 6\r\n                function getBufferDataRW6(i) {\r\n                    return buffer[vpos + 15 - i];\r\n                }\r\n                function readPageRW6() {\r\n                    bytes[0] = (getBufferDataRW6(0) << 6) | (getBufferDataRW6(1) >> 2); // 14 bit\r\n                    bytes[1] = (((getBufferDataRW6(1) & 0x3) << 12) | (getBufferDataRW6(2) << 4) | (getBufferDataRW6(3) >> 4)) & 0x3fff;\r\n                    bytes[2] = (getBufferDataRW6(3) >> 2) & 0x3;\r\n                    bytes[3] = ((getBufferDataRW6(3) & 0x3) << 8) | getBufferDataRW6(4);\r\n                    bytes[4] = (getBufferDataRW6(5) << 2) | (getBufferDataRW6(6) >> 6);\r\n                    bytes[5] = ((getBufferDataRW6(6) & 0x3f) << 4) | (getBufferDataRW6(7) >> 4);\r\n                    bytes[6] = (getBufferDataRW6(7) >> 2) & 0x3;\r\n                    bytes[7] = ((getBufferDataRW6(7) & 0x3) << 8) | getBufferDataRW6(8);\r\n                    bytes[8] = ((getBufferDataRW6(9) << 2) & 0x3fc) | (getBufferDataRW6(10) >> 6);\r\n                    bytes[9] = ((getBufferDataRW6(10) << 4) | (getBufferDataRW6(11) >> 4)) & 0x3ff;\r\n                    bytes[10] = (getBufferDataRW6(11) >> 2) & 0x3;\r\n                    bytes[11] = ((getBufferDataRW6(11) & 0x3) << 8) | getBufferDataRW6(12);\r\n                    bytes[12] = (((getBufferDataRW6(13) << 2) & 0x3fc) | getBufferDataRW6(14) >> 6) & 0x3ff;\r\n                    bytes[13] = ((getBufferDataRW6(14) << 4) | (getBufferDataRW6(15) >> 4)) & 0x3ff;\r\n                    vpos += 16;\r\n                    byte = 0;\r\n                }\r\n                function readPageRw6_bps12() {\r\n                    bytes[0] = (getBufferDataRW6(0) << 4) | (getBufferDataRW6(1) >> 4);\r\n                    bytes[1] = (((getBufferDataRW6(1) & 0xf) << 8) | (getBufferDataRW6(2))) & 0xfff;\r\n                    bytes[2] = (getBufferDataRW6(3) >> 6) & 0x3;\r\n                    bytes[3] = ((getBufferDataRW6(3) & 0x3f) << 2) | (getBufferDataRW6(4) >> 6);\r\n                    bytes[4] = ((getBufferDataRW6(4) & 0x3f) << 2) | (getBufferDataRW6(5) >> 6);\r\n                    bytes[5] = ((getBufferDataRW6(5) & 0x3f) << 2) | (getBufferDataRW6(6) >> 6);\r\n                    bytes[6] = (getBufferDataRW6(6) >> 4) & 0x3;\r\n                    bytes[7] = ((getBufferDataRW6(6) & 0xf) << 4) | (getBufferDataRW6(7) >> 4);\r\n                    bytes[8] = ((getBufferDataRW6(7) & 0xf) << 4) | (getBufferDataRW6(8) >> 4);\r\n                    bytes[9] = ((getBufferDataRW6(8) & 0xf) << 4) | (getBufferDataRW6(9) >> 4);\r\n                    bytes[10] = (getBufferDataRW6(9) >> 2) & 0x3;\r\n                    bytes[11] = ((getBufferDataRW6(9) & 0x3) << 6) | (getBufferDataRW6(10) >> 2);\r\n                    bytes[12] = ((getBufferDataRW6(10) & 0x3) << 6) | (getBufferDataRW6(11) >> 2);\r\n                    bytes[13] = ((getBufferDataRW6(11) & 0x3) << 6) | (getBufferDataRW6(12) >> 2);\r\n                    bytes[14] = getBufferDataRW6(12) & 0x3;\r\n                    bytes[15] = getBufferDataRW6(13);\r\n                    bytes[16] = getBufferDataRW6(14);\r\n                    bytes[17] = getBufferDataRW6(15);\r\n\r\n                    vpos += 16;\r\n                    byte = 0;                    \r\n                }\r\n                // Main loop\r\n                function resetPredNonzeros(){\r\n                    pred[0]=0; pred[1]=0;\r\n                    nonz[0]=0; nonz[1]=0;\r\n                }\r\n                if (RW2_Format == 7) {\r\n                    throw RW2_Format;\r\n\r\n                    // Skatch of version 7 \r\n                    /*\r\n                    var pixels_per_block = bitsPerSample == 14 ? 9 : 10;\r\n                        rowbytes = 0|(rawWidth / pixels_per_block * 16);\r\n                    for (row = 0; row < rawHeight - 15; row += 16) {\r\n                        var rowstoread = Math.min(16, rawHeight - row);\r\n                        var readlen = rowbytes*rowstoread;\r\n                        buffer = new Uint8Array(image.slice(bidx, bidx+readlen));\r\n                        vpos = 0;\r\n                        bidx += readlen; \r\n                        i = 0;\r\n                        for (crow = 0; crow < rowstoread; crow++) {\r\n                            idx = (row + crow) * rawWidth;\r\n                            for (col = 0; col <= rawWidth - pixels_per_block; col += pixels_per_block) {\r\n                                for(j=0; j < pixels_per_block; j++) bytes[j] = buffer[i++];\r\n                                if (bitsPerSample == 12) {\r\n                                    result[idx ] = ((bytes[1] & 0xF) << 8) + bytes[0];\r\n                                    result[idx + 1] = 16 * bytes[2] + (bytes[1] >> 4);\r\n                                    result[idx + 2] = ((bytes[4] & 0xF) << 8) + bytes[3];\r\n                                    result[idx + 3] = 16 * bytes[5] + (bytes[4] >> 4);\r\n                                    result[idx + 4] = ((bytes[7] & 0xF) << 8) + bytes[6];\r\n                                    result[idx + 5] = 16 * bytes[8] + (bytes[7] >> 4);\r\n                                    result[idx + 6] = ((bytes[10] & 0xF) << 8) + bytes[9];\r\n                                    result[idx + 7] = 16 * bytes[11] + (bytes[10] >> 4);\r\n                                    result[idx + 8] = ((bytes[13] & 0xF) << 8) + bytes[12];\r\n                                    result[idx + 9] = 16 * bytes[14] + (bytes[13] >> 4);\r\n                                } else if (bitsPerSample == 14) {\r\n                                    result[idx] = bytes[0] + ((bytes[1] & 0x3F) << 8);\r\n                                    result[idx + 1] = (bytes[1] >> 6) + 4 * (bytes[2]) + ((bytes[3] & 0xF) << 10);\r\n                                    result[idx + 2] = (bytes[3] >> 4) + 16 * (bytes[4]) + ((bytes[5] & 3) << 12);\r\n                                    result[idx + 3] = ((bytes[5] & 0xFC) >> 2) + (bytes[6] << 6);\r\n                                    result[idx + 4] = bytes[7] + ((bytes[8] & 0x3F) << 8);\r\n                                    result[idx + 5] = (bytes[8] >> 6) + 4 * bytes[9] + ((bytes[10] & 0xF) << 10);\r\n                                    result[idx + 6] = (bytes[10] >> 4) + 16 * bytes[11] + ((bytes[12] & 3) << 12);\r\n                                    result[idx + 7] = ((bytes[12] & 0xFC) >> 2) + (bytes[13] << 6);\r\n                                    result[idx + 8] = bytes[14] + ((bytes[15] & 0x3F) << 8);\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                    */\r\n                } \r\n                else if(RW2_Format == 6) {\r\n                    var is12bit = bitsPerSample == 12,\r\n                        readPageRw6Fn = is12bit ? readPageRw6_bps12 : readPageRW6,\r\n                        pixelsPerBlock = is12bit ? 14 : 11,\r\n                        pixelbase0 = is12bit ? 0x80 : 0x200,\r\n                        pixelbase_compare = is12bit ? 0x800 : 0x2000,\r\n                        spix_compare = is12bit ? 0x3fff : 0xffff,\r\n                        pixel_mask = is12bit ? 0xfff : 0x3fff,\r\n                        blocksperrow = rawWidth / pixelsPerBlock, \r\n                        rowbytes = blocksperrow * 16,\r\n                        bufferSize = is12bit ? 18 : 14;\r\n\r\n                    for (row = 0; row < rawHeight - 15; row += 16) {\r\n                        var rowstoread = Math.min(16, rawHeight - row);\r\n                        var readlen = rowbytes*rowstoread;\r\n                        buffer = new Uint8Array(img_buffer, off+bidx, readlen);//new Uint8Array(image.slice(bidx, bidx+readlen));\r\n                        vpos = 0;\r\n                        bidx += readlen; \r\n                        for (crow = 0, col = 0; crow < rowstoread; crow++, col = 0) {\r\n                            idx = (row + crow) * rawWidth;\r\n                            for (var rblock = 0; rblock < blocksperrow; rblock++) {\r\n                                readPageRw6Fn();\r\n                                resetPredNonzeros();\r\n                                sh=0; pixel_base=0;\r\n                                for (i = 0; i < pixelsPerBlock; i++){\r\n                                    isOdd = i & 1;\r\n                                    if (i % 3 == 2) {\r\n                                        var base = byte < bufferSize ? bytes[byte++] : 0;\r\n                                        if (base == 3) base = 4;\r\n                                        pixel_base = pixelbase0 << base;\r\n                                        sh = 1 << base;\r\n                                    }\r\n                                    var epixel = byte < bufferSize ? bytes[byte++] : 0;\r\n                                    if (pred[isOdd]) {\r\n                                        epixel *= sh;\r\n                                        if (pixel_base < pixelbase_compare && nonz[isOdd] > pixel_base)\r\n                                            epixel += nonz[isOdd] - pixel_base;\r\n                                        nonz[isOdd] = epixel;\r\n                                    } else {\r\n                                        pred[isOdd] = epixel;\r\n                                        if (epixel)\r\n                                            nonz[isOdd] = epixel;\r\n                                        else\r\n                                            epixel = nonz[isOdd];\r\n                                    }\r\n                                    result[idx + col++] = (epixel - 0xf) <= spix_compare ? (epixel - 0xf) & spix_compare : ((epixel + 0x7ffffff1) >> 0x1f) & pixel_mask;\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                } \r\n                else if (RW2_Format == 5) { \r\n                    var blockSize = bitsPerSample == 12 ? 10 : 9;\r\n                    for (row = 0; row < rawHeight; row++) {\r\n                        for (col = 0; col < rawWidth; col+=blockSize) {\r\n                            getDataRaw(0);\r\n                            // Tuhle podminku pouziva i RW2_Format 7 \r\n                            if (bitsPerSample == 12) {\r\n                                result[idx++] = ((bytes[1] & 0xF) << 8) + bytes[0];\r\n                                result[idx++] = 16 * bytes[2] + (bytes[1] >> 4);\r\n                                result[idx++] = ((bytes[4] & 0xF) << 8) + bytes[3];\r\n                                result[idx++] = 16 * bytes[5] + (bytes[4] >> 4);\r\n                                result[idx++] = ((bytes[7] & 0xF) << 8) + bytes[6];\r\n                                result[idx++] = 16 * bytes[8] + (bytes[7] >> 4);\r\n                                result[idx++] = ((bytes[10] & 0xF) << 8) + bytes[9];\r\n                                result[idx++] = 16 * bytes[11] + (bytes[10] >> 4);\r\n                                result[idx++] = ((bytes[13] & 0xF) << 8) + bytes[12];\r\n                                result[idx++] = 16 * bytes[14] + (bytes[13] >> 4);\r\n                            } else if (bitsPerSample == 14) {\r\n                                result[idx++] = bytes[0] + ((bytes[1] & 0x3F) << 8);\r\n                                result[idx++] = (bytes[1] >> 6) + 4 * (bytes[2]) + ((bytes[3] & 0xF) << 10);\r\n                                result[idx++] = (bytes[3] >> 4) + 16 * (bytes[4]) + ((bytes[5] & 3) << 12);\r\n                                result[idx++] = ((bytes[5] & 0xFC) >> 2) + (bytes[6] << 6);\r\n                                result[idx++] = bytes[7] + ((bytes[8] & 0x3F) << 8);\r\n                                result[idx++] = (bytes[8] >> 6) + 4 * bytes[9] + ((bytes[10] & 0xF) << 10);\r\n                                result[idx++] = (bytes[10] >> 4) + 16 * bytes[11] + ((bytes[12] & 3) << 12);\r\n                                result[idx++] = ((bytes[12] & 0xFC) >> 2) + (bytes[13] << 6);\r\n                                result[idx++] = bytes[14] + ((bytes[15] & 0x3F) << 8);\r\n                            }\r\n                        }\r\n                    }\r\n                    //console.log(result[1000000 - 1])\r\n                } else if(RW2_Format == 4) {\r\n                    for (row = 0; row < rawHeight; row++){\r\n                        for(col = 0; col < rawWidth; col++){\r\n                            i = col % 14;\r\n                            isOdd = i & 1;\r\n                            if (i==0) resetPredNonzeros();\r\n                            if (i%3 == 2) \r\n                                sh = 4 >> (3 - getDataRaw(2));\r\n                            if (nonz[isOdd]) {\r\n                                j = getDataRaw(8);\r\n                                if(j != 0){\r\n                                    pred[isOdd] -= 0x80 << sh;\r\n                                    if (pred[isOdd] < 0 || sh == 4) \r\n                                        pred[isOdd] &= ~((-1) << sh);\r\n                                    pred[isOdd] += j << sh;\r\n                                }\r\n                            } else {\r\n                                nonz[isOdd] = getDataRaw(8);\r\n                                if(nonz[isOdd] || i > 11)\r\n                                    pred[isOdd] = nonz[isOdd] << 4 | getDataRaw(4);\r\n                            }\r\n                            result[idx++] = pred[col & 1];\r\n                        }\r\n                    }\r\n                } \r\n                else throw RW2_Format;\r\n            }\r\n\r\n\r\nUTIF.decode._decodeVC5 = function(){var x=[1,0,1,0,2,2,1,1,3,7,1,2,5,25,1,3,6,48,1,4,6,54,1,5,7,111,1,8,7,99,1,6,7,105,12,0,7,107,1,7,8,209,20,0,8,212,1,9,8,220,1,10,9,393,1,11,9,394,32,0,9,416,1,12,9,427,1,13,10,887,1,18,10,784,1,14,10,790,1,15,10,835,60,0,10,852,1,16,10,885,1,17,11,1571,1,19,11,1668,1,20,11,1669,100,0,11,1707,1,21,11,1772,1,22,12,3547,1,29,12,3164,1,24,12,3166,1,25,12,3140,1,23,12,3413,1,26,12,3537,1,27,12,3539,1,28,13,7093,1,35,13,6283,1,30,13,6331,1,31,13,6335,180,0,13,6824,1,32,13,7072,1,33,13,7077,320,0,13,7076,1,34,14,12565,1,36,14,12661,1,37,14,12669,1,38,14,13651,1,39,14,14184,1,40,15,28295,1,46,15,28371,1,47,15,25320,1,42,15,25336,1,43,15,25128,1,41,15,27300,1,44,15,28293,1,45,16,50259,1,48,16,50643,1,49,16,50675,1,50,16,56740,1,53,16,56584,1,51,16,56588,1,52,17,113483,1,61,17,113482,1,60,17,101285,1,55,17,101349,1,56,17,109205,1,57,17,109207,1,58,17,100516,1,54,17,113171,1,59,18,202568,1,62,18,202696,1,63,18,218408,1,64,18,218412,1,65,18,226340,1,66,18,226356,1,67,18,226358,1,68,19,402068,1,69,19,405138,1,70,19,405394,1,71,19,436818,1,72,19,436826,1,73,19,452714,1,75,19,452718,1,76,19,452682,1,74,20,804138,1,77,20,810279,1,78,20,810790,1,79,20,873638,1,80,20,873654,1,81,20,905366,1,82,20,905430,1,83,20,905438,1,84,21,1608278,1,85,21,1620557,1,86,21,1621582,1,87,21,1621583,1,88,21,1747310,1,89,21,1810734,1,90,21,1810735,1,91,21,1810863,1,92,21,1810879,1,93,22,3621725,1,99,22,3621757,1,100,22,3241112,1,94,22,3494556,1,95,22,3494557,1,96,22,3494622,1,97,22,3494623,1,98,23,6482227,1,102,23,6433117,1,101,23,6989117,1,103,23,6989119,1,105,23,6989118,1,104,23,7243449,1,106,23,7243512,1,107,24,13978233,1,111,24,12964453,1,109,24,12866232,1,108,24,14486897,1,113,24,13978232,1,110,24,14486896,1,112,24,14487026,1,114,24,14487027,1,115,25,25732598,1,225,25,25732597,1,189,25,25732596,1,188,25,25732595,1,203,25,25732594,1,202,25,25732593,1,197,25,25732592,1,207,25,25732591,1,169,25,25732590,1,223,25,25732589,1,159,25,25732522,1,235,25,25732579,1,152,25,25732575,1,192,25,25732489,1,179,25,25732573,1,201,25,25732472,1,172,25,25732576,1,149,25,25732488,1,178,25,25732566,1,120,25,25732571,1,219,25,25732577,1,150,25,25732487,1,127,25,25732506,1,211,25,25732548,1,125,25,25732588,1,158,25,25732486,1,247,25,25732467,1,238,25,25732508,1,163,25,25732552,1,228,25,25732603,1,183,25,25732513,1,217,25,25732587,1,168,25,25732520,1,122,25,25732484,1,128,25,25732562,1,249,25,25732505,1,187,25,25732504,1,186,25,25732483,1,136,25,25928905,1,181,25,25732560,1,255,25,25732500,1,230,25,25732482,1,135,25,25732555,1,233,25,25732568,1,222,25,25732583,1,145,25,25732481,1,134,25,25732586,1,167,25,25732521,1,248,25,25732518,1,209,25,25732480,1,243,25,25732512,1,216,25,25732509,1,164,25,25732547,1,140,25,25732479,1,157,25,25732544,1,239,25,25732574,1,191,25,25732564,1,251,25,25732478,1,156,25,25732546,1,139,25,25732498,1,242,25,25732557,1,133,25,25732477,1,162,25,25732515,1,213,25,25732584,1,165,25,25732514,1,212,25,25732476,1,227,25,25732494,1,198,25,25732531,1,236,25,25732530,1,234,25,25732529,1,117,25,25732528,1,215,25,25732527,1,124,25,25732526,1,123,25,25732525,1,254,25,25732524,1,253,25,25732523,1,148,25,25732570,1,218,25,25732580,1,146,25,25732581,1,147,25,25732569,1,224,25,25732533,1,143,25,25732540,1,184,25,25732541,1,185,25,25732585,1,166,25,25732556,1,132,25,25732485,1,129,25,25732563,1,250,25,25732578,1,151,25,25732501,1,119,25,25732502,1,193,25,25732536,1,176,25,25732496,1,245,25,25732553,1,229,25,25732516,1,206,25,25732582,1,144,25,25732517,1,208,25,25732558,1,137,25,25732543,1,241,25,25732466,1,237,25,25732507,1,190,25,25732542,1,240,25,25732551,1,131,25,25732554,1,232,25,25732565,1,252,25,25732475,1,171,25,25732493,1,205,25,25732492,1,204,25,25732491,1,118,25,25732490,1,214,25,25928904,1,180,25,25732549,1,126,25,25732602,1,182,25,25732539,1,175,25,25732545,1,141,25,25732559,1,138,25,25732537,1,177,25,25732534,1,153,25,25732503,1,194,25,25732606,1,160,25,25732567,1,121,25,25732538,1,174,25,25732497,1,246,25,25732550,1,130,25,25732572,1,200,25,25732474,1,170,25,25732511,1,221,25,25732601,1,196,25,25732532,1,142,25,25732519,1,210,25,25732495,1,199,25,25732605,1,155,25,25732535,1,154,25,25732499,1,244,25,25732510,1,220,25,25732600,1,195,25,25732607,1,161,25,25732604,1,231,25,25732473,1,173,25,25732599,1,226,26,51465122,1,116,26,51465123,0,1],o,C,k,P=[3,3,3,3,2,2,2,1,1,1],V=24576,ar=16384,H=8192,az=ar|H;\r\nfunction d(t){var E=t[1],h=t[0][E>>>3]>>>7-(E&7)&1;t[1]++;return h}function ag(t,E){if(o==null){o={};\r\nfor(var h=0;h<x.length;h+=4)o[x[h+1]]=x.slice(h,h+4)}var L=d(t),g=o[L];while(g==null){L=L<<1|d(t);g=o[L]}var n=g[3];\r\nif(n!=0)n=d(t)==0?n:-n;E[0]=g[2];E[1]=n}function m(t,E){for(var h=0;h<E;h++){if((t&1)==1)t++;t=t>>>1}return t}function A(t,E){return t>>E}function O(t,E,h,L,g,n){E[h]=A(A(11*t[g]-4*t[g+n]+t[g+n+n]+4,3)+t[L],1);\r\nE[h+n]=A(A(5*t[g]+4*t[g+n]-t[g+n+n]+4,3)-t[L],1)}function J(t,E,h,L,g,n){var W=t[g-n]-t[g+n],j=t[g],$=t[L];\r\nE[h]=A(A(W+4,3)+j+$,1);E[h+n]=A(A(-W+4,3)+j-$,1)}function y(t,E,h,L,g,n){E[h]=A(A(5*t[g]+4*t[g-n]-t[g-n-n]+4,3)+t[L],1);\r\nE[h+n]=A(A(11*t[g]-4*t[g-n]+t[g-n-n]+4,3)-t[L],1)}function q(t){t=t<0?0:t>4095?4095:t;t=k[t]>>>2;return t}function av(t,E,h,L,g,n){L=new Uint16Array(L.buffer);\r\nvar W=Date.now(),j=UTIF._binBE,$=E+h,r,u,X,I,ax,a3,R,ai,aa,ap,ah,ae,aD,al,i,aE,T,B;E+=4;var a5=n[0]==1;\r\nwhile(E<$){var S=j.readShort(t,E),s=j.readUshort(t,E+2);E+=4;if(S==12)r=s;else if(S==20)u=s;else if(S==21)X=s;\r\nelse if(S==48)I=s;else if(S==53)ax=s;else if(S==35)a3=s;else if(S==62)R=s;else if(S==101)ai=s;else if(S==109)aa=s;\r\nelse if(S==84)ap=s;else if(S==106)ah=s;else if(S==107)ae=s;else if(S==108)aD=s;else if(S==102)al=s;else if(S==104)i=s;\r\nelse if(S==105)aE=s;else{var F=S<0?-S:S,D=F&65280,_=0;if(F&az){if(F&H){_=s&65535;_+=(F&255)<<16}else{_=s&65535}}if((F&V)==V){if(T==null){T=[];\r\nfor(var M=0;M<4;M++)T[M]=new Int16Array((u>>>1)*(X>>>1));B=new Int16Array((u>>>1)*(X>>>1));C=new Int16Array(1024);\r\nfor(var M=0;M<1024;M++){var aG=M-512,p=Math.abs(aG),r=Math.floor(768*p*p*p/(255*255*255))+p;C[M]=Math.sign(aG)*r}k=new Uint16Array(4096);\r\nvar aA=(1<<16)-1;for(var M=0;M<4096;M++){var at=M,a1=aA*(Math.pow(113,at/4095)-1)/112;k[M]=Math.min(a1,aA)}}var w=T[R],v=m(u,1+P[I]),N=m(X,1+P[I]);\r\nif(I==0){for(var b=0;b<N;b++)for(var G=0;G<v;G++){var c=E+(b*v+G)*2;w[b*(u>>>1)+G]=t[c]<<8|t[c+1]}}else{var a7=[t,E*8],a4=[],ay=0,aw=v*N,f=[0,0],Q=0,s=0;\r\nwhile(ay<aw){ag(a7,f);Q=f[0];s=f[1];while(Q>0){a4[ay++]=s;Q--}}var l=(I-1)%3,aF=l!=1?v:0,a2=l!=0?N:0;\r\nfor(var b=0;b<N;b++){var af=(b+a2)*(u>>>1)+aF,au=b*v;for(var G=0;G<v;G++)w[af+G]=C[a4[au+G]+512]*ax}if(l==2){var i=u>>>1,an=v*2,a9=N*2;\r\nfor(var b=0;b<N;b++){for(var G=0;G<an;G++){var M=b*2*i+G,a=b*i+G,e=N*i+a;if(b==0)O(w,B,M,e,a,i);else if(b==N-1)y(w,B,M,e,a,i);\r\nelse J(w,B,M,e,a,i)}}var Z=w;w=B;B=Z;for(var b=0;b<a9;b++){for(var G=0;G<v;G++){var M=b*i+2*G,a=b*i+G,e=v+a;\r\nif(G==0)O(w,B,M,e,a,1);else if(G==v-1)y(w,B,M,e,a,1);else J(w,B,M,e,a,1)}}var Z=w;w=B;B=Z;var aC=[],aB=2-~~((I-1)/3);\r\nfor(var K=0;K<3;K++)aC[K]=aa>>14-K*2&3;var a6=aC[aB];if(a6!=0)for(var b=0;b<a9;b++)for(var G=0;G<an;\r\nG++){var M=b*i+G;w[M]=w[M]<<a6}}}if(I==9&&R==3){var a8=T[0],ab=T[1],aq=T[2],as=T[3];for(var b=0;b<X;\r\nb+=2)for(var G=0;G<u;G+=2){var U=b*u+G,c=(b>>>1)*(u>>>1)+(G>>>1),z=a8[c],ao=ab[c]-2048,ak=aq[c]-2048,ad=as[c]-2048,aj=(ao<<1)+z,a0=(ak<<1)+z,aH=z+ad,am=z-ad;\r\nif(a5){L[U]=q(aH);L[U+1]=q(a0);L[U+u]=q(aj);L[U+u+1]=q(am)}else{L[U]=q(aj);L[U+1]=q(aH);L[U+u]=q(am);\r\nL[U+u+1]=q(a0)}}}E+=_*4}else if(F==16388){E+=_*4}else if(D==8192||D==8448||D==9216){}else throw F.toString(16)}}console.log(Date.now()-W)}return av}()\r\n\r\n\r\n\r\nUTIF.decode._decodeLogLuv32 = function(img, data, off, len, tgt, toff) {\r\n\tvar w = img.width, qw=w*4;\r\n\tvar io = 0, out = new Uint8Array(qw);\r\n\t\r\n\twhile(io<len) {\r\n\t\tvar oo=0;\r\n\t\twhile(oo<qw) {\r\n\t\t\tvar c = data[off+io]; io++;\r\n\t\t\tif(c<128) {       for(var j=0; j<c; j++) out[oo+j] = data[off+io+j];  oo+=c;  io+=c;  }\r\n\t\t\telse {  c=c-126;  for(var j=0; j<c; j++) out[oo+j] = data[off+io  ];  oo+=c;  io++ ;  }\r\n\t\t}\r\n\t\t\r\n\t\tfor(var x=0; x<w; x++) {\r\n\t\t\ttgt[toff+0] = out[x];\r\n\t\t\ttgt[toff+1] = out[x+w];\r\n\t\t\ttgt[toff+2] = out[x+w*2];\r\n\t\t\ttgt[toff+4] = out[x+w*3];\r\n\t\t\ttoff+=6;\r\n\t\t}\r\n\t}\r\n}\r\n\r\nUTIF.decode._ljpeg_diff = function(data, prm, huff) {\r\n\tvar getbithuff   = UTIF.decode._getbithuff;\r\n\tvar len, diff;\r\n\tlen  = getbithuff(data, prm, huff[0], huff);\r\n\tdiff = getbithuff(data, prm, len, 0);\r\n\tif ((diff & (1 << (len-1))) == 0)  diff -= (1 << len) - 1;\r\n\treturn diff;\r\n}\r\nUTIF.decode._decodeARW = function(img, inp, off, src_length, tgt, toff) {\r\n\tvar raw_width = img[\"t256\"][0], height=img[\"t257\"][0], tiff_bps=img[\"t258\"][0];\r\n\tvar bin=(img.isLE ? UTIF._binLE : UTIF._binBE);\r\n\t//console.log(raw_width, height, tiff_bps, raw_width*height, src_length);\r\n\tvar arw2 = (raw_width*height == src_length) || (raw_width*height*1.5 == src_length);\r\n\t//arw2 = true;\r\n\t//console.log(\"ARW2: \", arw2, raw_width*height, src_length, tgt.length);\r\n\tif(!arw2) {  //\"sony_arw_load_raw\"; // not arw2\r\n\t\theight+=8;\r\n\t\tvar prm = [off,0,0,0];\r\n\t\tvar huff = new Uint16Array(32770);\r\n\t\tvar tab = [ 0xf11,0xf10,0xe0f,0xd0e,0xc0d,0xb0c,0xa0b,0x90a,0x809,\r\n\t\t\t0x708,0x607,0x506,0x405,0x304,0x303,0x300,0x202,0x201 ];\r\n\t\tvar i, c, n, col, row, sum=0;\r\n\t\tvar ljpeg_diff = UTIF.decode._ljpeg_diff;\r\n\r\n\t\thuff[0] = 15;\r\n\t\tfor (n=i=0; i < 18; i++) {\r\n\t\t\tvar lim = 32768 >>> (tab[i] >>> 8);\r\n\t\t\tfor(var c=0; c<lim; c++) huff[++n] = tab[i];\r\n\t\t}\r\n\t\tfor (col = raw_width; col--; )\r\n\t\t\tfor (row=0; row < height+1; row+=2) {\r\n\t\t\t\tif (row == height) row = 1;\r\n\t\t\t\tsum += ljpeg_diff(inp, prm, huff);\r\n\t\t\t\tif (row < height) {\r\n\t\t\t\t\tvar clr =  (sum)&4095;\r\n\t\t\t\t\tUTIF.decode._putsF(tgt, (row*raw_width+col)*tiff_bps, clr<<(16-tiff_bps));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\treturn;\r\n\t}\r\n\tif(raw_width*height*1.5==src_length) {\r\n\t\t//console.log(\"weird compression\");\r\n\t\tfor(var i=0; i<src_length; i+=3) {  var b0=inp[off+i+0], b1=inp[off+i+1], b2=inp[off+i+2];  \r\n\t\t\ttgt[toff+i]=(b1<<4)|(b0>>>4);  tgt[toff+i+1]=(b0<<4)|(b2>>>4);  tgt[toff+i+2]=(b2<<4)|(b1>>>4);  }\r\n\t\treturn;\r\n\t}\r\n\t\r\n\tvar pix = new Uint16Array(16);\r\n\tvar row, col, val, max, min, imax, imin, sh, bit, i,    dp;\r\n\t\r\n\tvar data = new Uint8Array(raw_width+1);\r\n\tfor (row=0; row < height; row++) {\r\n\t\t//fread (data, 1, raw_width, ifp);\r\n\t\tfor(var j=0; j<raw_width; j++) data[j]=inp[off++];\r\n\t\tfor (dp=0, col=0; col < raw_width-30; dp+=16) {\r\n\t\t\tmax  = 0x7ff & (val = bin.readUint(data,dp));\r\n\t\t\tmin  = 0x7ff & (val >>> 11);\r\n\t\t\timax = 0x0f & (val >>> 22);\r\n\t\t\timin = 0x0f & (val >>> 26);\r\n\t\t\tfor (sh=0; sh < 4 && 0x80 << sh <= max-min; sh++);\r\n\t\t\tfor (bit=30, i=0; i < 16; i++)\r\n\t\t\t\tif      (i == imax) pix[i] = max;\r\n\t\t\t\telse if (i == imin) pix[i] = min;\r\n\t\t\t\telse {\r\n\t\t\t\t\tpix[i] = ((bin.readUshort(data, dp+(bit >> 3)) >>> (bit & 7) & 0x7f) << sh) + min;\r\n\t\t\t\t\tif (pix[i] > 0x7ff) pix[i] = 0x7ff;\r\n\t\t\t\t\tbit += 7;\r\n\t\t\t\t}\r\n\t\t\tfor (i=0; i < 16; i++, col+=2) {\r\n\t\t\t\t//RAW(row,col) = curve[pix[i] << 1] >> 2;\r\n\t\t\t\tvar clr =  pix[i]<<1;   //clr = 0xffff;\r\n\t\t\t\tUTIF.decode._putsF(tgt, (row*raw_width+col)*tiff_bps, clr<<(16-tiff_bps));\r\n\t\t\t}\r\n\t\t\tcol -= col & 1 ? 1:31;\r\n\t\t}\r\n\t}\r\n}\r\n\r\nUTIF.decode._decodeNikon = function(img,imgs, data, off, src_length, tgt, toff)\r\n{\r\n\tvar nikon_tree = [\r\n    [ 0, 0,1,5,1,1,1,1,1,1,2,0,0,0,0,0,0,\t/* 12-bit lossy */\r\n      5,4,3,6,2,7,1,0,8,9,11,10,12 ],\r\n    [ 0, 0,1,5,1,1,1,1,1,1,2,0,0,0,0,0,0,\t/* 12-bit lossy after split */\r\n      0x39,0x5a,0x38,0x27,0x16,5,4,3,2,1,0,11,12,12 ],\r\n    [ 0, 0,1,4,2,3,1,2,0,0,0,0,0,0,0,0,0,  /* 12-bit lossless */\r\n      5,4,6,3,7,2,8,1,9,0,10,11,12 ],\r\n    [ 0, 0,1,4,3,1,1,1,1,1,2,0,0,0,0,0,0,\t/* 14-bit lossy */\r\n      5,6,4,7,8,3,9,2,1,0,10,11,12,13,14 ],\r\n    [ 0, 0,1,5,1,1,1,1,1,1,1,2,0,0,0,0,0,\t/* 14-bit lossy after split */\r\n      8,0x5c,0x4b,0x3a,0x29,7,6,5,4,3,2,1,0,13,14 ],\r\n    [ 0, 0,1,4,2,2,3,1,2,0,0,0,0,0,0,0,0,\t/* 14-bit lossless */\r\n      7,6,8,5,9,4,10,3,11,12,2,0,1,13,14 ] ];\r\n\t  \r\n\tvar raw_width = img[\"t256\"][0], height=img[\"t257\"][0], tiff_bps=img[\"t258\"][0];\r\n\t\r\n\tvar tree = 0, split = 0;\r\n\tvar make_decoder = UTIF.decode._make_decoder;\r\n\tvar getbithuff   = UTIF.decode._getbithuff;\r\n\t\r\n\tvar mn = imgs[0].exifIFD.makerNote, md = mn[\"t150\"]?mn[\"t150\"]:mn[\"t140\"], mdo=0;  //console.log(mn,md);\r\n\t//console.log(md[0].toString(16), md[1].toString(16), tiff_bps);\r\n\tvar ver0 = md[mdo++], ver1 = md[mdo++];\r\n\tif (ver0 == 0x49 || ver1 == 0x58)  mdo+=2110;\r\n\tif (ver0 == 0x46) tree = 2;\r\n\tif (tiff_bps == 14) tree += 3;\r\n\t\r\n\tvar vpred = [[0,0],[0,0]], bin=(img.isLE ? UTIF._binLE : UTIF._binBE);\r\n\tfor(var i=0; i<2; i++) for(var j=0; j<2; j++) {  vpred[i][j] = bin.readShort(md,mdo);  mdo+=2;   }  // not sure here ... [i][j] or [j][i]\r\n\t//console.log(vpred);\r\n\t\r\n\t\r\n\tvar max = 1 << tiff_bps & 0x7fff, step=0;\r\n\tvar csize = bin.readShort(md,mdo);  mdo+=2;\r\n\tif (csize > 1) step = Math.floor(max / (csize-1));\r\n\tif (ver0 == 0x44 && ver1 == 0x20 && step > 0)  split = bin.readShort(md,562);\r\n\t\r\n\t\r\n\tvar i;\r\n\tvar row, col;\r\n\tvar len, shl, diff;\r\n\tvar min_v = 0;\r\n\tvar hpred = [0,0];\r\n\tvar huff = make_decoder(nikon_tree[tree]);\r\n\t\r\n\t//var g_input_offset=0, bitbuf=0, vbits=0, reset=0;\r\n\tvar prm = [off,0,0,0];\r\n\t//console.log(split);  split = 170;\r\n\t\r\n\tfor (min_v=row=0; row < height; row++) {\r\n\t\tif (split && row == split) {\r\n\t\t\t//free (huff);\r\n\t\t\thuff = make_decoder (nikon_tree[tree+1]);\r\n\t\t\t//max_v += (min_v = 16) << 1;\r\n\t\t}\r\n\t\tfor (col=0; col < raw_width; col++) {\r\n\t\t\ti = getbithuff(data,prm,huff[0],huff);\r\n\t\t\tlen = i  & 15;\r\n\t\t\tshl = i >>> 4;\r\n\t\t\tdiff = (((getbithuff(data,prm,len-shl,0) << 1) + 1) << shl) >>> 1;\r\n\t\t\tif ((diff & (1 << (len-1))) == 0)\r\n\t\t\t\tdiff -= (1 << len) - (shl==0?1:0);\r\n\t\t\tif (col < 2) hpred[col] = vpred[row & 1][col] += diff;\r\n\t\t\telse         hpred[col & 1] += diff;\r\n\t\t\t\r\n\t\t\tvar clr = Math.min(Math.max(hpred[col & 1],0),(1<<tiff_bps)-1);\r\n\t\t\tvar bti = (row*raw_width+col)*tiff_bps;  \r\n\t\t\tUTIF.decode._putsF(tgt, bti, clr<<(16-tiff_bps));\r\n\t\t}\r\n\t}\r\n}\r\n// put 16 bits\r\nUTIF.decode._putsF= function(dt, pos, val) {  val = val<<(8-(pos&7));  var o=(pos>>>3);  dt[o]|=val>>>16;  dt[o+1]|=val>>>8;  dt[o+2]|=val;  }\r\n\r\n\r\nUTIF.decode._getbithuff = function(data,prm,nbits, huff) {\r\n\tvar zero_after_ff = 0;\r\n\tvar get_byte = UTIF.decode._get_byte;\r\n\tvar c;\r\n  \r\n\tvar off=prm[0], bitbuf=prm[1], vbits=prm[2], reset=prm[3];\r\n\r\n\t//if (nbits > 25) return 0;\r\n\t//if (nbits <  0) return bitbuf = vbits = reset = 0;\r\n\tif (nbits == 0 || vbits < 0) return 0; \r\n\twhile (!reset && vbits < nbits && (c = data[off++]) != -1 &&\r\n\t\t!(reset = zero_after_ff && c == 0xff && data[off++])) {\r\n\t\t//console.log(\"byte read into c\");\r\n\t\tbitbuf = (bitbuf << 8) + c;\r\n\t\tvbits += 8;\r\n\t} \r\n\tc = (bitbuf << (32-vbits)) >>> (32-nbits);\r\n\tif (huff) {\r\n\t\tvbits -= huff[c+1] >>> 8;  //console.log(c, huff[c]>>8);\r\n\t\tc =  huff[c+1]&255;\r\n\t} else\r\n\t\tvbits -= nbits;\r\n\tif (vbits < 0) throw \"e\";\r\n  \r\n\tprm[0]=off;  prm[1]=bitbuf;  prm[2]=vbits;  prm[3]=reset;\r\n  \r\n\treturn c;\r\n}\r\n\r\nUTIF.decode._make_decoder = function(source) {\r\n\tvar max, len, h, i, j;\r\n\tvar huff = [];\r\n\r\n\tfor (max=16; max!=0 && !source[max]; max--);\r\n\tvar si=17;\r\n\t\r\n\thuff[0] = max;\r\n\tfor (h=len=1; len <= max; len++)\r\n\t\tfor (i=0; i < source[len]; i++, ++si)\r\n\t\t\tfor (j=0; j < 1 << (max-len); j++)\r\n\t\t\t\tif (h <= 1 << max)\r\n\t\t\t\t\thuff[h++] = (len << 8) | source[si];\r\n\treturn huff;\r\n}\r\n\r\nUTIF.decode._decodeNewJPEG = function(img, data, off, len, tgt, toff)\r\n{\r\n\tlen = Math.min(len, data.length-off);\r\n\tvar tables = img[\"t347\"], tlen = tables ? tables.length : 0, buff = new Uint8Array(tlen + len);\r\n\t\r\n\tif (tables) {\r\n\t\tvar SOI = 216, EOI = 217, boff = 0;\r\n\t\tfor (var i=0; i<(tlen-1); i++)\r\n\t\t{\r\n\t\t\t// Skip EOI marker from JPEGTables\r\n\t\t\tif (tables[i]==255 && tables[i+1]==EOI) break;\r\n\t\t\tbuff[boff++] = tables[i];\r\n\t\t}\r\n\r\n\t\t// Skip SOI marker from data\r\n\t\tvar byte1 = data[off], byte2 = data[off + 1];\r\n\t\tif (byte1!=255 || byte2!=SOI)\r\n\t\t{\r\n\t\t\tbuff[boff++] = byte1;\r\n\t\t\tbuff[boff++] = byte2;\r\n\t\t}\r\n\t\tfor (var i=2; i<len; i++) buff[boff++] = data[off+i];\r\n\t}\r\n\telse for (var i=0; i<len; i++) buff[i] = data[off+i];\r\n\r\n\tif(img[\"t262\"][0]==32803 || (img[\"t259\"][0]==7 && img[\"t262\"][0]==34892)) // lossless JPEG (used in DNG files)\r\n\t{\r\n\t\tvar bps = img[\"t258\"][0];//, dcdr = new LosslessJpegDecoder();\r\n\t\t//var time = Date.now();\r\n\t\tvar out = UTIF.LosslessJpegDecode(buff), olen=out.length;  //console.log(olen);\r\n\t\t//var out = ULLJPG(buff), olen=out.length;  //console.log(olen);\r\n\t\t//console.log(Date.now()-time);\r\n\t\t\r\n\t\tif(false) {}\r\n\t\telse if(bps==16) {\r\n\t\t\tif(img.isLE) for(var i=0; i<olen; i++ ) {  tgt[toff+(i<<1)] = (out[i]&255);  tgt[toff+(i<<1)+1] = (out[i]>>>8);  }\r\n\t\t\telse         for(var i=0; i<olen; i++ ) {  tgt[toff+(i<<1)] = (out[i]>>>8);  tgt[toff+(i<<1)+1] = (out[i]&255);  }\r\n\t\t}\r\n\t\telse if(bps==14 || bps==12 || bps==10) {  // 4 * 14 == 56 == 7 * 8\r\n\t\t\tvar rst = 16-bps;\r\n\t\t\tfor(var i=0; i<olen; i++) UTIF.decode._putsF(tgt, i*bps, out[i]<<rst);\r\n\t\t}\r\n\t\telse if(bps==8) {\r\n\t\t\tfor(var i=0; i<olen; i++) tgt[toff+i]=out[i];\r\n\t\t}\r\n\t\telse throw new Error(\"unsupported bit depth \"+bps);\r\n\t}\r\n\telse\r\n\t{\r\n\t\tvar parser = new UTIF.JpegDecoder();  parser.parse(buff);\r\n\t\tvar decoded = parser.getData({\"width\":parser.width,\"height\":parser.height,\"forceRGB\":true,\"isSourcePDF\":false});\r\n\t\tfor (var i=0; i<decoded.length; i++) tgt[toff + i] = decoded[i];\r\n\t}\r\n\r\n\t// PhotometricInterpretation is 6 (YCbCr) for JPEG, but after decoding we populate data in\r\n\t// RGB format, so updating the tag value\r\n\tif(img[\"t262\"][0] == 6)  img[\"t262\"][0] = 2;\r\n}\r\n\r\nUTIF.decode._decodeOldJPEGInit = function(img, data, off, len)\r\n{\r\n\tvar SOI = 216, EOI = 217, DQT = 219, DHT = 196, DRI = 221, SOF0 = 192, SOS = 218;\r\n\tvar joff = 0, soff = 0, tables, sosMarker, isTiled = false, i, j, k;\r\n\tvar jpgIchgFmt    = img[\"t513\"], jifoff = jpgIchgFmt ? jpgIchgFmt[0] : 0;\r\n\tvar jpgIchgFmtLen = img[\"t514\"], jiflen = jpgIchgFmtLen ? jpgIchgFmtLen[0] : 0;\r\n\tvar soffTag       = img[\"t324\"] || img[\"t273\"] || jpgIchgFmt;\r\n\tvar ycbcrss       = img[\"t530\"], ssx = 0, ssy = 0;\r\n\tvar spp           = img[\"t277\"]?img[\"t277\"][0]:1;\r\n\tvar jpgresint     = img[\"t515\"];\r\n\r\n\tif(soffTag)\r\n\t{\r\n\t\tsoff = soffTag[0];\r\n\t\tisTiled = (soffTag.length > 1);\r\n\t}\r\n\r\n\tif(!isTiled)\r\n\t{\r\n\t\tif(data[off]==255 && data[off+1]==SOI) return { jpegOffset: off };\r\n\t\tif(jpgIchgFmt!=null)\r\n\t\t{\r\n\t\t\tif(data[off+jifoff]==255 && data[off+jifoff+1]==SOI) joff = off+jifoff;\r\n\t\t\telse log(\"JPEGInterchangeFormat does not point to SOI\");\r\n\r\n\t\t\tif(jpgIchgFmtLen==null) log(\"JPEGInterchangeFormatLength field is missing\");\r\n\t\t\telse if(jifoff >= soff || (jifoff+jiflen) <= soff) log(\"JPEGInterchangeFormatLength field value is invalid\");\r\n\r\n\t\t\tif(joff != null) return { jpegOffset: joff };\r\n\t\t}\r\n\t}\r\n\r\n\tif(ycbcrss!=null) {  ssx = ycbcrss[0];  ssy = ycbcrss[1];  }\r\n\r\n\tif(jpgIchgFmt!=null)\r\n\t\tif(jpgIchgFmtLen!=null)\r\n\t\t\tif(jiflen >= 2 && (jifoff+jiflen) <= soff)\r\n\t\t\t{\r\n\t\t\t\tif(data[off+jifoff+jiflen-2]==255 && data[off+jifoff+jiflen-1]==SOI) tables = new Uint8Array(jiflen-2);\r\n\t\t\t\telse tables = new Uint8Array(jiflen);\r\n\r\n\t\t\t\tfor(i=0; i<tables.length; i++) tables[i] = data[off+jifoff+i];\r\n\t\t\t\tlog(\"Incorrect JPEG interchange format: using JPEGInterchangeFormat offset to derive tables\");\r\n\t\t\t}\r\n\t\t\telse log(\"JPEGInterchangeFormat+JPEGInterchangeFormatLength > offset to first strip or tile\");\r\n\r\n\tif(tables == null)\r\n\t{\r\n\t\tvar ooff = 0, out = [];\r\n\t\tout[ooff++] = 255; out[ooff++] = SOI;\r\n\r\n\t\tvar qtables = img[\"t519\"];\r\n\t\tif(qtables==null) throw new Error(\"JPEGQTables tag is missing\");\r\n\t\tfor(i=0; i<qtables.length; i++)\r\n\t\t{\r\n\t\t\tout[ooff++] = 255; out[ooff++] = DQT; out[ooff++] = 0; out[ooff++] = 67; out[ooff++] = i;\r\n\t\t\tfor(j=0; j<64; j++) out[ooff++] = data[off+qtables[i]+j];\r\n\t\t}\r\n\r\n\t\tfor(k=0; k<2; k++)\r\n\t\t{\r\n\t\t\tvar htables = img[(k == 0) ? \"t520\" : \"t521\"];\r\n\t\t\tif(htables==null) throw new Error(((k == 0) ? \"JPEGDCTables\" : \"JPEGACTables\") + \" tag is missing\");\r\n\t\t\tfor(i=0; i<htables.length; i++)\r\n\t\t\t{\r\n\t\t\t\tout[ooff++] = 255; out[ooff++] = DHT;\r\n\t\t\t\t//out[ooff++] = 0; out[ooff++] = 67; out[ooff++] = i;\r\n\t\t\t\tvar nc = 19;\r\n\t\t\t\tfor(j=0; j<16; j++) nc += data[off+htables[i]+j];\r\n\r\n\t\t\t\tout[ooff++] = (nc >>> 8); out[ooff++] = nc & 255;\r\n\t\t\t\tout[ooff++] = (i | (k << 4));\r\n\t\t\t\tfor(j=0; j<16; j++) out[ooff++] = data[off+htables[i]+j];\r\n\t\t\t\tfor(j=0; j<nc; j++) out[ooff++] = data[off+htables[i]+16+j];\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tout[ooff++] = 255; out[ooff++] = SOF0;\r\n\t\tout[ooff++] = 0;  out[ooff++] = 8 + 3*spp;  out[ooff++] = 8;\r\n\t\tout[ooff++] = (img.height >>> 8) & 255;  out[ooff++] = img.height & 255;\r\n\t\tout[ooff++] = (img.width  >>> 8) & 255;  out[ooff++] = img.width  & 255;\r\n\t\tout[ooff++] = spp;\r\n\t\tif(spp==1) {  out[ooff++] = 1;  out[ooff++] = 17;  out[ooff++] = 0;  }\r\n\t\telse for(i=0; i<3; i++)\r\n\t\t{\r\n\t\t\tout[ooff++] = i + 1;\r\n\t\t\tout[ooff++] = (i != 0) ? 17 : (((ssx & 15) << 4) | (ssy & 15));\r\n\t\t\tout[ooff++] = i;\r\n\t\t}\r\n\r\n\t\tif(jpgresint!=null && jpgresint[0]!=0)\r\n\t\t{\r\n\t\t\tout[ooff++] = 255;  out[ooff++] = DRI;  out[ooff++] = 0;  out[ooff++] = 4;\r\n\t\t\tout[ooff++] = (jpgresint[0] >>> 8) & 255;\r\n\t\t\tout[ooff++] = jpgresint[0] & 255;\r\n\t\t}\r\n\r\n\t\ttables = new Uint8Array(out);\r\n\t}\r\n\r\n\tvar sofpos = -1;\r\n\ti = 0;\r\n\twhile(i < (tables.length - 1)) {\r\n\t\tif(tables[i]==255 && tables[i+1]==SOF0) {  sofpos = i; break;  }\r\n\t\ti++;\r\n\t}\r\n\r\n\tif(sofpos == -1)\r\n\t{\r\n\t\tvar tmptab = new Uint8Array(tables.length + 10 + 3*spp);\r\n\t\ttmptab.set(tables);\r\n\t\tvar tmpoff = tables.length;\r\n\t\tsofpos = tables.length;\r\n\t\ttables = tmptab;\r\n\r\n\t\ttables[tmpoff++] = 255; tables[tmpoff++] = SOF0;\r\n\t\ttables[tmpoff++] = 0;  tables[tmpoff++] = 8 + 3*spp;  tables[tmpoff++] = 8;\r\n\t\ttables[tmpoff++] = (img.height >>> 8) & 255;  tables[tmpoff++] = img.height & 255;\r\n\t\ttables[tmpoff++] = (img.width  >>> 8) & 255;  tables[tmpoff++] = img.width  & 255;\r\n\t\ttables[tmpoff++] = spp;\r\n\t\tif(spp==1) {  tables[tmpoff++] = 1;  tables[tmpoff++] = 17;  tables[tmpoff++] = 0;  }\r\n\t\telse for(i=0; i<3; i++)\r\n\t\t{\r\n\t\t\ttables[tmpoff++] = i + 1;\r\n\t\t\ttables[tmpoff++] = (i != 0) ? 17 : (((ssx & 15) << 4) | (ssy & 15));\r\n\t\t\ttables[tmpoff++] = i;\r\n\t\t}\r\n\t}\r\n\r\n\tif(data[soff]==255 && data[soff+1]==SOS)\r\n\t{\r\n\t\tvar soslen = (data[soff+2]<<8) | data[soff+3];\r\n\t\tsosMarker = new Uint8Array(soslen+2);\r\n\t\tsosMarker[0] = data[soff];  sosMarker[1] = data[soff+1]; sosMarker[2] = data[soff+2];  sosMarker[3] = data[soff+3];\r\n\t\tfor(i=0; i<(soslen-2); i++) sosMarker[i+4] = data[soff+i+4];\r\n\t}\r\n\telse\r\n\t{\r\n\t\tsosMarker = new Uint8Array(2 + 6 + 2*spp);\r\n\t\tvar sosoff = 0;\r\n\t\tsosMarker[sosoff++] = 255;  sosMarker[sosoff++] = SOS;\r\n\t\tsosMarker[sosoff++] = 0;  sosMarker[sosoff++] = 6 + 2*spp;  sosMarker[sosoff++] = spp;\r\n\t\tif(spp==1) {  sosMarker[sosoff++] = 1;  sosMarker[sosoff++] = 0;  }\r\n\t\telse for(i=0; i<3; i++)\r\n\t\t{\r\n\t\t\tsosMarker[sosoff++] = i+1;  sosMarker[sosoff++] = (i << 4) | i;\r\n\t\t}\r\n\t\tsosMarker[sosoff++] = 0;  sosMarker[sosoff++] = 63;  sosMarker[sosoff++] = 0;\r\n\t}\r\n\r\n\treturn { jpegOffset: off, tables: tables, sosMarker: sosMarker, sofPosition: sofpos };\r\n}\r\n\r\nUTIF.decode._decodeOldJPEG = function(img, data, off, len, tgt, toff)\r\n{\r\n\tvar i, dlen, tlen, buff, buffoff;\r\n\tvar jpegData = UTIF.decode._decodeOldJPEGInit(img, data, off, len);\r\n\r\n\tif(jpegData.jpegOffset!=null)\r\n\t{\r\n\t\tdlen = off+len-jpegData.jpegOffset;\r\n\t\tbuff = new Uint8Array(dlen);\r\n\t\tfor(i=0; i<dlen; i++) buff[i] = data[jpegData.jpegOffset+i];\r\n\t}\r\n\telse\r\n\t{\r\n\t\ttlen = jpegData.tables.length;\r\n\t\tbuff = new Uint8Array(tlen + jpegData.sosMarker.length + len + 2);\r\n\t\tbuff.set(jpegData.tables);\r\n\t\tbuffoff = tlen;\r\n\r\n\t\tbuff[jpegData.sofPosition+5] = (img.height >>> 8) & 255;  buff[jpegData.sofPosition+6] = img.height & 255;\r\n\t\tbuff[jpegData.sofPosition+7] = (img.width  >>> 8) & 255;  buff[jpegData.sofPosition+8] = img.width  & 255;\r\n\r\n\t\tif(data[off]!=255 || data[off+1]!=SOS)\r\n\t\t{\r\n\t\t\tbuff.set(jpegData.sosMarker, buffoff);\r\n\t\t\tbuffoff += sosMarker.length;\r\n\t\t}\r\n\t\tfor(i=0; i<len; i++) buff[buffoff++] = data[off+i];\r\n\t\tbuff[buffoff++] = 255;  buff[buffoff++] = EOI;\r\n\t}\r\n\r\n\tvar parser = new UTIF.JpegDecoder();  parser.parse(buff);\r\n\tvar decoded = parser.getData({\"width\":parser.width,\"height\":parser.height,\"forceRGB\":true,\"isSourcePDF\":false});\r\n\tfor (var i=0; i<decoded.length; i++) tgt[toff + i] = decoded[i];\r\n\r\n\t// PhotometricInterpretation is 6 (YCbCr) for JPEG, but after decoding we populate data in\r\n\t// RGB format, so updating the tag value\r\n\tif(img[\"t262\"] && img[\"t262\"][0] == 6)  img[\"t262\"][0] = 2;\r\n}\r\n\r\nUTIF.decode._decodePackBits = function(data, off, len, tgt, toff)\r\n{\r\n\tvar sa = new Int8Array(data.buffer), ta = new Int8Array(tgt.buffer), lim = off+len;\r\n\twhile(off<lim)\r\n\t{\r\n\t\tvar n = sa[off];  off++;\r\n\t\tif(n>=0  && n<128)    for(var i=0; i< n+1; i++) {  ta[toff]=sa[off];  toff++;  off++;   }\r\n\t\tif(n>=-127 && n<0) {  for(var i=0; i<-n+1; i++) {  ta[toff]=sa[off];  toff++;           }  off++;  }\r\n\t}\r\n\treturn toff;\r\n}\r\n\r\nUTIF.decode._decodeThunder = function(data, off, len, tgt, toff)\r\n{\r\n\tvar d2 = [ 0, 1, 0, -1 ],  d3 = [ 0, 1, 2, 3, 0, -3, -2, -1 ];\r\n\tvar lim = off+len, qoff = toff*2, px = 0;\r\n\twhile(off<lim)\r\n\t{\r\n\t\tvar b = data[off], msk = (b>>>6), n = (b&63);  off++;\r\n\t\tif(msk==3) { px=(n&15);  tgt[qoff>>>1] |= (px<<(4*(1-qoff&1)));  qoff++;   }\r\n\t\tif(msk==0) for(var i=0; i<n; i++) {  tgt[qoff>>>1] |= (px<<(4*(1-qoff&1)));  qoff++;   }\r\n\t\tif(msk==2) for(var i=0; i<2; i++) {  var d=(n>>>(3*(1-i)))&7;  if(d!=4) { px+=d3[d];  tgt[qoff>>>1] |= (px<<(4*(1-qoff&1)));  qoff++; }  }\r\n\t\tif(msk==1) for(var i=0; i<3; i++) {  var d=(n>>>(2*(2-i)))&3;  if(d!=2) { px+=d2[d];  tgt[qoff>>>1] |= (px<<(4*(1-qoff&1)));  qoff++; }  }\r\n\t}\r\n}\r\n\r\nUTIF.decode._dmap = { \"1\":0,\"011\":1,\"000011\":2,\"0000011\":3, \"010\":-1,\"000010\":-2,\"0000010\":-3  };\r\nUTIF.decode._lens = ( function()\r\n{\r\n\tvar addKeys = function(lens, arr, i0, inc) {  for(var i=0; i<arr.length; i++) lens[arr[i]] = i0 + i*inc;  }\r\n\r\n\tvar termW = \"00110101,000111,0111,1000,1011,1100,1110,1111,10011,10100,00111,01000,001000,000011,110100,110101,\" // 15\r\n\t+ \"101010,101011,0100111,0001100,0001000,0010111,0000011,0000100,0101000,0101011,0010011,0100100,0011000,00000010,00000011,00011010,\" // 31\r\n\t+ \"00011011,00010010,00010011,00010100,00010101,00010110,00010111,00101000,00101001,00101010,00101011,00101100,00101101,00000100,00000101,00001010,\" // 47\r\n\t+ \"00001011,01010010,01010011,01010100,01010101,00100100,00100101,01011000,01011001,01011010,01011011,01001010,01001011,00110010,00110011,00110100\";\r\n\r\n\tvar termB = \"0000110111,010,11,10,011,0011,0010,00011,000101,000100,0000100,0000101,0000111,00000100,00000111,000011000,\" // 15\r\n\t+ \"0000010111,0000011000,0000001000,00001100111,00001101000,00001101100,00000110111,00000101000,00000010111,00000011000,000011001010,000011001011,000011001100,000011001101,000001101000,000001101001,\" // 31\r\n\t+ \"000001101010,000001101011,000011010010,000011010011,000011010100,000011010101,000011010110,000011010111,000001101100,000001101101,000011011010,000011011011,000001010100,000001010101,000001010110,000001010111,\" // 47\r\n\t+ \"000001100100,000001100101,000001010010,000001010011,000000100100,000000110111,000000111000,000000100111,000000101000,000001011000,000001011001,000000101011,000000101100,000001011010,000001100110,000001100111\";\r\n\r\n\tvar makeW = \"11011,10010,010111,0110111,00110110,00110111,01100100,01100101,01101000,01100111,011001100,011001101,011010010,011010011,011010100,011010101,011010110,\"\r\n\t+ \"011010111,011011000,011011001,011011010,011011011,010011000,010011001,010011010,011000,010011011\";\r\n\r\n\tvar makeB = \"0000001111,000011001000,000011001001,000001011011,000000110011,000000110100,000000110101,0000001101100,0000001101101,0000001001010,0000001001011,0000001001100,\"\r\n\t+ \"0000001001101,0000001110010,0000001110011,0000001110100,0000001110101,0000001110110,0000001110111,0000001010010,0000001010011,0000001010100,0000001010101,0000001011010,\"\r\n\t+ \"0000001011011,0000001100100,0000001100101\";\r\n\r\n\tvar makeA = \"00000001000,00000001100,00000001101,000000010010,000000010011,000000010100,000000010101,000000010110,000000010111,000000011100,000000011101,000000011110,000000011111\";\r\n\r\n\ttermW = termW.split(\",\");  termB = termB.split(\",\");  makeW = makeW.split(\",\");  makeB = makeB.split(\",\");  makeA = makeA.split(\",\");\r\n\r\n\tvar lensW = {}, lensB = {};\r\n\taddKeys(lensW, termW, 0, 1);  addKeys(lensW, makeW, 64,64);  addKeys(lensW, makeA, 1792,64);\r\n\taddKeys(lensB, termB, 0, 1);  addKeys(lensB, makeB, 64,64);  addKeys(lensB, makeA, 1792,64);\r\n\treturn [lensW, lensB];\r\n} )();\r\n\r\nUTIF.decode._decodeG4 = function(data, off, slen, tgt, toff, w, fo)\r\n{\r\n\tvar U = UTIF.decode, boff=off<<3, len=0, wrd=\"\";\t// previous starts with 1\r\n\tvar line=[], pline=[];  for(var i=0; i<w; i++) pline.push(0);  pline=U._makeDiff(pline);\r\n\tvar a0=0, a1=0, a2=0, b1=0, b2=0, clr=0;\r\n\tvar y=0, mode=\"\", toRead=0;\r\n\tvar bipl = Math.ceil(w/8)*8;\r\n\r\n\twhile((boff>>>3)<off+slen)\r\n\t{\r\n\t\tb1 = U._findDiff(pline, a0+(a0==0?0:1), 1-clr), b2 = U._findDiff(pline, b1, clr);\t// could be precomputed\r\n\t\tvar bit =0;\r\n\t\tif(fo==1) bit = (data[boff>>>3]>>>(7-(boff&7)))&1;\r\n\t\tif(fo==2) bit = (data[boff>>>3]>>>(  (boff&7)))&1;\r\n\t\tboff++;  wrd+=bit;\r\n\t\tif(mode==\"H\")\r\n\t\t{\r\n\t\t\tif(U._lens[clr][wrd]!=null)\r\n\t\t\t{\r\n\t\t\t\tvar dl=U._lens[clr][wrd];  wrd=\"\";  len+=dl;\r\n\t\t\t\tif(dl<64) {  U._addNtimes(line,len,clr);  a0+=len;  clr=1-clr;  len=0;  toRead--;  if(toRead==0) mode=\"\";  }\r\n\t\t\t}\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tif(wrd==\"0001\")  {  wrd=\"\";  U._addNtimes(line,b2-a0,clr);  a0=b2;   }\r\n\t\t\tif(wrd==\"001\" )  {  wrd=\"\";  mode=\"H\";  toRead=2;  }\r\n\t\t\tif(U._dmap[wrd]!=null) {  a1 = b1+U._dmap[wrd];  U._addNtimes(line, a1-a0, clr);  a0=a1;  wrd=\"\";  clr=1-clr;  }\r\n\t\t}\r\n\t\tif(line.length==w && mode==\"\")\r\n\t\t{\r\n\t\t\tU._writeBits(line, tgt, toff*8+y*bipl);\r\n\t\t\tclr=0;  y++;  a0=0;\r\n\t\t\tpline=U._makeDiff(line);  line=[];\r\n\t\t}\r\n\t\t//if(wrd.length>150) {  log(wrd);  break;  throw \"e\";  }\r\n\t}\r\n}\r\n\r\nUTIF.decode._findDiff = function(line, x, clr) {  for(var i=0; i<line.length; i+=2) if(line[i]>=x && line[i+1]==clr)  return line[i];  }\r\n\r\nUTIF.decode._makeDiff = function(line)\r\n{\r\n\tvar out = [];  if(line[0]==1) out.push(0,1);\r\n\tfor(var i=1; i<line.length; i++) if(line[i-1]!=line[i]) out.push(i, line[i]);\r\n\tout.push(line.length,0,line.length,1);  return out;\r\n}\r\n\r\nUTIF.decode._decodeG2 = function(data, off, slen, tgt, toff, w, fo)\r\n{\r\n\tvar U = UTIF.decode, boff=off<<3, len=0, wrd=\"\";\r\n\tvar line=[];\r\n\tvar clr = 0;\r\n\tvar y=0;\r\n\tvar bipl = Math.ceil(w/8)*8;\r\n\t\r\n\twhile((boff>>>3)<off+slen) {\r\n\t\tvar bit =0;\r\n\t\tif(fo==1) bit = (data[boff>>>3]>>>(7-(boff&7)))&1;\r\n\t\tif(fo==2) bit = (data[boff>>>3]>>>(  (boff&7)))&1;\r\n\t\tboff++;  wrd+=bit;\r\n\t\t\r\n\t\tlen = U._lens[clr][wrd];\r\n\t\tif(len!=null) {\r\n\t\t\tU._addNtimes(line,len,clr);  wrd=\"\";\r\n\t\t\tif(len<64) clr = 1-clr;  \r\n\t\t\tif(line.length==w) {  U._writeBits(line, tgt, toff*8+y*bipl);  line=[];  y++;  clr=0;  if((boff&7)!=0) boff+=8-(boff&7);  if(len>=64) boff+=8;   }\r\n\t\t}\r\n\t}\r\n}\r\n\r\nUTIF.decode._decodeG3 = function(data, off, slen, tgt, toff, w, fo, twoDim)\r\n{\r\n\tvar U = UTIF.decode, boff=off<<3, len=0, wrd=\"\";\r\n\tvar line=[], pline=[];  for(var i=0; i<w; i++) line.push(0);\r\n\tvar a0=0, a1=0, a2=0, b1=0, b2=0, clr=0;\r\n\tvar y=-1, mode=\"\", toRead=0, is1D=true;\r\n\tvar bipl = Math.ceil(w/8)*8;\r\n\twhile((boff>>>3)<off+slen)\r\n\t{\r\n\t\tb1 = U._findDiff(pline, a0+(a0==0?0:1), 1-clr), b2 = U._findDiff(pline, b1, clr);\t// could be precomputed\r\n\t\tvar bit =0;\r\n\t\tif(fo==1) bit = (data[boff>>>3]>>>(7-(boff&7)))&1;\r\n\t\tif(fo==2) bit = (data[boff>>>3]>>>(  (boff&7)))&1;\r\n\t\tboff++;  wrd+=bit;\r\n\r\n\t\tif(is1D)\r\n\t\t{\r\n\t\t\tif(U._lens[clr][wrd]!=null)\r\n\t\t\t{\r\n\t\t\t\tvar dl=U._lens[clr][wrd];  wrd=\"\";  len+=dl;\r\n\t\t\t\tif(dl<64) {  U._addNtimes(line,len,clr);  clr=1-clr;  len=0;  }\r\n\t\t\t}\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tif(mode==\"H\")\r\n\t\t\t{\r\n\t\t\t\tif(U._lens[clr][wrd]!=null)\r\n\t\t\t\t{\r\n\t\t\t\t\tvar dl=U._lens[clr][wrd];  wrd=\"\";  len+=dl;\r\n\t\t\t\t\tif(dl<64) {  U._addNtimes(line,len,clr);  a0+=len;  clr=1-clr;  len=0;  toRead--;  if(toRead==0) mode=\"\";  }\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tif(wrd==\"0001\")  {  wrd=\"\";  U._addNtimes(line,b2-a0,clr);  a0=b2;   }\r\n\t\t\t\tif(wrd==\"001\" )  {  wrd=\"\";  mode=\"H\";  toRead=2;  }\r\n\t\t\t\tif(U._dmap[wrd]!=null) {  a1 = b1+U._dmap[wrd];  U._addNtimes(line, a1-a0, clr);  a0=a1;  wrd=\"\";  clr=1-clr;  }\r\n\t\t\t}\r\n\t\t}\r\n\t\tif(wrd.endsWith(\"000000000001\")) // needed for some files\r\n\t\t{\r\n\t\t\tif(y>=0) U._writeBits(line, tgt, toff*8+y*bipl);\r\n\t\t\tif(twoDim) {\r\n\t\t\t\tif(fo==1) is1D = ((data[boff>>>3]>>>(7-(boff&7)))&1)==1;\r\n\t\t\t\tif(fo==2) is1D = ((data[boff>>>3]>>>(  (boff&7)))&1)==1;\r\n\t\t\t\tboff++;\r\n\t\t\t}\r\n\t\t\t//log(\"EOL\",y, \"next 1D:\", is1D);\r\n\t\t\twrd=\"\";  clr=0;  y++;  a0=0;\r\n\t\t\tpline=U._makeDiff(line);  line=[];\r\n\t\t}\r\n\t}\r\n\tif(line.length==w) U._writeBits(line, tgt, toff*8+y*bipl);\r\n}\r\n\r\nUTIF.decode._addNtimes = function(arr, n, val) {  for(var i=0; i<n; i++) arr.push(val);  }\r\n\r\nUTIF.decode._writeBits = function(bits, tgt, boff)\r\n{\r\n\tfor(var i=0; i<bits.length; i++) tgt[(boff+i)>>>3] |= (bits[i]<<(7-((boff+i)&7)));\r\n}\r\n\r\nUTIF.decode._decodeLZW=UTIF.decode._decodeLZW=function(){var e,U,Z,u,K=0,V=0,g=0,N=0,O=function(){var S=e>>>3,A=U[S]<<16|U[S+1]<<8|U[S+2],j=A>>>24-(e&7)-V&(1<<V)-1;\r\ne+=V;return j},h=new Uint32Array(4096*4),w=0,m=function(S){if(S==w)return;w=S;g=1<<S;N=g+1;for(var A=0;\r\nA<N+1;A++){h[4*A]=h[4*A+3]=A;h[4*A+1]=65535;h[4*A+2]=1}},i=function(S){V=S+1;K=N+1},D=function(S){var A=S<<2,j=h[A+2],a=u+j-1;\r\nwhile(A!=65535){Z[a--]=h[A];A=h[A+1]}u+=j},L=function(S,A){var j=K<<2,a=S<<2;h[j]=h[(A<<2)+3];h[j+1]=a;\r\nh[j+2]=h[a+2]+1;h[j+3]=h[a+3];K++;if(K+1==1<<V&&V!=12)V++},T=function(S,A,j,a,n,q){e=A<<3;U=S;Z=a;u=n;\r\nvar B=A+j<<3,_=0,t=0;m(q);i(q);while(e<B&&(_=O())!=N){if(_==g){i(q);_=O();if(_==N)break;D(_)}else{if(_<K){D(_);\r\nL(t,_)}else{L(t,t);D(K-1)}}t=_}return u};return T}();\r\n\r\nUTIF.tags = {};\r\n//UTIF.ttypes = {  256:3,257:3,258:3,   259:3, 262:3,  273:4,  274:3, 277:3,278:4,279:4, 282:5, 283:5, 284:3, 286:5,287:5, 296:3, 305:2, 306:2, 338:3, 513:4, 514:4, 34665:4  };\r\n// start at tag 250\r\nUTIF._types = function() {\r\n\tvar main = new Array(250);  main.fill(0);\r\n\tmain = main.concat([0,0,0,0,4,3,3,3,3,3,0,0,3,0,0,0,3,0,0,2,2,2,2,4,3,0,0,3,4,4,3,3,5,5,3,2,5,5,0,0,0,0,4,4,0,0,3,3,0,0,0,0,0,0,0,2,2,0,0,0,0,0,0,0,0,2,2,3,5,5,3,0,3,3,4,4,4,3,4,0,0,0,0,0,0,0,0,0,3,3,0,0,0,0,0,0,0,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);\r\n\tvar rest = {33432: 2, 33434: 5, 33437: 5, 34665: 4, 34850: 3, 34853: 4, 34855: 3, 34864: 3, 34866: 4, 36864: 7, 36867: 2, 36868: 2, 37121: 7, 37377: 10, 37378: 5, 37380: 10, 37381: 5, 37383: 3, 37384: 3, 37385: 3, 37386: 5, 37510: 7, 37520: 2, 37521: 2, 37522: 2, 40960: 7, 40961: 3, 40962: 4, 40963: 4, 40965: 4, 41486: 5, 41487: 5, 41488: 3, 41985: 3, 41986: 3, 41987: 3, 41988: 5, 41989: 3, 41990: 3, 41993: 3, 41994: 3, 41995: 7, 41996: 3, 42032: 2, 42033: 2, 42034: 5, 42036: 2, 42037: 2, 59932: 7};\r\n\treturn {\r\n\t\tbasic: {\r\n\t\t\tmain: main,\r\n\t\t\trest: rest\r\n\t\t},\r\n\t\tgps: {\r\n\t\t\tmain: [1,2,5,2,5,1,5,5,0,9],\r\n\t\t\trest: {18:2,29:2}\r\n\t\t}\r\n\t}\r\n}();\r\n\r\nUTIF._readIFD = function(bin, data, offset, ifds, depth, prm)\r\n{\r\n\tvar cnt = bin.readUshort(data, offset);  offset+=2;\r\n\tvar ifd = {};\r\n\r\n\tif(prm.debug) log(\"   \".repeat(depth),ifds.length-1,\">>>----------------\");\r\n\tfor(var i=0; i<cnt; i++)\r\n\t{\r\n\t\tvar tag  = bin.readUshort(data, offset);    offset+=2;\r\n\t\tvar type = bin.readUshort(data, offset);    offset+=2;\r\n\t\tvar num  = bin.readUint  (data, offset);    offset+=4;\r\n\t\tvar voff = bin.readUint  (data, offset);    offset+=4;\r\n\t\t\r\n\t\tvar arr = [];\r\n\t\t//ifd[\"t\"+tag+\"-\"+UTIF.tags[tag]] = arr;\r\n\t\tif(type== 1 || type==7) {  var no=(num<5 ? offset-4 : voff);  if(no+num>data.buffer.byteLength) num=data.buffer.byteLength-no;  arr = new Uint8Array(data.buffer, no, num);  }\r\n\t\tif(type== 2) {  var o0 = (num<5 ? offset-4 : voff), c=data[o0], len=Math.max(0, Math.min(num-1,data.length-o0));\r\n\t\t\t\t\t\tif(c<128 || len==0) arr.push( bin.readASCII(data, o0, len) );\r\n\t\t\t\t\t\telse      arr = new Uint8Array(data.buffer, o0, len);  }\r\n\t\tif(type== 3) {  for(var j=0; j<num; j++) arr.push(bin.readUshort(data, (num<3 ? offset-4 : voff)+2*j));  }\r\n\t\tif(type== 4 \r\n\t\t|| type==13) {  for(var j=0; j<num; j++) arr.push(bin.readUint  (data, (num<2 ? offset-4 : voff)+4*j));  }\r\n\t\tif(type== 5 || type==10) {  \r\n\t\t\tvar ri = type==5 ? bin.readUint : bin.readInt;\r\n\t\t\tfor(var j=0; j<num; j++) arr.push([ri(data, voff+j*8), ri(data,voff+j*8+4)]);  }\r\n\t\tif(type== 8) {  for(var j=0; j<num; j++) arr.push(bin.readShort (data, (num<3 ? offset-4 : voff)+2*j));  }\r\n\t\tif(type== 9) {  for(var j=0; j<num; j++) arr.push(bin.readInt   (data, (num<2 ? offset-4 : voff)+4*j));  }\r\n\t\tif(type==11) {  for(var j=0; j<num; j++) arr.push(bin.readFloat (data, voff+j*4));  }\r\n\t\tif(type==12) {  for(var j=0; j<num; j++) arr.push(bin.readDouble(data, voff+j*8));  }\r\n\t\t\r\n\t\tif(num!=0 && arr.length==0) {  log(tag, \"unknown TIFF tag type: \", type, \"num:\",num);  if(i==0)return;  continue;  }\r\n\t\tif(prm.debug) log(\"   \".repeat(depth), tag, type, UTIF.tags[tag], arr);\r\n\t\t\r\n\t\tifd[\"t\"+tag] = arr;\r\n\t\t\r\n\t\tif(tag==330 && ifd[\"t272\"] && ifd[\"t272\"][0]==\"DSLR-A100\") {  } \r\n\t\telse if(tag==330 || tag==34665 || tag==34853 || (tag==50740 && bin.readUshort(data,bin.readUint(arr,0))<300  ) ||tag==61440) {\r\n\t\t\tvar oarr = tag==50740 ? [bin.readUint(arr,0)] : arr;\r\n\t\t\tvar subfd = [];\r\n\t\t\tfor(var j=0; j<oarr.length; j++) UTIF._readIFD(bin, data, oarr[j], subfd, depth+1, prm);\r\n\t\t\tif(tag==  330) ifd.subIFD = subfd;\r\n\t\t\tif(tag==34665) ifd.exifIFD = subfd[0];\r\n\t\t\tif(tag==34853) ifd.gpsiIFD = subfd[0];  //console.log(\"gps\", subfd[0]);  }\r\n\t\t\tif(tag==50740) ifd.dngPrvt = subfd[0];\r\n\t\t\tif(tag==61440) ifd.fujiIFD = subfd[0];\r\n\t\t}\r\n\t\tif(tag==37500 && prm.parseMN) {\r\n\t\t\tvar mn = arr;\r\n\t\t\t//console.log(bin.readASCII(mn,0,mn.length), mn);\r\n\t\t\tif(bin.readASCII(mn,0,5)==\"Nikon\")  ifd.makerNote = UTIF[\"decode\"](mn.slice(10).buffer)[0];\r\n\t\t\telse if(bin.readASCII(mn,0,5)==\"OLYMP\" || bin.readASCII(mn,0,9)==\"OM SYSTEM\") { // ???\r\n\t\t\t\tvar inds = [8208,8224,8240,8256,8272];\r\n\t\t\t\tvar subsub = [];  UTIF._readIFD(bin, mn, mn[1]==77 ? 16 : (mn[5]==85 ? 12 : 8), subsub, depth+1, prm);\r\n\t\t\t\tvar obj = ifd.makerNote = subsub.pop();\r\n\t\t\t\tfor(var j=0; j<inds.length; j++) {\r\n\t\t\t\t\tvar k=\"t\"+inds[j];  if(obj[k]==null) continue;\r\n\t\t\t\t\tUTIF._readIFD(bin, mn, obj[k][0], subsub, depth+1, prm);\r\n\t\t\t\t\tobj[k] = subsub.pop();\r\n\t\t\t\t}\r\n\t\t\t\tif(obj[\"t12288\"]) {\r\n\t\t\t\t\tUTIF._readIFD(bin, obj[\"t12288\"], 0, subsub, depth+1, prm);\r\n\t\t\t\t\tobj[\"t12288\"]=subsub.pop();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse if(bin.readUshort(data,voff)<300 && bin.readUshort(data,voff+4)<=12){\r\n\t\t\t\tvar subsub=[];  UTIF._readIFD(bin, data, voff, subsub, depth+1, prm);\r\n\t\t\t\tifd.makerNote = subsub[0];\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tifds.push(ifd);\r\n\tif(prm.debug) log(\"   \".repeat(depth),\"<<<---------------\");\r\n\treturn offset;\r\n}\r\n\r\nUTIF._writeIFD = function(bin, types, data, offset, ifd)\r\n{\r\n\tvar keys = Object.keys(ifd), knum=keys.length;  if(ifd[\"exifIFD\"]) knum--;  if(ifd[\"gpsiIFD\"]) knum--;\r\n\tbin.writeUshort(data, offset, knum);  offset+=2;\r\n\r\n\tvar eoff = offset + knum*12 + 4;\r\n\r\n\tfor(var ki=0; ki<keys.length; ki++)\r\n\t{\r\n\t\tvar key = keys[ki];  if(key==\"t34665\" || key==\"t34853\") continue;  \r\n\t\tif(key==\"exifIFD\") key=\"t34665\";  if(key==\"gpsiIFD\") key=\"t34853\";\r\n\t\tvar tag = parseInt(key.slice(1)), type = types.main[tag];  if(type==null) type=types.rest[tag];\t\t\r\n\t\tif(type==null || type==0) throw new Error(\"unknown type of tag: \"+tag);\r\n\t\t//console.log(offset+\":\", tag, type, eoff);\r\n\t\tvar val = ifd[key];  \r\n\t\tif(tag==34665) {\r\n\t\t\tvar outp = UTIF._writeIFD(bin, types, data, eoff, ifd[\"exifIFD\"]);\r\n\t\t\tval = [eoff];  eoff = outp[1];\r\n\t\t}\r\n\t\tif(tag==34853) {\r\n\t\t\tvar outp = UTIF._writeIFD(bin, UTIF._types.gps, data, eoff, ifd[\"gpsiIFD\"]);\r\n\t\t\tval = [eoff];  eoff = outp[1];\r\n\t\t}\r\n\t\tif(type==2) val=val[0]+\"\\u0000\";  var num = val.length;\r\n\t\tbin.writeUshort(data, offset, tag );  offset+=2;\r\n\t\tbin.writeUshort(data, offset, type);  offset+=2;\r\n\t\tbin.writeUint  (data, offset, num );  offset+=4;\r\n\r\n\t\tvar dlen = [-1, 1, 1, 2, 4, 8, 0, 1, 0, 4, 8, 0, 8][type] * num;  //if(dlen<1) throw \"e\";\r\n\t\tvar toff = offset;\r\n\t\tif(dlen>4) {  bin.writeUint(data, offset, eoff);  toff=eoff;  }\r\n\r\n\t\tif     (type== 1 || type==7) {  for(var i=0; i<num; i++) data[toff+i] = val[i];  }\r\n\t\telse if(type== 2) {  bin.writeASCII(data, toff, val);   }\r\n\t\telse if(type== 3) {  for(var i=0; i<num; i++) bin.writeUshort(data, toff+2*i, val[i]);    }\r\n\t\telse if(type== 4) {  for(var i=0; i<num; i++) bin.writeUint  (data, toff+4*i, val[i]);    }\r\n\t\telse if(type== 5 || type==10) {  \r\n\t\t\tvar wr = type==5?bin.writeUint:bin.writeInt;\r\n\t\t\tfor(var i=0; i<num; i++) {  \r\n\t\t\tvar v=val[i],nu=v[0],de=v[1];  if(nu==null) throw \"e\";  wr(data, toff+8*i, nu);  wr(data, toff+8*i+4, de);  }   }\r\n\t\telse if(type== 9) {  for(var i=0; i<num; i++) bin.writeInt   (data, toff+4*i, val[i]);    }\r\n\t\telse if(type==12) {  for(var i=0; i<num; i++) bin.writeDouble(data, toff+8*i, val[i]);    }\r\n\t\telse throw type;\r\n\r\n\t\tif(dlen>4) {  dlen += (dlen&1);  eoff += dlen;  }\r\n\t\toffset += 4;\r\n\t}\r\n\treturn [offset, eoff];\r\n}\r\n\r\nUTIF.toRGBA8 = function(out, scl)\r\n{\r\n\tfunction gamma(x) {  return x < 0.0031308 ? 12.92 * x : 1.055 * Math.pow(x, 1.0 / 2.4) - 0.055;  }\r\n\t\r\n\t\r\n\tvar w = out.width, h = out.height, area = w*h, qarea = area*4, data = out.data;\r\n\tvar img = new Uint8Array(area*4);\r\n\t//console.log(out);\r\n\t// 0: WhiteIsZero, 1: BlackIsZero, 2: RGB, 3: Palette color, 4: Transparency mask, 5: CMYK\r\n\tvar intp = (out[\"t262\"] ? out[\"t262\"][0]: 2), bps = (out[\"t258\"]?Math.min(32,out[\"t258\"][0]):1);\r\n\tif(out[\"t262\"]==null && bps==1) intp=0;\r\n\t\r\n\tvar smpls = out[\"t277\"]?out[\"t277\"][0] : (out[\"t258\"]?out[\"t258\"].length : [1,1,3,1,1,4,3][intp]);\r\n\tvar sfmt  = out[\"t339\"]?out[\"t339\"][0] : null;  if(intp==1 && bps==32 && sfmt!=3) throw \"e\";  // sample format\r\n\tvar bpl = Math.ceil(smpls*bps*w/8);\r\n\t\r\n\t//log(\"interpretation: \", intp, \"smpls\", smpls, \"bps\", bps, \"sample format\",sfmt, out);\r\n\t\r\n\tif(false) {}\r\n\telse if(intp==0)\r\n\t{\r\n\t\tscl = 1/256; // \"Photopeatest.tif\"\r\n\t\tfor(var y=0; y<h; y++) {\r\n\t\t\tvar off = y*bpl, io = y*w;\r\n\t\t\tif(bps== 1) for(var i=0; i<w; i++) {  var qi=(io+i)<<2, px=((data[off+(i>>3)])>>(7-  (i&7)))& 1;  img[qi]=img[qi+1]=img[qi+2]=( 1-px)*255;  img[qi+3]=255;    }\r\n\t\t\tif(bps== 4) for(var i=0; i<w; i++) {  var qi=(io+i)<<2, px=((data[off+(i>>1)])>>(4-4*(i&1)))&15;  img[qi]=img[qi+1]=img[qi+2]=(15-px)* 17;  img[qi+3]=255;    }\r\n\t\t\tif(bps== 8) for(var i=0; i<w; i++) {  var qi=(io+i)<<2, px=data[off+i];  img[qi]=img[qi+1]=img[qi+2]=255-px;  img[qi+3]=255;    }\r\n\t\t\tif(bps==16) for(var i=0; i<w; i++) {  var qi=(io+i)<<2, o=off+(2*i), px=(data[o+1]<<8)|data[o];  img[qi]=img[qi+1]=img[qi+2]= Math.min(255,255-(~~(px*scl)));  img[qi+3]=255;    } // ladoga.tif\r\n\t\t}\r\n\t}\r\n\telse if(intp==1)\r\n\t{\r\n\t\tif(scl==null) scl=1/256;\r\n\t\tvar f32 = ((data.length&3)==0) ? new Float32Array(data.buffer) : null;\r\n\t\t\r\n\t\tfor(var y=0; y<h; y++) {\r\n\t\t\tvar off = y*bpl, io = y*w;\r\n\t\t\tif(bps== 1) for(var i=0; i<w; i++) {  var qi=(io+i)<<2, px=((data[off+(i>>3)])>>(7-  (i&7)))&1;   img[qi]=img[qi+1]=img[qi+2]=(px)*255;  img[qi+3]=255;    }\r\n\t\t\tif(bps== 2) for(var i=0; i<w; i++) {  var qi=(io+i)<<2, px=((data[off+(i>>2)])>>(6-2*(i&3)))&3;   img[qi]=img[qi+1]=img[qi+2]=(px)* 85;  img[qi+3]=255;    }\r\n\t\t\tif(bps== 8) for(var i=0; i<w; i++) {  var qi=(io+i)<<2, px=data[off+i*smpls];  img[qi]=img[qi+1]=img[qi+2]=    px;  img[qi+3]=255;    }\r\n\t\t\tif(bps==16) for(var i=0; i<w; i++) {  var qi=(io+i)<<2, o=off+(2*i), px=(data[o+1]<<8)|data[o];  img[qi]=img[qi+1]=img[qi+2]= Math.min(255,~~(px*scl));  img[qi+3]=255;    } // ladoga.tif\r\n\t\t\tif(bps==32) for(var i=0; i<w; i++) {  var qi=(io+i)<<2, o=(off>>>2)+i, px=f32[o];  img[qi]=img[qi+1]=img[qi+2]= ~~(0.5+255*px);  img[qi+3]=255;    }\r\n\t\t}\r\n\t}\r\n\telse if(intp==2)\r\n\t{\r\n\t\tif(bps== 8) \r\n\t\t{\r\n\t\t\tif(smpls==1) for(var i=0; i<area; i++) {  img[4*i]=img[4*i+1]=img[4*i+2]=data[i];  img[4*i+3]=255;  }\r\n\t\t\tif(smpls==3) for(var i=0; i<area; i++) {  var qi=i<<2, ti=i*3    ;  img[qi]=data[ti];  img[qi+1]=data[ti+1];  img[qi+2]=data[ti+2];  img[qi+3]=255;    }\r\n\t\t\tif(smpls>=4) for(var i=0; i<area; i++) {  var qi=i<<2, ti=i*smpls;  img[qi]=data[ti];  img[qi+1]=data[ti+1];  img[qi+2]=data[ti+2];  img[qi+3]=data[ti+3];    }\r\n\t\t}\r\n\t\telse if(bps==16){  // 3x 16-bit channel\r\n\t\t\tif(smpls==4) for(var i=0; i<area; i++) {  var qi=i<<2, ti=i*8+1;  img[qi]=data[ti];  img[qi+1]=data[ti+2];  img[qi+2]=data[ti+4];  img[qi+3]=data[ti+6];    }\r\n\t\t\tif(smpls==3) for(var i=0; i<area; i++) {  var qi=i<<2, ti=i*6+1;  img[qi]=data[ti];  img[qi+1]=data[ti+2];  img[qi+2]=data[ti+4];  img[qi+3]=255;           }\r\n\t\t}\r\n\t\telse if(bps==32){\r\n\t\t\tvar ndt = new Float32Array(data.buffer);  // t339 is [3,3,3]\r\n\t\t\t// check the endianity\r\n\t\t\tvar min = 0;  for(var i=0; i<ndt.length; i++) min = Math.min(min,ndt[i]);\r\n\t\t\tif(min<0) for(var i=0; i<data.length; i+=4) {  var t=data[i];  data[i]=data[i+3];  data[i+3]=t;  t=data[i+1];  data[i+1]=data[i+2];  data[i+2]=t;  }\r\n\t\t\t// gamma correction\r\n\t\t\tvar pmap = [];  for(var i=0; i<65536; i++) pmap.push(gamma(i/65535));\r\n\t\t\tfor(var i=0; i<ndt.length; i++) {  var cv = Math.max(0, Math.min(1, ndt[i]));  ndt[i] = pmap[~~(0.5+cv*65535)];  }\r\n\t\t\t\r\n\t\t\tif(smpls==3) for(var i=0; i<area; i++) {  var qi=i<<2, ti=i*3;  \r\n\t\t\t\timg[qi]=~~(0.5+ndt[ti]*255);  img[qi+1]=~~(0.5+ndt[ti+1]*255);  img[qi+2]=~~(0.5+ndt[ti+2]*255);  img[qi+3]=255;           }\r\n\t\t\telse if(smpls==4) for(var i=0; i<area; i++) {  var qi=i<<2, ti=i*4;  \r\n\t\t\t\timg[qi]=~~(0.5+ndt[ti]*255);  img[qi+1]=~~(0.5+ndt[ti+1]*255);  img[qi+2]=~~(0.5+ndt[ti+2]*255);  img[qi+3]=~~(0.5+ndt[ti+3]*255);           }\r\n\t\t\telse throw smpls;\r\n\t\t}\r\n\t\telse throw bps;\r\n\t}\r\n\telse if(intp==3)\r\n\t{\r\n\t\tvar map = out[\"t320\"];\r\n\t\tvar cn = 1<<bps;\r\n\t\t\r\n\t\tvar nexta = bps==8 && smpls>1 && out[\"t338\"] && out[\"t338\"][0]!=0;\r\n\t\t\r\n\t\tfor(var y=0; y<h; y++) \r\n\t\t\tfor(var x=0; x<w; x++) {  \r\n\t\t\t\tvar i = y*w+x;\r\n\t\t\t\tvar qi=i<<2, mi=0;\r\n\t\t\t\tvar dof = y*bpl;\r\n\t\t\t\tif(false) {}\r\n\t\t\t\telse if(bps==1) mi=(data[dof+(x>>>3)]>>>(7-  (x&7)))& 1;\r\n\t\t\t\telse if(bps==2) mi=(data[dof+(x>>>2)]>>>(6-2*(x&3)))& 3;\r\n\t\t\t\telse if(bps==4) mi=(data[dof+(x>>>1)]>>>(4-4*(x&1)))&15;\r\n\t\t\t\telse if(bps==8) mi= data[dof+x*smpls]; \r\n\t\t\t\telse throw bps;\r\n\t\t\t\timg[qi]=(map[mi]>>8);  img[qi+1]=(map[cn+mi]>>8);  img[qi+2]=(map[cn+cn+mi]>>8);  img[qi+3]=nexta ? data[dof+x*smpls+1] : 255;   \r\n\t\t\t}\r\n\t}\r\n\telse if(intp==5) \r\n\t{\r\n\t\tvar gotAlpha = smpls>4 ? 1 : 0;\r\n\t\tfor(var i=0; i<area; i++) {\r\n\t\t\tvar qi=i<<2, si=i*smpls;  \r\n\t\t\t\r\n\t\t\tif(window.UDOC) {\r\n\t\t\t\tvar C=data[si], M=data[si+1], Y=data[si+2], K=data[si+3];\r\n\t\t\t\tvar c = UDOC.C.cmykToRgb([C*(1/255), M*(1/255), Y*(1/255), K*(1/255)]);\r\n\t\t\t\timg[qi] = ~~(0.5+255*c[0]);  img[qi+1] = ~~(0.5+255*c[1]);  img[qi+2] = ~~(0.5+255*c[2]);\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tvar C=255-data[si], M=255-data[si+1], Y=255-data[si+2], K=(255-data[si+3])*(1/255);\r\n\t\t\t\timg[qi]=~~(C*K+0.5);  img[qi+1]=~~(M*K+0.5);  img[qi+2]=~~(Y*K+0.5);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\timg[qi+3]=255*(1-gotAlpha)+data[si+4]*gotAlpha;\r\n\t\t}\r\n\t}\r\n\telse if(intp==6 && out[\"t278\"]) {  // only for DSC_1538.TIF\r\n\t\tvar rps = out[\"t278\"][0];\r\n\t\tfor(var y=0; y<h; y+=rps) {\r\n\t\t\tvar i=(y*w), len = rps*w;\r\n\t\t\t\r\n\t\t\tfor(var j=0; j<len; j++) {\r\n\t\t\t\tvar qi = 4*(i+j), si = 3*i+4*(j>>>1);\r\n\t\t\t\tvar Y = data[si+(j&1)], Cb=data[si+2]-128, Cr=data[si+3]-128;\r\n\t\t\t\t\r\n\t\t\t\tvar r = Y + ( (Cr >> 2) + (Cr >> 3) + (Cr >> 5) ) ;\r\n\t\t\t\tvar g = Y - ( (Cb >> 2) + (Cb >> 4) + (Cb >> 5)) - ( (Cr >> 1) + (Cr >> 3) + (Cr >> 4) + (Cr >> 5)) ;\r\n\t\t\t\tvar b = Y + ( Cb + (Cb >> 1) + (Cb >> 2) + (Cb >> 6)) ;\r\n\t\t\t\t\r\n\t\t\t\timg[qi  ]=Math.max(0,Math.min(255,r));\r\n\t\t\t\timg[qi+1]=Math.max(0,Math.min(255,g));\r\n\t\t\t\timg[qi+2]=Math.max(0,Math.min(255,b));\r\n\t\t\t\timg[qi+3]=255;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\telse if(intp==32845) {\r\n\t\t\r\n\t\tfor(var y=0; y<h; y++)\r\n\t\t\tfor(var x=0; x<w; x++) {\r\n\t\t\t\tvar si = (y*w+x)*6, qi=(y*w+x)*4;\r\n\t\t\t\tvar L =  (data[si+1]<<8) | data[si];\r\n\t\t\t\t\r\n\t\t\t\tvar L = Math.pow(2, (L + 0.5) / 256 - 64);\r\n\t\t\t\tvar u = (data[si+3] + 0.5) / 410;\r\n\t\t\t\tvar v = (data[si+5] + 0.5) / 410;\r\n\t\t\t\t\r\n\t\t\t\t// Luv to xyY\r\n\t\t\t\tvar sX = (9 * u) / (6 * u - 16 * v + 12);\r\n\t\t\t\tvar sY = (4 * v) / (6 * u - 16 * v + 12);\r\n\t\t\t\tvar bY = L;  \r\n\t\t\t\t\r\n\t\t\t\t// xyY to XYZ\r\n\t\t\t\tvar X = (sX*bY)/sY, Y = bY, Z = (1-sX-sY)*bY/sY;  \r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\tvar r =  2.690*X -1.276*Y -0.414*Z\r\n\t\t\t\tvar g = -1.022*X +1.978*Y +0.044*Z\r\n\t\t\t\tvar b =  0.061*X -0.224*Y +1.163*Z\r\n\t\t\t\t\r\n\t\t\t\timg[qi  ] = gamma(Math.min(r,1))*255;\r\n\t\t\t\timg[qi+1] = gamma(Math.min(g,1))*255;\r\n\t\t\t\timg[qi+2] = gamma(Math.min(b,1))*255;\r\n\t\t\t\timg[qi+3] = 255;\r\n\t\t\t}\r\n\t}\r\n\telse log(\"Unknown Photometric interpretation: \"+intp);\r\n\treturn img;\r\n}\r\n\r\nUTIF.replaceIMG = function(imgs)\r\n{\r\n\tif(imgs==null) imgs = document.getElementsByTagName(\"img\");\r\n\tvar sufs = [\"tif\",\"tiff\",\"dng\",\"cr2\",\"nef\"]\r\n\tfor (var i=0; i<imgs.length; i++)\r\n\t{\r\n\t\tvar img=imgs[i], src=img.getAttribute(\"src\");  if(src==null) continue;\r\n\t\tvar suff=src.split(\".\").pop().toLowerCase();\r\n\t\tif(sufs.indexOf(suff)==-1) continue;\r\n\t\tvar xhr = new XMLHttpRequest();  UTIF._xhrs.push(xhr);  UTIF._imgs.push(img);\r\n\t\txhr.open(\"GET\", src);  xhr.responseType = \"arraybuffer\";\r\n\t\txhr.onload = UTIF._imgLoaded;   xhr.send();\r\n\t}\r\n}\r\n\r\nUTIF._xhrs = [];  UTIF._imgs = [];\r\nUTIF._imgLoaded = function(e) {\r\n\tvar ind = UTIF._xhrs.indexOf(e.target), img = UTIF._imgs[ind];\r\n\tUTIF._xhrs.splice(ind,1);  UTIF._imgs.splice(ind,1);\r\n\t\r\n\timg.setAttribute(\"src\",UTIF.bufferToURI(e.target.response));\r\n}\r\n\r\nUTIF.bufferToURI = function(buff) {\r\n\tvar ifds = UTIF.decode(buff);  //console.log(ifds);\r\n\tvar vsns = ifds, ma=0, page=vsns[0];  if(ifds[0].subIFD) vsns = vsns.concat(ifds[0].subIFD);\r\n\tfor(var i=0; i<vsns.length; i++) {\r\n\t\tvar img = vsns[i];\r\n\t\tif(img[\"t258\"]==null || img[\"t258\"].length<3) continue;\r\n\t\tvar ar = img[\"t256\"]*img[\"t257\"];\r\n\t\tif(ar>ma) {  ma=ar;  page=img;  }\r\n\t}\r\n\tUTIF.decodeImage(buff, page, ifds);\r\n\tvar rgba = UTIF.toRGBA8(page), w=page.width, h=page.height;\r\n\t\r\n\tvar cnv = document.createElement(\"canvas\");  cnv.width=w;  cnv.height=h;\r\n\tvar ctx = cnv.getContext(\"2d\");\r\n\tvar imgd = new ImageData(new Uint8ClampedArray(rgba.buffer),w,h);\r\n\tctx.putImageData(imgd,0,0);\r\n\treturn cnv.toDataURL();\r\n}\r\n\r\n\r\nUTIF._binBE =\r\n{\r\n\tnextZero   : function(data, o) {  while(data[o]!=0) o++;  return o;  },\r\n\treadUshort : function(buff, p) {  return (buff[p]<< 8) |  buff[p+1];  },\r\n\treadShort  : function(buff, p) {  var a=UTIF._binBE.ui8;  a[0]=buff[p+1];  a[1]=buff[p+0];\t\t\t\t\t\t\t        return UTIF._binBE. i16[0];  },\r\n\treadInt    : function(buff, p) {  var a=UTIF._binBE.ui8;  a[0]=buff[p+3];  a[1]=buff[p+2];  a[2]=buff[p+1];  a[3]=buff[p+0];  return UTIF._binBE. i32[0];  },\r\n\treadUint   : function(buff, p) {  var a=UTIF._binBE.ui8;  a[0]=buff[p+3];  a[1]=buff[p+2];  a[2]=buff[p+1];  a[3]=buff[p+0];  return UTIF._binBE.ui32[0];  },\r\n\treadASCII  : function(buff, p, l) {  var s = \"\";   for(var i=0; i<l; i++) s += String.fromCharCode(buff[p+i]);   return s; },\r\n\treadFloat  : function(buff, p) {  var a=UTIF._binBE.ui8;  for(var i=0;i<4;i++) a[i]=buff[p+3-i];  return UTIF._binBE.fl32[0];  },\r\n\treadDouble : function(buff, p) {  var a=UTIF._binBE.ui8;  for(var i=0;i<8;i++) a[i]=buff[p+7-i];  return UTIF._binBE.fl64[0];  },\r\n\r\n\twriteUshort: function(buff, p, n) {  buff[p] = (n>> 8)&255;  buff[p+1] =  n&255;  },\r\n\twriteInt   : function(buff, p, n) {  var a=UTIF._binBE.ui8;  UTIF._binBE.i32[0]=n;  buff[p+3]=a[0];  buff[p+2]=a[1];  buff[p+1]=a[2];  buff[p+0]=a[3];  },\r\n\twriteUint  : function(buff, p, n) {  buff[p] = (n>>24)&255;  buff[p+1] = (n>>16)&255;  buff[p+2] = (n>>8)&255;  buff[p+3] = (n>>0)&255;  },\r\n\twriteASCII : function(buff, p, s) {  for(var i = 0; i < s.length; i++)  buff[p+i] = s.charCodeAt(i);  },\r\n\twriteDouble: function(buff, p, n)\r\n\t{\r\n\t\tUTIF._binBE.fl64[0] = n;\r\n\t\tfor (var i = 0; i < 8; i++) buff[p + i] = UTIF._binBE.ui8[7 - i];\r\n\t}\r\n}\r\nUTIF._binBE.ui8  = new Uint8Array  (8);\r\nUTIF._binBE.i16  = new Int16Array  (UTIF._binBE.ui8.buffer);\r\nUTIF._binBE.i32  = new Int32Array  (UTIF._binBE.ui8.buffer);\r\nUTIF._binBE.ui32 = new Uint32Array (UTIF._binBE.ui8.buffer);\r\nUTIF._binBE.fl32 = new Float32Array(UTIF._binBE.ui8.buffer);\r\nUTIF._binBE.fl64 = new Float64Array(UTIF._binBE.ui8.buffer);\r\n\r\nUTIF._binLE =\r\n{\r\n\tnextZero   : UTIF._binBE.nextZero,\r\n\treadUshort : function(buff, p) {  return (buff[p+1]<< 8) |  buff[p];  },\r\n\treadShort  : function(buff, p) {  var a=UTIF._binBE.ui8;  a[0]=buff[p+0];  a[1]=buff[p+1];\t\t\t\t\t\t\t        return UTIF._binBE. i16[0];  },\r\n\treadInt    : function(buff, p) {  var a=UTIF._binBE.ui8;  a[0]=buff[p+0];  a[1]=buff[p+1];  a[2]=buff[p+2];  a[3]=buff[p+3];  return UTIF._binBE. i32[0];  },\r\n\treadUint   : function(buff, p) {  var a=UTIF._binBE.ui8;  a[0]=buff[p+0];  a[1]=buff[p+1];  a[2]=buff[p+2];  a[3]=buff[p+3];  return UTIF._binBE.ui32[0];  },\r\n\treadASCII  : UTIF._binBE.readASCII,\r\n\treadFloat  : function(buff, p) {  var a=UTIF._binBE.ui8;  for(var i=0;i<4;i++) a[i]=buff[p+  i];  return UTIF._binBE.fl32[0];  },\r\n\treadDouble : function(buff, p) {  var a=UTIF._binBE.ui8;  for(var i=0;i<8;i++) a[i]=buff[p+  i];  return UTIF._binBE.fl64[0];  },\r\n\t\r\n\twriteUshort: function(buff, p, n) {  buff[p] = (n)&255;  buff[p+1] =  (n>>8)&255;  },\r\n\twriteInt   : function(buff, p, n) {  var a=UTIF._binBE.ui8;  UTIF._binBE.i32[0]=n;  buff[p+0]=a[0];  buff[p+1]=a[1];  buff[p+2]=a[2];  buff[p+3]=a[3];  },\r\n\twriteUint  : function(buff, p, n) {  buff[p] = (n>>>0)&255;  buff[p+1] = (n>>>8)&255;  buff[p+2] = (n>>>16)&255;  buff[p+3] = (n>>>24)&255;  },\r\n\twriteASCII : UTIF._binBE.writeASCII\r\n}\r\nUTIF._copyTile = function(tb, tw, th, b, w, h, xoff, yoff)\r\n{\r\n\t//log(\"copyTile\", tw, th,  w, h, xoff, yoff);\r\n\tvar xlim = Math.min(tw, w-xoff);\r\n\tvar ylim = Math.min(th, h-yoff);\r\n\tfor(var y=0; y<ylim; y++)\r\n\t{\r\n\t\tvar tof = (yoff+y)*w+xoff;\r\n\t\tvar sof = y*tw;\r\n\t\tfor(var x=0; x<xlim; x++) b[tof+x] = tb[sof+x];\r\n\t}\r\n}\r\n\r\nUTIF._inflateRaw=function(){var H={};H.H={};H.H.N=function(N,W){var R=Uint8Array,i=0,m=0,J=0,h=0,Q=0,X=0,u=0,w=0,d=0,v,C;\r\n\tif(N[0]==3&&N[1]==0)return W?W:new R(0);var V=H.H,n=V.b,A=V.e,l=V.R,M=V.n,I=V.A,e=V.Z,b=V.m,Z=W==null;\r\n\tif(Z)W=new R(N.length>>>2<<5);while(i==0){i=n(N,d,1);m=n(N,d+1,2);d+=3;if(m==0){if((d&7)!=0)d+=8-(d&7);\r\n\tvar D=(d>>>3)+4,q=N[D-4]|N[D-3]<<8;if(Z)W=H.H.W(W,w+q);W.set(new R(N.buffer,N.byteOffset+D,q),w);d=D+q<<3;\r\n\tw+=q;continue}if(Z)W=H.H.W(W,w+(1<<17));if(m==1){v=b.J;C=b.h;X=(1<<9)-1;u=(1<<5)-1}if(m==2){J=A(N,d,5)+257;\r\n\th=A(N,d+5,5)+1;Q=A(N,d+10,4)+4;d+=14;var E=d,j=1;for(var c=0;c<38;c+=2){b.Q[c]=0;b.Q[c+1]=0}for(var c=0;\r\n\tc<Q;c++){var K=A(N,d+c*3,3);b.Q[(b.X[c]<<1)+1]=K;if(K>j)j=K}d+=3*Q;M(b.Q,j);I(b.Q,j,b.u);v=b.w;C=b.d;\r\n\td=l(b.u,(1<<j)-1,J+h,N,d,b.v);var r=V.V(b.v,0,J,b.C);X=(1<<r)-1;var S=V.V(b.v,J,h,b.D);u=(1<<S)-1;M(b.C,r);\r\n\tI(b.C,r,v);M(b.D,S);I(b.D,S,C)}while(!0){var T=v[e(N,d)&X];d+=T&15;var p=T>>>4;if(p>>>8==0){W[w++]=p}else if(p==256){break}else{var z=w+p-254;\r\n\tif(p>264){var _=b.q[p-257];z=w+(_>>>3)+A(N,d,_&7);d+=_&7}var $=C[e(N,d)&u];d+=$&15;var s=$>>>4,Y=b.c[s],a=(Y>>>4)+n(N,d,Y&15);\r\n\td+=Y&15;while(w<z){W[w]=W[w++-a];W[w]=W[w++-a];W[w]=W[w++-a];W[w]=W[w++-a]}w=z}}}return W.length==w?W:W.slice(0,w)};\r\n\tH.H.W=function(N,W){var R=N.length;if(W<=R)return N;var V=new Uint8Array(R<<1);V.set(N,0);return V};\r\n\tH.H.R=function(N,W,R,V,n,A){var l=H.H.e,M=H.H.Z,I=0;while(I<R){var e=N[M(V,n)&W];n+=e&15;var b=e>>>4;\r\n\tif(b<=15){A[I]=b;I++}else{var Z=0,m=0;if(b==16){m=3+l(V,n,2);n+=2;Z=A[I-1]}else if(b==17){m=3+l(V,n,3);\r\n\tn+=3}else if(b==18){m=11+l(V,n,7);n+=7}var J=I+m;while(I<J){A[I]=Z;I++}}}return n};H.H.V=function(N,W,R,V){var n=0,A=0,l=V.length>>>1;\r\n\twhile(A<R){var M=N[A+W];V[A<<1]=0;V[(A<<1)+1]=M;if(M>n)n=M;A++}while(A<l){V[A<<1]=0;V[(A<<1)+1]=0;A++}return n};\r\n\tH.H.n=function(N,W){var R=H.H.m,V=N.length,n,A,l,M,I,e=R.j;for(var M=0;M<=W;M++)e[M]=0;for(M=1;M<V;M+=2)e[N[M]]++;\r\n\tvar b=R.K;n=0;e[0]=0;for(A=1;A<=W;A++){n=n+e[A-1]<<1;b[A]=n}for(l=0;l<V;l+=2){I=N[l+1];if(I!=0){N[l]=b[I];\r\n\tb[I]++}}};H.H.A=function(N,W,R){var V=N.length,n=H.H.m,A=n.r;for(var l=0;l<V;l+=2)if(N[l+1]!=0){var M=l>>1,I=N[l+1],e=M<<4|I,b=W-I,Z=N[l]<<b,m=Z+(1<<b);\r\n\twhile(Z!=m){var J=A[Z]>>>15-W;R[J]=e;Z++}}};H.H.l=function(N,W){var R=H.H.m.r,V=15-W;for(var n=0;n<N.length;\r\n\tn+=2){var A=N[n]<<W-N[n+1];N[n]=R[A]>>>V}};H.H.M=function(N,W,R){R=R<<(W&7);var V=W>>>3;N[V]|=R;N[V+1]|=R>>>8};\r\n\tH.H.I=function(N,W,R){R=R<<(W&7);var V=W>>>3;N[V]|=R;N[V+1]|=R>>>8;N[V+2]|=R>>>16};H.H.e=function(N,W,R){return(N[W>>>3]|N[(W>>>3)+1]<<8)>>>(W&7)&(1<<R)-1};\r\n\tH.H.b=function(N,W,R){return(N[W>>>3]|N[(W>>>3)+1]<<8|N[(W>>>3)+2]<<16)>>>(W&7)&(1<<R)-1};H.H.Z=function(N,W){return(N[W>>>3]|N[(W>>>3)+1]<<8|N[(W>>>3)+2]<<16)>>>(W&7)};\r\n\tH.H.i=function(N,W){return(N[W>>>3]|N[(W>>>3)+1]<<8|N[(W>>>3)+2]<<16|N[(W>>>3)+3]<<24)>>>(W&7)};H.H.m=function(){var N=Uint16Array,W=Uint32Array;\r\n\treturn{K:new N(16),j:new N(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new N(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new W(32),J:new N(512),_:[],h:new N(32),$:[],w:new N(32768),C:[],v:[],d:new N(32768),D:[],u:new N(512),Q:[],r:new N(1<<15),s:new W(286),Y:new W(30),a:new W(19),t:new W(15e3),k:new N(1<<16),g:new N(1<<15)}}();\r\n\t(function(){var N=H.H.m,W=1<<15;for(var R=0;R<W;R++){var V=R;V=(V&2863311530)>>>1|(V&1431655765)<<1;\r\n\tV=(V&3435973836)>>>2|(V&858993459)<<2;V=(V&4042322160)>>>4|(V&252645135)<<4;V=(V&4278255360)>>>8|(V&16711935)<<8;\r\n\tN.r[R]=(V>>>16|V<<16)>>>17}function n(A,l,M){while(l--!=0)A.push(0,M)}for(var R=0;R<32;R++){N.q[R]=N.S[R]<<3|N.T[R];\r\n\tN.c[R]=N.p[R]<<4|N.z[R]}n(N._,144,8);n(N._,255-143,9);n(N._,279-255,7);n(N._,287-279,8);H.H.n(N._,9);\r\n\tH.H.A(N._,9,N.J);H.H.l(N._,9);n(N.$,32,5);H.H.n(N.$,5);H.H.A(N.$,5,N.h);H.H.l(N.$,5);n(N.Q,19,0);n(N.C,286,0);\r\n\tn(N.D,30,0);n(N.v,320,0)}());return H.H.N}();\r\n\t\r\n\t\r\n\r\nUTIF.LosslessJpegDecode =function(){var b,O;function l(){return b[O++]}function m(){return b[O++]<<8|b[O++]}function a0(h){var V=l(),I=[0,0,0,255],f=[],G=8;\r\nfor(var w=0;w<16;w++)f[w]=l();for(var w=0;w<16;w++){for(var x=0;x<f[w];x++){var T=z(I,0,w+1,1);I[T+3]=l()}}var E=new Uint8Array(1<<G);\r\nh[V]=[new Uint8Array(I),E];for(var w=0;w<1<<G;w++){var s=G,_=w,Y=0,F=0;while(I[Y+3]==255&&s!=0){F=_>>--s&1;\r\nY=I[Y+F]}E[w]=Y}}function z(h,V,I,f){if(h[V+3]!=255)return 0;if(I==0)return V;for(var w=0;w<2;w++){if(h[V+w]==0){h[V+w]=h.length;\r\nh.push(0,0,f,255)}var x=z(h,h[V+w],I-1,f+1);if(x!=0)return x}return 0}function i(h){var V=h.b,I=h.f;\r\nwhile(V<25&&h.a<h.d){var f=h.data[h.a++];if(f==255&&!h.c)h.a++;I=I<<8|f;V+=8}if(V<0)throw\"e\";h.b=V;h.f=I}function H(h,V){if(V.b<h)i(V);\r\nreturn V.f>>(V.b-=h)&65535>>16-h}function g(h,V){var I=h[0],f=0,w=255,x=0;if(V.b<16)i(V);var T=V.f>>V.b-8&255;\r\nf=h[1][T];w=I[f+3];V.b-=I[f+2];while(w==255){x=V.f>>--V.b&1;f=I[f+x];w=I[f+3]}return w}function P(h,V){if(h<32768>>16-V)h+=-(1<<V)+1;\r\nreturn h}function a2(h,V){var I=g(h,V);if(I==0)return 0;if(I==16)return-32768;var f=H(I,V);return P(f,I)}function X(h,V,I,f,w,x){var T=0;\r\nfor(var G=0;G<x;G++){var s=G*V;for(var _=0;_<V;_+=w){T++;for(var Y=0;Y<w;Y++)h[s+_+Y]=a2(f[Y],I)}if(I.e!=0&&T%I.e==0&&G!=0){var F=I.a,t=I.data;\r\nwhile(t[F]!=255||!(208<=t[F+1]&&t[F+1]<=215))F--;I.a=F+2;I.f=0;I.b=0}}}function o(h,V){return P(H(h,V),h)}function a1(h,V,I,f,w){var x=b.length-O;\r\nfor(var T=0;T<x;T+=4){var G=b[O+T];b[O+T]=b[O+T+3];b[O+T+3]=G;var G=b[O+T+1];b[O+T+1]=b[O+T+2];b[O+T+2]=G}for(var E=0;\r\nE<w;E++){var s=32768,_=32768;for(var Y=0;Y<V;Y+=2){var F=g(f,I),t=g(f,I);if(F!=0)s+=o(F,I);if(t!=0)_+=o(t,I);\r\nh[E*V+Y]=s&65535;h[E*V+Y+1]=_&65535}}}function C(h){b=h;O=0;if(m()!=65496)throw\"e\";var V=[],I=0,f=0,w=0,x=[],T=[],G=[],E=0,s=0,_=0;\r\nwhile(!0){var Y=m();if(Y==65535){O--;continue}var F=m();if(Y==65475){f=l();s=m();_=m();E=l();for(var t=0;\r\nt<E;t++){var a=l(),J=l(),r=l();if(r!=0)throw\"e\";V[a]=[t,J>>4,J&15]}}else if(Y==65476){var a3=O+F-2;while(O<a3)a0(T)}else if(Y==65498){O++;\r\nfor(var t=0;t<E;t++){var a5=l(),v=V[a5];G[v[0]]=T[l()>>>4];x[v[0]]=v.slice(1)}I=l();O+=2;break}else if(Y==65501){w=m()}else{O+=F-2}}var a4=f>8?Uint16Array:Uint8Array,$=new a4(s*_*E),M={b:0,f:0,c:I==8,a:O,data:b,d:b.length,e:w};\r\nif(M.c)a1($,_*E,M,G[0],s);else{var c=[],p=0,D=0;for(var t=0;t<E;t++){var N=x[t],S=N[0],K=N[1];if(S>p)p=S;\r\nif(K>D)D=K;c.push(S*K)}if(p!=1||D!=1){if(E!=3||c[1]!=1||c[2]!=1)throw\"e\";if(p!=2||D!=1&&D!=2)throw\"e\";\r\nvar u=[],Z=0;for(var t=0;t<E;t++){for(var R=0;R<c[t];R++)u.push(G[t]);Z+=c[t]}var B=_/p,e=s/D,d=B*e;\r\nX($,B*Z,M,u,Z,e);j($,I,B,e,Z-2,Z,Z,f);var A=new Uint16Array(d*c[0]);if(p==2&&D==2){for(var t=0;t<d;t++){A[4*t]=$[6*t];\r\nA[4*t+1]=$[6*t+1];A[4*t+2]=$[6*t+2];A[4*t+3]=$[6*t+3]}j(A,I,B*4,e,0,1,1,f);for(var t=0;t<d;t++){$[6*t]=A[4*t];\r\n$[6*t+1]=A[4*t+1];$[6*t+2]=A[4*t+2];$[6*t+3]=A[4*t+3]}}if(p==2&&D==1){for(var t=0;t<d;t++){A[2*t]=$[4*t];\r\nA[2*t+1]=$[4*t+1]}j(A,I,B*2,e,0,1,1,f);for(var t=0;t<d;t++){$[4*t]=A[2*t];$[4*t+1]=A[2*t+1]}}var n=$.slice(0);\r\nfor(var K=0;K<s;K++){if(D==2)for(var S=0;S<_;S++){var q=(K*_+S)*E,k=((K>>>1)*B+(S>>>1))*Z,y=(K&1)*2+(S&1);\r\n$[q]=n[k+y];$[q+1]=n[k+4];$[q+2]=n[k+5]}else for(var S=0;S<_;S++){var q=(K*_+S)*E,k=(K*B+(S>>>1))*Z,y=S&1;\r\n$[q]=n[k+y];$[q+1]=n[k+2];$[q+2]=n[k+3]}}}else{X($,_*E,M,G,E,s);if(w==0)j($,I,_,s,0,E,E,f);else{var U=Math.floor(w/_);\r\nfor(var K=0;K<s;K+=U){var L=$.slice(K*_*E,(K+U)*_*E);j(L,I,_,U,0,E,E,f);$.set(L,K*_*E)}}}}return $}function j(h,V,I,f,w,x,G,E){var s=I*G;\r\nfor(var _=w;_<x;_++)h[_]+=1<<E-1;for(var Y=G;Y<s;Y+=G)for(var _=w;_<x;_++)h[Y+_]+=h[Y+_-G];for(var F=1;\r\nF<f;F++){var t=F*s;for(var _=w;_<x;_++)h[t+_]+=h[t+_-s];for(var Y=G;Y<s;Y+=G){for(var _=w;_<x;_++){var a=t+Y+_,J=a-s,r=h[a-G],Q=0;\r\nif(V==0)Q=0;else if(V==1)Q=r;else if(V==2)Q=h[J];else if(V==3)Q=h[J-G];else if(V==4)Q=r+(h[J]-h[J-G]);\r\nelse if(V==5)Q=r+(h[J]-h[J-G]>>>1);else if(V==6)Q=h[J]+(r-h[J-G]>>>1);else if(V==7)Q=r+h[J]>>>1;else throw V;\r\nh[a]+=Q}}}}return C}();\r\n\r\n\r\n(function(){var G=0,F=1,i=2,b=3,J=4,N=5,E=6,s=7,c=8,T=9,a3=10,f=11,q=12,M=13,m=14,x=15,L=16,$=17,p=18;\r\nfunction a5(t){var Z=UTIF._binBE.readUshort,u={b:Z(t,0),i:t[2],C:t[3],u:t[4],q:Z(t,5),k:Z(t,7),e:Z(t,9),l:Z(t,11),s:t[13],d:Z(t,14)};\r\nif(u.b!=18771||u.i>1||u.q<6||u.q%6||u.e<768||u.e%24||u.l!=768||u.k<u.l||u.k%u.l||u.k-u.e>=u.l||u.s>16||u.s!=u.k/u.l||u.s!=Math.ceil(u.e/u.l)||u.d!=u.q/6||u.u!=12&&u.u!=14&&u.u!=16||u.C!=16&&u.C!=0){throw\"Invalid data\"}if(u.i==0){throw\"Not implemented. We need this file!\"}u.h=u.C==16;\r\nu.m=(u.h?u.l*2/3:u.l>>>1)|0;u.A=u.m+2;u.f=64;u.g=(1<<u.u)-1;u.n=4*u.u;return u}function a7(t,Z){var u=new Array(Z.s),e=4*Z.s,Q=16+e;\r\nif(e&12)Q+=16-(e&12);for(var V=0,O=16;V<Z.s;O+=4){var o=UTIF._binBE.readUint(t,O);u[V]=t.slice(Q,Q+o);u[V].j=0;u[V].a=0;\r\nQ+=o;V++}if(Q!=t.length)throw\"Invalid data\";return u}function a6(t,Z){for(var u=-Z[4],e=0;u<=Z[4];e++,u++){t[e]=u<=-Z[3]?-4:u<=-Z[2]?-3:u<=-Z[1]?-2:u<-Z[0]?-1:u<=Z[0]?0:u<Z[1]?1:u<Z[2]?2:u<Z[3]?3:4}}function a1(t,Z,u){var e=[Z,3*Z+18,5*Z+67,7*Z+276,u];\r\nt.o=Z;t.w=(e[4]+2*Z)/(2*Z+1)+1|0;t.v=Math.ceil(Math.log2(t.w));t.t=9;a6(t.c,e)}function a2(t){var Z={c:new Int8Array(2<<t.u)};\r\na1(Z,0,t.g);return Z}function D(t){var Z=[[],[],[]],u=Math.max(2,t.w+32>>>6);for(var e=0;e<3;e++){for(var Q=0;\r\nQ<41;Q++){Z[e][Q]=[u,1]}}return Z}function a4(t){for(var Z=-1,u=0;!u;Z++){u=t[t.j]>>>7-t.a&1;t.a++;t.a&=7;\r\nif(!t.a)t.j++}return Z}function K(t,Z){var u=0,e=8-t.a,Q=t.j,V=t.a;if(Z){if(Z>=e){do{u<<=e;Z-=e;u|=t[t.j]&(1<<e)-1;\r\nt.j++;e=8}while(Z>=8)}if(Z){u<<=Z;e-=Z;u|=t[t.j]>>>e&(1<<Z)-1}t.a=8-e}return u}function a0(t,Z){var u=0;\r\nif(Z<t){while(u<=14&&Z<<++u<t);}return u}function r(t,Z,u,e,Q,V,O,o){if(o==null)o=0;var X=V+1,k=X%2,j=0,I=0,a=0,l,R,w=e[Q],S=e[Q-1],H=e[Q-2][X],g=S[X-1],Y=S[X],P=S[X+1],A=w[X-1],v=w[X+1],y=Math.abs,d,C,n,h;\r\nif(k){d=y(P-Y);C=y(H-Y);n=y(g-Y)}if(k){h=d>n&&C<d?H+g:d<n&&C<n?H+P:P+g;h=h+2*Y>>>2;if(o){w[X]=h;return}l=Z.t*Z.c[t.g+Y-H]+Z.c[t.g+g-Y]}else{h=Y>g&&Y>P||Y<g&&Y<P?v+A+2*Y>>>2:A+v>>>1;\r\nl=Z.t*Z.c[t.g+Y-g]+Z.c[t.g+g-A]}R=y(l);var W=a4(u);if(W<t.n-Z.v-1){var z=a0(O[R][0],O[R][1]);a=K(u,z)+(W<<z)}else{a=K(u,Z.v)+1}a=a&1?-1-(a>>>1):a>>>1;\r\nO[R][0]+=y(a);if(O[R][1]==t.f){O[R][0]>>>=1;O[R][1]>>>=1}O[R][1]++;h=l<0?h-a:h+a;if(t.i){if(h<0)h+=Z.w;\r\nelse if(h>t.g)h-=Z.w}w[X]=h>=0?Math.min(h,t.g):0}function U(t,Z,u){var e=t[0].length;for(var Q=Z;Q<=u;\r\nQ++){t[Q][0]=t[Q-1][1];t[Q][e-1]=t[Q-1][e-2]}}function B(t){U(t,s,q);U(t,i,J);U(t,x,$)}function _(t,Z,u,e,Q,V,O,o,X,k,j,I,a){var l=0,R=1,w=Q<M&&Q>J;\r\nwhile(R<t.m){if(l<t.m){r(t,Z,u,e,Q,l,O[X],t.h&&(w&&k||!w&&(j||(l&I)==a)));r(t,Z,u,e,V,l,O[X],t.h&&(!w&&k||w&&(j||(l&I)==a)));\r\nl+=2}if(l>8){r(t,Z,u,e,Q,R,o[X]);r(t,Z,u,e,V,R,o[X]);R+=2}}B(e)}function a8(t,Z,u,e,Q,V){_(t,Z,u,e,i,s,Q,V,0,0,1,0,8);\r\n_(t,Z,u,e,c,x,Q,V,1,0,1,0,8);_(t,Z,u,e,b,T,Q,V,2,1,0,3,0);_(t,Z,u,e,a3,L,Q,V,0,0,0,3,2);_(t,Z,u,e,J,f,Q,V,1,0,0,3,2);\r\n_(t,Z,u,e,q,$,Q,V,2,1,0,3,0)}function a9(t,Z,u,e,Q,V){var O=V.length,o=t.l;if(Q+1==t.s)o=t.e-Q*t.l;var X=6*t.e*e+Q*t.l;\r\nfor(var k=0;k<6;k++){for(var j=0;j<o;j++){var I=V[k%O][j%O],a;if(I==0){a=i+(k>>>1)}else if(I==2){a=x+(k>>>1)}else{a=s+k}var l=t.h?(j*2/3&2147483646|j%3&1)+(j%3>>>1):j>>>1;\r\nZ[X+j]=u[a][l+1]}X+=t.e}}UTIF._decompressRAF=function(t,Z){var u=a5(t),e=a7(t,u),Q=a2(u),V=new Int16Array(u.e*u.q);\r\nif(Z==null){Z=u.h?[[1,1,0,1,1,2],[1,1,2,1,1,0],[2,0,1,0,2,1],[1,1,2,1,1,0],[1,1,0,1,1,2],[0,2,1,2,0,1]]:[[0,1],[3,2]]}var O=[[G,b],[F,J],[N,f],[E,q],[M,L],[m,$]],o=[];\r\nfor(var X=0;X<p;X++){o[X]=new Uint16Array(u.A)}for(var k=0;k<u.s;k++){var j=D(Q),I=D(Q);for(var X=0;\r\nX<p;X++){for(var a=0;a<u.A;a++){o[X][a]=0}}for(var l=0;l<u.d;l++){a8(u,Q,e[k],o,j,I);for(var X=0;X<6;\r\nX++){for(var a=0;a<u.A;a++){o[O[X][0]][a]=o[O[X][1]][a]}}a9(u,V,o,l,k,Z);for(var X=i;X<p;X++){if([N,E,M,m].indexOf(X)==-1){for(var a=0;\r\na<u.A;a++){o[X][a]=0}}}B(o)}}return V}}())\r\n\r\n\r\n\r\n})(UTIF);\r\n})();","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","\r\n'use strict'; \r\n// https://dev.to/stackfindover/zoom-image-point-with-mouse-wheel-11n3\r\nexport class Zoomer {\r\n\r\n    #image = null;\r\n    #pointX = 0;\r\n    #pointY = 0;\r\n    #isDragging = false;\r\n    #dragStartCoords = null;\r\n    imageProperties = {\r\n        currentRotation: 0,\r\n        currentScale: 1\r\n    };\r\n\r\n    constructor() {\r\n    }\r\n\r\n    resetTransform() {\r\n        //this.#image.style.transform = 'none';\r\n        //this.#image.style.transform = `translate(0px, 0px) \r\n        //    scale(1) rotate(${this.imageProperties.currentRotation}deg)`; //${this.imageProperties.currentScale}\r\n        this.#pointX = 0;\r\n        this.#pointY = 0;\r\n        this.imageProperties.currentScale = 1;\r\n        this.applyTransform();\r\n    }\r\n\r\n    applyTransform(isRotate = false) {\r\n        \r\n        //https://stackoverflow.com/questions/18531698/css-rotate-image-and-align-top-left\r\n        // https://css-tricks.com/almanac/properties/t/transform-origin/\r\n        // https://developer.mozilla.org/en-US/docs/Web/CSS/transform-function/rotate\r\n        //this.fitBest();\r\n        var translate = `translate(${this.#pointX}px, ${this.#pointY}px) `;\r\n        this.#image.classList.remove('rotate90');\r\n        this.#image.classList.remove('rotate270');\r\n        if (this.imageProperties.currentRotation === 90 && isRotate) {\r\n            this.#image.classList.add('rotate90');\r\n            translate = 'translateX(0%) translateY(-100%) ';\r\n        }\r\n        else if (this.imageProperties.currentRotation === 270 && isRotate) {\r\n            this.#image.classList.add('rotate270');\r\n            translate = 'translateX(-100%) translateY(0%) ';\r\n        }\r\n\r\n\r\n        this.#image.style.transform = translate + \r\n            ` scale(${this.imageProperties.currentScale}) rotate(${this.imageProperties.currentRotation}deg)`;\r\n    }\r\n\r\n    rotate(degrees, currentFit=null) {\r\n        // Do not reset for rotate\r\n        this.imageProperties.currentRotation = (this.imageProperties.currentRotation + degrees) % 360;\r\n\r\n        if (currentFit === 0) {\r\n            if (this.imageProperties.currentScale !== 1) {\r\n                this.resetTransform(true);\r\n                return;\r\n            }\r\n        } \r\n        this.applyTransform(true);\r\n    }\r\n\r\n    zoomOnly(isIn, isTransform=true) {\r\n        isIn ? (this.imageProperties.currentScale *= 1.2) : (this.imageProperties.currentScale /= 1.2);\r\n        // Restrict scale to 8 times maximum or minimum of original size\r\n        //the image size depends up on the fit method type. so do not put restriction \r\n        //this.imageProperties.currentScale = Math.min(Math.max(0.25, this.imageProperties.currentScale), 8);\r\n        if (isTransform) this.applyTransform();\r\n    }\r\n\r\n    setImage(image) {\r\n        this.#image = image;\r\n        this.#isDragging = false;\r\n        this.#dragStartCoords = null; \r\n        this.#image.onmousedown = (e) => { this.mousedown(e); };\r\n        this.#image.onwheel = (e) => { this.onwheel(e); };\r\n        this.#image.ondblclick = () => { this.zoomOnly(true); };\r\n\r\n        this.applyTransform(); //reply the transformations\r\n    }\r\n    mousedown(event) {\r\n        event.preventDefault(); \r\n        this.#isDragging = true;\r\n        this.#image.style.cursor = 'grabbing';\r\n        this.#dragStartCoords = { x: event.clientX - this.#pointX, y: event.clientY - this.#pointY };\r\n    }\r\n\r\n    mousemoved(event) {\r\n        if (!this.#isDragging) return;\r\n        if (event.buttons === 0) { //mouse moved without buttons\r\n            this.#isDragging = false;\r\n            return;\r\n        }\r\n        this.#pointX = event.clientX - this.#dragStartCoords.x;\r\n        this.#pointY = event.clientY - this.#dragStartCoords.y;\r\n        this.applyTransform();\r\n    }\r\n\r\n    mousereleased() {\r\n        if (!this.#isDragging) return;\r\n\r\n        this.#isDragging = false;\r\n        this.#image.style.cursor = 'grab';\r\n    }\r\n\r\n    onwheel(e) {\r\n        e.preventDefault();\r\n        const delta = (e.wheelDelta ? e.wheelDelta : -e.deltaY);\r\n\r\n        this.zoomOnly((delta > 0), false); //calculate the new scale\r\n\r\n        this.applyTransform(); \r\n    }\r\n    // todo not working\r\n    // zoomReposition(mouseX, mouseY, isIn) {\r\n    //     const xs = (mouseX - this.#pointX) / this.imageProperties.currentScale,\r\n    //         ys = (mouseY - this.#pointY) / this.imageProperties.currentScale;\r\n\r\n    //     this.zoomOnly(isIn, false); //calculate the new scale\r\n    //     //adjust the x and y based on the new scale.\r\n    //     this.#pointX = mouseX - xs * this.imageProperties.currentScale;\r\n    //     this.#pointY = mouseY - ys * this.imageProperties.currentScale;\r\n\r\n    //     this.applyTransform(); \r\n    // }\r\n}","'use strict'; \r\nimport {Zoomer} from './zoomer.js';\r\nexport class ImageOperations {\r\n        \r\n    #image = null;\r\n    #currentFit = 0;\r\n    constructor(imageContainerId, toolbarSelector) {\r\n        this.imageContainerId = imageContainerId;\r\n        this.imageContainer = document.querySelector('#' + imageContainerId);\r\n\r\n        //reset toolbar\r\n        this.toolbar = document.querySelector(toolbarSelector);\r\n        this.toolbar.innerText = '';\r\n\r\n        //zoom handler\r\n        this.zoomer = new Zoomer();\r\n\r\n        //rotate buttons\r\n        this.addButton('btn-secondary rotateLeft', 'fa-solid fa-rotate-left', '', () => this.rotateFix(270) );\r\n        this.addButton('btn-secondary rotate180', 'fa-solid fa-arrows-rotate', '', () => this.rotateFix(180) );\r\n        this.addButton('btn-secondary rotateRight', 'fa-solid fa-rotate-right', '', () => this.rotateFix(90) );\r\n\r\n        //zoom buttons\r\n        this.addButton('btn-secondary', 'fa-solid fa-maximize', '', \r\n            () => { this.fitBest(); this.zoomer.resetTransform(); } );\r\n        this.addButton('btn-secondary', 'fa-solid fa-arrows-left-right', '', \r\n            () => { this.fitWidth(); this.zoomer.resetTransform(); });\r\n        this.addButton('btn-secondary', '', '100%', \r\n            () => { this.originalSize(); this.zoomer.resetTransform(); });\r\n\r\n        this.addButton('btn-secondary', 'fa-solid fa-magnifying-glass-plus', '',\r\n            () => { this.zoomer.zoomOnly(true); });\r\n        this.addButton('btn-secondary', 'fa-solid fa-magnifying-glass-minus', '',\r\n            () => { this.zoomer.zoomOnly(false); });\r\n        window.addEventListener('mousemove', (e) => this.zoomer.mousemoved(e) );\r\n        window.addEventListener('mouseup', (e) => this.zoomer.mousereleased(e) );\r\n    }\r\n\r\n    get image() {\r\n        return this.#image;\r\n    }\r\n    set image(image) {\r\n        this.#image = image;\r\n        switch (this.#currentFit) {\r\n        case 1:\r\n            this.fitWidth();\r\n            break;\r\n        case 2:\r\n            this.originalSize();\r\n            break;\r\n    \r\n        default:\r\n            this.fitBest();\r\n            break;\r\n        }\r\n\r\n        //this will reset the transformation as well\r\n        this.zoomer.setImage(this.#image);\r\n    }\r\n    createButton(buttonClass, iconClass, label, onClick) {\r\n        const button = document.createElement('button');\r\n        if (buttonClass) {\r\n            const classArray = buttonClass.split(' ');\r\n            classArray.forEach(cssClass => {\r\n                button.classList.add(cssClass);\r\n            });\r\n        }\r\n        button.classList.add('btn', 'rotate-button');\r\n        if (iconClass) button.innerHTML = `<i class=\"fas ${iconClass}\"></i>`;\r\n        button.innerHTML += ` ${label}`;\r\n        button.addEventListener('click', onClick);\r\n        return button;\r\n    }\r\n    addButton(buttonClass, iconClass, label, onClick) {\r\n        const button = this.createButton(buttonClass, iconClass, label, onClick);\r\n        this.toolbar.appendChild(button);\r\n    }\r\n    rotateFix(degree) {\r\n        //this.topLeftImage();\r\n        this.zoomer.rotate(degree, this.#currentFit);\r\n    }\r\n\r\n    fitBest(){\r\n        this.#currentFit = 0;\r\n        this.#image.style.width = 'auto';\r\n        this.#image.style.height = 'auto';\r\n        this.#image.style.maxWidth = '100%';\r\n        this.#image.style.maxHeight = '100%';\r\n        this.centerTheImage();\r\n    }\r\n    \r\n    fitWidth() {\r\n        this.#currentFit = 1;\r\n        this.#image.style.width = '100%';\r\n        this.#image.style.height = 'auto';\r\n        this.#image.style.maxWidth = 'none';\r\n        this.#image.style.maxHeight = 'none';\r\n        this.topLeftImage();\r\n    }\r\n\r\n    originalSize(){\r\n        this.#currentFit = 2;\r\n        this.#image.style.width = 'auto';\r\n        this.#image.style.height = 'auto';\r\n        this.#image.style.maxWidth = 'none';\r\n        this.#image.style.maxHeight = 'none';\r\n        this.topLeftImage();\r\n    }\r\n    topLeftImage() {\r\n        this.imageContainer.style.display = '';\r\n        this.imageContainer.style.alignItems = '';\r\n        this.imageContainer.style.justifyContent = ''; \r\n    }\r\n    centerTheImage() {\r\n        this.imageContainer.style.display = 'flex';\r\n        this.imageContainer.style.alignItems = 'center';\r\n        this.imageContainer.style.justifyContent = 'center'; \r\n    }\r\n\r\n}","export class PageNavigationToolbar {\r\n    constructor(numPages, toolbarSelector, gotoCallback) {\r\n        this.numPages = numPages;\r\n        this.currentPage = 1;\r\n        this.toolbarSelector = toolbarSelector;\r\n        this.gotoCallback = gotoCallback;\r\n        this.toolbar = this.createToolbar();\r\n    }\r\n\r\n    createToolbar() {\r\n        const toolbar = document.querySelector(this.toolbarSelector);\r\n        if (this.numPages && this.numPages < 2) {\r\n            toolbar.innerText = ' Page 1/1';\r\n            return;\r\n        } \r\n        toolbar.innerText = ''; //clear existing items fa-1 end => fa-dice-one\r\n        this.firstButton = this.createButton('btn-secondary', 'fa-solid fa-backward-step', '', this.goToPage.bind(this, 1));\r\n        this.prevButton = this.createButton('btn-secondary', 'fa-solid fa-left-long', '', this.goToPreviousPage.bind(this));\r\n        this.nextButton = this.createButton('btn-secondary', 'fa-solid fa-right-long', '', this.goToNextPage.bind(this));\r\n        this.lastButton = this.createButton('btn-secondary', 'fa-solid fa-forward-step', '', this.goToPage.bind(this, this.numPages));\r\n\r\n        const pageNumberInput = document.createElement('input');\r\n        pageNumberInput.classList.add('pageNumber');\r\n        pageNumberInput.type = 'number';\r\n        pageNumberInput.min = 1;\r\n        pageNumberInput.max = this.numPages;\r\n        pageNumberInput.value = 1; \r\n        //extra characters for up down controls\r\n        pageNumberInput.style.width = (this.numPages.toString().length + 3) + 'ch';\r\n        pageNumberInput.style.textAlign = 'right';\r\n        pageNumberInput.addEventListener('change', this.goToPage.bind(this,null));\r\n\r\n        const pageCountSpan = document.createElement('span');\r\n        pageCountSpan.classList.add('pageCount');\r\n        pageCountSpan.innerHTML = ' / ' + this.numPages.toString();\r\n\r\n        this.firstButton.disabled = true;\r\n        toolbar.appendChild(this.firstButton);\r\n        this.prevButton.disabled = true;\r\n        toolbar.appendChild(this.prevButton);\r\n        toolbar.appendChild(pageNumberInput);\r\n        toolbar.appendChild(pageCountSpan);\r\n        toolbar.appendChild(this.nextButton);\r\n        toolbar.appendChild(this.lastButton);\r\n        return toolbar;\r\n    }\r\n\r\n    createButton(buttonClass, iconClass, label, onClick) {\r\n        const button = document.createElement('button');\r\n        if (buttonClass) {\r\n            const classArray = buttonClass.split(' ');\r\n            classArray.forEach(cssClass => {\r\n                button.classList.add(cssClass);\r\n            });\r\n        }\r\n        button.classList.add('btn', 'navigation-button');\r\n        button.innerHTML = `<i class=\"fas ${iconClass}\"></i> ${label}`;\r\n        button.addEventListener('click', onClick);\r\n        return button;\r\n    }\r\n\r\n    goToPage(pageNumber) {\r\n        const pageNumberInput = document.querySelector(this.toolbarSelector + ' .pageNumber');\r\n        if (pageNumber) {\r\n            this.currentPage = parseInt(pageNumber);\r\n            pageNumberInput.value = this.currentPage;\r\n        }\r\n        else {\r\n            this.currentPage = parseInt(pageNumberInput.value);\r\n        }\r\n        this.firstButton.disabled = false;\r\n        this.prevButton.disabled = false;\r\n        this.nextButton.disabled = false;\r\n        this.lastButton.disabled = false;\r\n        if(this.currentPage ==1) {\r\n            this.firstButton.disabled = true;\r\n            this.prevButton.disabled = true;\r\n        }\r\n        else if(this.currentPage == this.numPages) {\r\n            this.nextButton.disabled = true;\r\n            this.lastButton.disabled = true;\r\n        }\r\n        console.log(`Navigating to page ${this.currentPage}`);\r\n        this.gotoCallback();\r\n    }\r\n\r\n    goToPreviousPage() {\r\n        if (this.currentPage > 1) {\r\n            this.goToPage(this.currentPage - 1);\r\n        }\r\n    }\r\n\r\n    goToNextPage() {\r\n        if (this.currentPage < this.numPages) {\r\n            this.goToPage(this.currentPage + 1);\r\n        }\r\n    }\r\n}","'use strict'; \nimport UTIF from './UTIF.js';\nimport { ImageOperations } from './ImageOperations.js';\nimport { PageNavigationToolbar } from './PageNavigationToolbar.js';\nimport '../css/viewer.css';\n\nwindow.AptTec = window.AptTec || {};\n\n//https://www.scaler.com/topics/enum-in-javascript/\nwindow.AptTec.ViewerSources = Object.freeze({\n    //supports both TIFF and browser formats\n    Url: 'Url',\n    Blob: 'Blob',\n    ArrayBuffer: 'ArrayBuffer',\n    //supports native browser file formats only. \n    //https://en.wikipedia.org/wiki/Comparison_of_web_browsers#Image_format_support\n    //JPEG, GIF, PNG, BMP, ICO, WebP, APNG, 2D Canvas, and SVG(partial)\n    DataURL: 'DataURL'\n});\n\nwindow.AptTec.Viewer = class TiffViewer {\n\n    #viewerSource ='';\n    #source= null;\n    #imageUri = null;\n    #buffer = null;\n    #dataUrl = null;\n    #ifds = null;\n    #fileFormat = null;\n    #internalSource = null;\n\n    // todo detect file type from array buffer https://www.npmjs.com/package/file-type\n    // https://stackoverflow.com/questions/18299806/how-to-check-file-mime-type-with-javascript-before-upload\n    constructor(viewerSource, source, fileFormat, imageContainerId, toolbarContainer, pageToolbarContainer) {\n        if (!viewerSource) throw new Error('Mandatory argument \\'viewerSource\\' is missing');\n        if (!source) throw new Error('Mandatory argument \\'source\\' is missing');\n        if (!fileFormat) throw new Error('Mandatory argument \\'fileFormat\\' is missing');\n        if (!imageContainerId) throw new Error('Mandatory argument \\'imageContainerId\\' is missing');\n\n        this.#fileFormat = fileFormat;\n        this.#viewerSource = viewerSource;\n        this.#source = source;\n        if (this.#viewerSource === window.AptTec.ViewerSources.ArrayBuffer) {\n            this.#buffer = source;\n            this.#internalSource = this.#viewerSource;\n        }\n        else if (this.#viewerSource === window.AptTec.ViewerSources.DataURL) {\n            this.#dataUrl = source;\n            this.#internalSource = this.#viewerSource;\n        }\n        this.imageContainerId = imageContainerId;\n        this.toolbarContainer = toolbarContainer;\n        this.pageToolbarContainer = pageToolbarContainer;\n\n        this.imageSelector = `#${this.imageContainerId} #viewerImage`;\n        this.imageOperations = new ImageOperations(this.imageContainerId, this.toolbarContainer);\n        this.navigationToolbar = null;\n    }\n    \n    async show(pageNumber =1) {\n        if (this.#internalSource) \n            this.loadImage(pageNumber);\n\n        //load the buffer ONLY if not already loaded\n        if (this.#viewerSource === window.AptTec.ViewerSources.Url) {\n            await fetch(this.#source)\n                .then((response) => response.blob() )\n                .then((blob) => this.loadfromBlob(blob, pageNumber));\n        }\n        else if (this.#viewerSource === window.AptTec.ViewerSources.Blob) {\n            await this.loadfromBlob(this.#source, pageNumber);\n        }\n    }\n    async loadfromBlob(blob, pageNumber) {\n        if (this.#fileFormat.includes('/tif')) {\n            //containing TIFF or EXIF data. conver to to buffer\n            await blob.arrayBuffer()\n                .then(buffer => {\n                    this.#internalSource = window.AptTec.ViewerSources.ArrayBuffer;\n                    this.#buffer = buffer;\n                    this.loadImage(pageNumber); //so load the image as the buffer is ready\n                });\n        } else { //directly convert blob to dataurl\n            this.blobToDataURL(blob, function (dataurl) {\n                this.#internalSource = window.AptTec.ViewerSources.DataURL;\n                this.#dataUrl = dataurl;\n                this.loadImage(pageNumber);\n            });\n        }\n    }\n    //**blob to dataURL**\n    blobToDataURL(blob, callback) {\n        var a = new FileReader();\n        a.onload = (e) => { callback(e.target.result); };\n        a.readAsDataURL(blob);\n    }\n\n    //make sure the buffer is loaded before calling the loadImage\n    loadImage(pageNumber) { \n        const zoomerDiv =  document.getElementById(this.imageContainerId);\n        zoomerDiv.innerHTML = ''; //clear the dom\n        zoomerDiv.innerHTML = '<img id=\"viewerImage\" alt=\"ViewerImage\">';\n        this.imageOperations.image = document.querySelector(this.imageSelector) ; \n        //delete old uri object\n        if (this.#imageUri) URL.revokeObjectURL(this.#imageUri);\n\n        if (this.#internalSource === window.AptTec.ViewerSources.DataURL) {\n            this.#imageUri = this.#dataUrl;\n            this.pageCount =1;\n        } else {\n            //containing TIFF or EXIF data\n            this.#imageUri = this.#bufferToURI(this.#buffer, pageNumber);\n        }\n\n        if (!(this.navigationToolbar)) { // check the buffer is parsed for the first time\n            // Create an instance of PageNavigationToolbar with this.pageCount pages\n            this.navigationToolbar = new PageNavigationToolbar(this.pageCount, this.pageToolbarContainer,\n                () => this.pagechanged()); // Subscribe to the page change event \n        }\n        this.imageOperations.image.src = this.#imageUri;\n    }\n\n    pagechanged() {\n        console.log(`Page changed to ${this.navigationToolbar.currentPage}`);\n        // Implement your logic to update the content for the new page\n        this.loadImage(this.navigationToolbar.currentPage);\n    }\n\n    //taken from UTIF library and modified to select the page\n    #bufferToURI(buff, pageNumber) {\n        const pageIndex = pageNumber-1;\n        if (!(this.#ifds)) {\n            this.#ifds = UTIF.decode(buff);  //this operation is required only once per document. not for each page.\n            //returns an array of \"IFDs\" (image file directories). ?? Pages\n            //Each IFD is an object, keys are \"tXYZ\" (XYZ is a TIFF tag number), values are values of these tags. \n            //You can get the the dimension (and other properties, \"metadata\") of the image without decompressing pixel data.\n            this.pageCount = this.#ifds.length;\n        }\n        var vsns = this.#ifds, ma = 0, page = vsns[pageIndex]; \n        if (this.#ifds[pageIndex].subIFD) vsns = vsns.concat(this.#ifds[pageIndex].subIFD);\n        for (var i = 0; i < vsns.length; i++)\n        {\n            var img = vsns[i];\n            if (img['t258'] == null || img['t258'].length < 3) continue;\n            var ar = img['t256'] * img['t257'];\n            if (ar > ma) { ma = ar; page = img; }\n        }\n        UTIF.decodeImage(buff, page, this.#ifds);\n        //If there is an image inside the IFD, it is decoded and three new properties are added to the IFD:\n        //width: the width of the image\n        //height: the height of the image\n        //data: decompressed pixel data of the image\n        var w = page.width, h = page.height;\n        const rgba = UTIF.toRGBA8(page);  // Uint8Array with RGBA pixels\n        //returns Uint8Array of the image in RGBA format, 8 bits per channel \n        //(ready to use in context2d.putImageData() etc.)\n        var cnv = document.createElement('canvas'); cnv.width = w; cnv.height = h;\n        var ctx = cnv.getContext('2d');\n        var imgd = new ImageData(new Uint8ClampedArray(rgba.buffer), w, h);\n        ctx.putImageData(imgd, 0, 0);\n        return cnv.toDataURL();\n    }\n};"],"names":["UTIF","log","process","console","apply","arguments","module","exports","e","U","Z","u","K","V","g","N","O","h","w","i","D","L","H","main","W","p","this","message","prototype","Error","name","constructor","ak","Uint8Array","t","ac","ah","ao","ar","ai","s","ad","Q","n","a5","E","F","f","G","a","push","children","index","C","pop","length","a2","P","a7","d","a8","X","_","k","R","c","T","m","z","J","r","q","x","Y","I","l","DNLMarkerError","M","EOIMarkerError","j","A","y","S","o","Math","min","an","offset","al","v","$","b","a0","Int16Array","toString","parse","B","ab","subarray","ceil","af","ap","ae","markerLoop","version","Uint16Array","precision","a4","a6","ex","width","height","Uint8ClampedArray","Uint32Array","Int32Array","getData","forceRGB","isSourcePDF","JpegDecoder","encodeImage","rgba","metadata","idf","prfx","encode","img","data","buffer","ifds","bin","_binBE","writeUshort","ifdo","writeUint","noffs","_writeIFD","_types","basic","slice","decode","buff","prm","parseMN","debug","id","readASCII","_binLE","readUshort","readUint","cnt","typ","_readIFD","decodeImage","isLE","cmpr","fo","spp","bipp","round","bipl","soff","bcnt","bytes","bilen","tw","th","tx","floor","ty","tbuff","fill","_decompress","_copyTile","rps","off","len","tgt","toff","_decodeG2","_decodeG3","_decodeG4","_decodeLZW","_decodeOldJPEG","_decodeNewJPEG","src","_inflateRaw","set","_decodeVC5","_decodeARW","_decodePackBits","_decodeThunder","_decodePanasonic","_decodeNikon","_decodeLogLuv32","bps","noc","bpp","bpl","roff","ntoff","nv","sh","isOdd","pixel_base","row","col","crow","img_buffer","rawWidth","rawHeight","bitsPerSample","RW2_Format","bidx","imageIndex","vpos","byte","pred","nonz","idx","result","getDataRaw","bits","arr_a","arr_b","getBufferDataRW6","resetPredNonzeros","is12bit","readPageRw6Fn","pixelsPerBlock","pixelbase0","pixelbase_compare","spix_compare","pixel_mask","blocksperrow","rowbytes","bufferSize","rowstoread","readlen","rblock","base","epixel","blockSize","ag","ax","aa","Date","now","readShort","aG","abs","sign","at","a1","pow","ay","aw","aF","au","a9","aC","aB","aq","as","aj","aH","am","qw","io","out","oo","_ljpeg_diff","huff","diff","getbithuff","_getbithuff","inp","src_length","raw_width","tiff_bps","val","max","imax","imin","bit","dp","pix","clr","_putsF","b0","b1","b2","tab","sum","ljpeg_diff","lim","imgs","nikon_tree","tree","split","make_decoder","_make_decoder","mn","exifIFD","makerNote","md","mdo","ver0","ver1","vpred","shl","step","csize","hpred","bti","dt","pos","nbits","_get_byte","bitbuf","vbits","reset","source","si","tables","tlen","boff","byte1","byte2","LosslessJpegDecode","olen","rst","parser","decoded","_decodeOldJPEGInit","sosMarker","SOI","joff","isTiled","jpgIchgFmt","jifoff","jpgIchgFmtLen","jiflen","soffTag","ycbcrss","ssx","ssy","jpgresint","jpegOffset","ooff","qtables","htables","nc","sofpos","tmptab","tmpoff","soslen","sosoff","sofPosition","dlen","buffoff","jpegData","SOS","EOI","sa","Int8Array","ta","d2","d3","qoff","px","msk","_dmap","_lens","addKeys","lens","arr","i0","inc","termW","termB","makeW","makeB","makeA","lensW","lensB","slen","wrd","line","pline","_makeDiff","mode","toRead","_findDiff","dl","_addNtimes","_writeBits","twoDim","is1D","endsWith","tags","Array","concat","rest","gps","depth","ifd","repeat","tag","type","num","voff","no","byteLength","o0","ri","readInt","readFloat","readDouble","oarr","subfd","subIFD","gpsiIFD","dngPrvt","fujiIFD","inds","subsub","obj","types","keys","Object","knum","eoff","ki","key","parseInt","writeASCII","wr","writeInt","nu","de","writeDouble","toRGBA8","scl","gamma","area","intp","smpls","sfmt","qi","f32","Float32Array","ti","ndt","pmap","cv","map","cn","nexta","mi","dof","gotAlpha","window","UDOC","cmykToRgb","Cb","Cr","sX","sY","replaceIMG","document","getElementsByTagName","sufs","getAttribute","suff","toLowerCase","indexOf","xhr","XMLHttpRequest","_xhrs","_imgs","open","responseType","onload","_imgLoaded","send","ind","target","splice","setAttribute","bufferToURI","response","vsns","ma","page","cnv","createElement","ctx","getContext","imgd","ImageData","putImageData","toDataURL","nextZero","ui8","i16","i32","ui32","String","fromCharCode","fl32","fl64","charCodeAt","Float64Array","tb","xoff","yoff","xlim","ylim","tof","sof","byteOffset","a3","_decompressRAF","log2","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","getter","__esModule","definition","defineProperty","enumerable","get","prop","hasOwnProperty","call","Zoomer","imageProperties","currentRotation","currentScale","resetTransform","applyTransform","isRotate","translate","classList","remove","add","style","transform","rotate","degrees","currentFit","zoomOnly","isIn","isTransform","setImage","image","onmousedown","mousedown","onwheel","ondblclick","event","preventDefault","cursor","clientX","clientY","mousemoved","buttons","mousereleased","delta","wheelDelta","deltaY","ImageOperations","imageContainerId","toolbarSelector","imageContainer","querySelector","toolbar","innerText","zoomer","addButton","rotateFix","fitBest","fitWidth","originalSize","addEventListener","createButton","buttonClass","iconClass","label","onClick","button","forEach","cssClass","innerHTML","appendChild","degree","maxWidth","maxHeight","centerTheImage","topLeftImage","display","alignItems","justifyContent","PageNavigationToolbar","numPages","gotoCallback","currentPage","createToolbar","firstButton","goToPage","bind","prevButton","goToPreviousPage","nextButton","goToNextPage","lastButton","pageNumberInput","value","textAlign","pageCountSpan","disabled","pageNumber","AptTec","ViewerSources","freeze","Url","Blob","ArrayBuffer","DataURL","Viewer","viewerSource","fileFormat","toolbarContainer","pageToolbarContainer","imageSelector","imageOperations","navigationToolbar","show","loadImage","fetch","then","blob","loadfromBlob","includes","arrayBuffer","blobToDataURL","dataurl","callback","FileReader","readAsDataURL","zoomerDiv","getElementById","URL","revokeObjectURL","pageCount","pagechanged","pageIndex"],"sourceRoot":""}